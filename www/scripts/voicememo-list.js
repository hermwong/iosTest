/*!
 * Copyright 2017 Google Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing
 * permissions and limitations under the License.
 */
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/**
 * Copyright 2015 Google Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */

'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _controllerListController = require('./controller/ListController');

var _controllerListController2 = _interopRequireDefault(_controllerListController);

new _controllerListController2['default']();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZXJtYW53L0RvY3VtZW50cy9oZXJtd29uZy9pb3NUZXN0L3NyYy9zY3JpcHRzL3ZvaWNlbWVtby1saXN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozt3Q0FpQjJCLDZCQUE2Qjs7OztBQUV4RCwyQ0FBb0IsQ0FBQyIsImZpbGUiOiIvVXNlcnMvaGVybWFudy9Eb2N1bWVudHMvaGVybXdvbmcvaW9zVGVzdC9zcmMvc2NyaXB0cy92b2ljZW1lbW8tbGlzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IDIwMTUgR29vZ2xlIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKlxuICovXG5cbmltcG9ydCBMaXN0Q29udHJvbGxlciBmcm9tICcuL2NvbnRyb2xsZXIvTGlzdENvbnRyb2xsZXInO1xuXG5uZXcgTGlzdENvbnRyb2xsZXIoKTtcbiJdfQ==
},{"./controller/ListController":4}],2:[function(require,module,exports){
/**
 *
 * Copyright 2015 Google Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});
var Config = {
  name: 'voicememo',
  version: 1,
  stores: {
    'MemoModel': {
      properties: {
        autoIncrement: true,
        keyPath: 'url'
      },
      indexes: {
        time: { unique: true }
      }
    },
    'AppModel': {
      deleteOnUpgrade: true,
      properties: {
        autoIncrement: true
      }
    }
  }
};

exports['default'] = Config;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZXJtYW53L0RvY3VtZW50cy9oZXJtd29uZy9pb3NUZXN0L3NyYy9zY3JpcHRzL2NvbmZpZy9Db25maWcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQWlCQSxJQUFNLE1BQU0sR0FBRztBQUNiLE1BQUksRUFBRSxXQUFXO0FBQ2pCLFNBQU8sRUFBRSxDQUFDO0FBQ1YsUUFBTSxFQUFFO0FBQ04sZUFBVyxFQUFFO0FBQ1gsZ0JBQVUsRUFBRTtBQUNWLHFCQUFhLEVBQUUsSUFBSTtBQUNuQixlQUFPLEVBQUUsS0FBSztPQUNmO0FBQ0QsYUFBTyxFQUFFO0FBQ1AsWUFBSSxFQUFFLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRTtPQUN2QjtLQUNGO0FBQ0QsY0FBVSxFQUFFO0FBQ1YscUJBQWUsRUFBRSxJQUFJO0FBQ3JCLGdCQUFVLEVBQUU7QUFDVixxQkFBYSxFQUFFLElBQUk7T0FDcEI7S0FDRjtHQUNGO0NBQ0YsQ0FBQzs7cUJBRWEsTUFBTSIsImZpbGUiOiIvVXNlcnMvaGVybWFudy9Eb2N1bWVudHMvaGVybXdvbmcvaW9zVGVzdC9zcmMvc2NyaXB0cy9jb25maWcvQ29uZmlnLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKlxuICogQ29weXJpZ2h0IDIwMTUgR29vZ2xlIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuY29uc3QgQ29uZmlnID0ge1xuICBuYW1lOiAndm9pY2VtZW1vJyxcbiAgdmVyc2lvbjogMSxcbiAgc3RvcmVzOiB7XG4gICAgJ01lbW9Nb2RlbCc6IHtcbiAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgYXV0b0luY3JlbWVudDogdHJ1ZSxcbiAgICAgICAga2V5UGF0aDogJ3VybCdcbiAgICAgIH0sXG4gICAgICBpbmRleGVzOiB7XG4gICAgICAgIHRpbWU6IHsgdW5pcXVlOiB0cnVlIH1cbiAgICAgIH1cbiAgICB9LFxuICAgICdBcHBNb2RlbCc6IHtcbiAgICAgIGRlbGV0ZU9uVXBncmFkZTogdHJ1ZSxcbiAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgYXV0b0luY3JlbWVudDogdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgQ29uZmlnO1xuIl19
},{}],3:[function(require,module,exports){
/**
 *
 * Copyright 2015 Google Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var Controller = (function () {
  function Controller() {
    _classCallCheck(this, Controller);
  }

  _createClass(Controller, [{
    key: 'loadScript',
    value: function loadScript(url) {

      return new Promise(function (resolve, reject) {
        var script = document.createElement('script');
        script.async = true;
        script.src = url;

        script.onload = resolve;
        script.onerror = reject;

        document.head.appendChild(script);
      });
    }
  }, {
    key: 'loadCSS',
    value: function loadCSS(url) {
      return new Promise(function (resolve, reject) {

        var xhr = new XMLHttpRequest();
        xhr.open('GET', url);
        xhr.responseType = 'text';
        xhr.onload = function (e) {

          if (this.status == 200) {

            var style = document.createElement('style');
            style.textContent = xhr.response;
            document.head.appendChild(style);
            resolve();
          } else {

            reject();
          }
        };

        xhr.send();
      });
    }
  }]);

  return Controller;
})();

exports['default'] = Controller;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZXJtYW53L0RvY3VtZW50cy9oZXJtd29uZy9pb3NUZXN0L3NyYy9zY3JpcHRzL2NvbnRyb2xsZXIvQ29udHJvbGxlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFpQnFCLFVBQVU7V0FBVixVQUFVOzBCQUFWLFVBQVU7OztlQUFWLFVBQVU7O1dBRWxCLG9CQUFDLEdBQUcsRUFBRTs7QUFFZixhQUFPLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFFLE1BQU0sRUFBSztBQUN0QyxZQUFJLE1BQU0sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQzlDLGNBQU0sQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO0FBQ3BCLGNBQU0sQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDOztBQUVqQixjQUFNLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQztBQUN4QixjQUFNLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQzs7QUFFeEIsZ0JBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDO09BQ25DLENBQUMsQ0FBQztLQUNKOzs7V0FFTyxpQkFBQyxHQUFHLEVBQUU7QUFDWixhQUFPLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFFLE1BQU0sRUFBSzs7QUFFdEMsWUFBSSxHQUFHLEdBQUcsSUFBSSxjQUFjLEVBQUUsQ0FBQztBQUMvQixXQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQztBQUNyQixXQUFHLENBQUMsWUFBWSxHQUFHLE1BQU0sQ0FBQztBQUMxQixXQUFHLENBQUMsTUFBTSxHQUFHLFVBQVMsQ0FBQyxFQUFFOztBQUV2QixjQUFJLElBQUksQ0FBQyxNQUFNLElBQUksR0FBRyxFQUFFOztBQUV0QixnQkFBSSxLQUFLLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUM1QyxpQkFBSyxDQUFDLFdBQVcsR0FBRyxHQUFHLENBQUMsUUFBUSxDQUFDO0FBQ2pDLG9CQUFRLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNqQyxtQkFBTyxFQUFFLENBQUM7V0FFWCxNQUFNOztBQUVMLGtCQUFNLEVBQUUsQ0FBQztXQUVWO1NBQ0YsQ0FBQTs7QUFFRCxXQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7T0FFWixDQUFDLENBQUM7S0FDSjs7O1NBekNrQixVQUFVOzs7cUJBQVYsVUFBVSIsImZpbGUiOiIvVXNlcnMvaGVybWFudy9Eb2N1bWVudHMvaGVybXdvbmcvaW9zVGVzdC9zcmMvc2NyaXB0cy9jb250cm9sbGVyL0NvbnRyb2xsZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqXG4gKiBDb3B5cmlnaHQgMjAxNSBHb29nbGUgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb250cm9sbGVyIHtcblxuICBsb2FkU2NyaXB0ICh1cmwpIHtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xuICAgICAgc2NyaXB0LnNyYyA9IHVybDtcblxuICAgICAgc2NyaXB0Lm9ubG9hZCA9IHJlc29sdmU7XG4gICAgICBzY3JpcHQub25lcnJvciA9IHJlamVjdDtcblxuICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuICAgIH0pO1xuICB9XG5cbiAgbG9hZENTUyAodXJsKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgeGhyLm9wZW4oJ0dFVCcsIHVybCk7XG4gICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ3RleHQnO1xuICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcblxuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT0gMjAwKSB7XG5cbiAgICAgICAgICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0geGhyLnJlc3BvbnNlO1xuICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgICAgICAgIHJlc29sdmUoKTtcblxuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgcmVqZWN0KCk7XG5cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB4aHIuc2VuZCgpO1xuXG4gICAgfSk7XG4gIH1cblxufVxuIl19
},{}],4:[function(require,module,exports){
/**
 *
 * Copyright 2015 Google Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _Controller2 = require('./Controller');

var _Controller3 = _interopRequireDefault(_Controller2);

var _modelMemoModel = require('../model/MemoModel');

var _modelMemoModel2 = _interopRequireDefault(_modelMemoModel);

var _libsRouter = require('../libs/Router');

var _libsRouter2 = _interopRequireDefault(_libsRouter);

var _libsPubSub = require('../libs/PubSub');

var _libsPubSub2 = _interopRequireDefault(_libsPubSub);

var ListController = (function (_Controller) {
  _inherits(ListController, _Controller);

  function ListController() {
    var _this = this;

    _classCallCheck(this, ListController);

    _get(Object.getPrototypeOf(ListController.prototype), 'constructor', this).call(this);

    this.memos = null;
    this.ctaView = document.querySelector('.js-cta');
    this.view = document.querySelector('.js-list-view');

    Promise.all([this.loadCSS('/styles/voicememo-list.css'), this.loadScript('/third_party/moment.min.js')]).then(function () {
      _this.getMemosAndPopulate();

      (0, _libsPubSub2['default'])().then(function (ps) {
        ps.sub(_modelMemoModel2['default'].UPDATED, function () {
          _this.getMemosAndPopulate();
        });
      });

      (0, _libsPubSub2['default'])().then(function (ps) {
        ps.sub('list-covered', function () {
          _this.view.classList.add('list-view--shrunk');
          _this.unsetTabIndexes();
        });
      });

      (0, _libsPubSub2['default'])().then(function (ps) {
        ps.sub('list-uncovered', function () {
          _this.view.classList.remove('list-view--shrunk');
          _this.setTabIndexes();
        });
      });

      (0, _libsPubSub2['default'])().then(function (ps) {
        ps.sub('list-locked', function () {
          _this.view.classList.add('list-view--locked');
          _this.unsetTabIndexes();
        });
      });

      (0, _libsPubSub2['default'])().then(function (ps) {
        ps.sub('list-unlocked', function () {
          _this.view.classList.remove('list-view--locked');
          _this.unsetTabIndexes();
        });
      });
    });
  }

  _createClass(ListController, [{
    key: 'getMemosAndPopulate',
    value: function getMemosAndPopulate() {
      var _this2 = this;

      _modelMemoModel2['default'].getAll('time', _modelMemoModel2['default'].DESCENDING).then(function (memos) {
        _this2.memos = memos;
        _this2.populate();
        _this2.setTabIndexes();
      });
    }
  }, {
    key: 'escapeHTML',
    value: function escapeHTML(str) {

      if (str === null) return str;

      // Similar to both http://php.net/htmlspecialchars and
      // http://www.2ality.com/2015/01/template-strings-html.html in what
      // it chooses to replace.
      return str.replace(/&/g, '&amp;').replace(/>/g, '&gt;').replace(/</g, '&lt;').replace(/"/g, '&quot;').replace(/'/g, '&apos;');
    }
  }, {
    key: 'populate',
    value: function populate() {
      var _this3 = this;

      if (!this.memos.length) {
        this.ctaView.classList.add('empty-set-cta--visible');
        return;
      }

      this.ctaView.classList.remove('empty-set-cta--visible');
      this.removeEventListeners();

      var list = '<ol class="list-view__contents">';

      this.memos.forEach(function (memo) {

        var memoTimeAgo = moment(memo.time).fromNow();
        var memoTitle = _this3.escapeHTML(memo.title);
        var memoDescription = _this3.escapeHTML(memo.description);

        list += '<li class="list-view__item" id="vm-' + memo.url + '" data-url="' + memo.url + '">\n                <div class="list-view__item-details">\n                  <div class="list-view__item-date">' + memoTimeAgo + '</div>\n                  <div class="list-view__item-title">' + memoTitle + '</div>';

        if (memo.description !== null) {
          list += '<div class="list-view__item-description">\n                  ' + memoDescription + '\n                </div>';
        }

        list += '</div></li>';
      });

      list += '</ol>';

      this.view.innerHTML = list;
      this.addEventListeners();
    }
  }, {
    key: 'setTabIndexes',
    value: function setTabIndexes() {

      if (this.view.classList.contains('list-view--locked')) return;

      if (this.view.classList.contains('list-view--shrunk')) return;

      var listItems = document.querySelectorAll('.list-view__item');

      for (var l = 0; l < listItems.length; l++) {
        listItems[l].tabIndex = l + 2;
      }
    }
  }, {
    key: 'unsetTabIndexes',
    value: function unsetTabIndexes() {

      var listItems = document.querySelectorAll('.list-view__item');

      for (var l = 0; l < listItems.length; l++) {
        listItems[l].removeAttribute('tabindex');
      }
    }
  }, {
    key: 'addEventListeners',
    value: function addEventListeners() {
      var toggleButtons = document.querySelectorAll('.list-view__item-preview-toggle');

      var listItems = document.querySelectorAll('.list-view__item');

      for (var l = 0; l < listItems.length; l++) {
        listItems[l].addEventListener('keyup', this.onListItemClick);
        listItems[l].addEventListener('click', this.onListItemClick);
      }
    }
  }, {
    key: 'removeEventListeners',
    value: function removeEventListeners() {
      var listItems = document.querySelectorAll('.list-view__item');

      for (var l = 0; l < listItems.length; l++) {
        listItems[l].removeEventListener('keyup', this.onListItemClick);
        listItems[l].removeEventListener('click', this.onListItemClick);
      }
    }
  }, {
    key: 'onListItemClick',
    value: function onListItemClick(e) {
      var _this4 = this;

      if (e.type == 'keyup' && e.keyCode !== 13) return;

      e.target.classList.add('active');

      (0, _libsRouter2['default'])().then(function (router) {
        router.go('/details/' + _this4.dataset.url);
      });
    }
  }, {
    key: 'onToggleButtonPress',
    value: function onToggleButtonPress() {
      // get the for attribute, find the audio, set the src
      // when the user clicks stop, we should unhook the audio
      // via revokeObjectURL
    }
  }]);

  return ListController;
})(_Controller3['default']);

exports['default'] = ListController;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZXJtYW53L0RvY3VtZW50cy9oZXJtd29uZy9pb3NUZXN0L3NyYy9zY3JpcHRzL2NvbnRyb2xsZXIvTGlzdENvbnRyb2xsZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzJCQWlCdUIsY0FBYzs7Ozs4QkFDZixvQkFBb0I7Ozs7MEJBQ2YsZ0JBQWdCOzs7OzBCQUNoQixnQkFBZ0I7Ozs7SUFFdEIsY0FBYztZQUFkLGNBQWM7O0FBRXJCLFdBRk8sY0FBYyxHQUVsQjs7OzBCQUZJLGNBQWM7O0FBRy9CLCtCQUhpQixjQUFjLDZDQUd2Qjs7QUFFUixRQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztBQUNsQixRQUFJLENBQUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDakQsUUFBSSxDQUFDLElBQUksR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLGVBQWUsQ0FBQyxDQUFDOztBQUVwRCxXQUFPLENBQUMsR0FBRyxDQUFDLENBQ1YsSUFBSSxDQUFDLE9BQU8sQ0FBQyw0QkFBNEIsQ0FBQyxFQUMxQyxJQUFJLENBQUMsVUFBVSxDQUFDLDRCQUE0QixDQUFDLENBQzlDLENBQUMsQ0FDRCxJQUFJLENBQUUsWUFBTTtBQUNYLFlBQUssbUJBQW1CLEVBQUUsQ0FBQzs7QUFFM0Isb0NBQWdCLENBQUMsSUFBSSxDQUFDLFVBQUEsRUFBRSxFQUFJO0FBQzFCLFVBQUUsQ0FBQyxHQUFHLENBQUMsNEJBQVUsT0FBTyxFQUFFLFlBQU07QUFDOUIsZ0JBQUssbUJBQW1CLEVBQUUsQ0FBQztTQUM1QixDQUFDLENBQUM7T0FDSixDQUFDLENBQUM7O0FBRUgsb0NBQWdCLENBQUMsSUFBSSxDQUFDLFVBQUEsRUFBRSxFQUFJO0FBQzFCLFVBQUUsQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFFLFlBQU07QUFDM0IsZ0JBQUssSUFBSSxDQUFDLFNBQVMsQ0FBQyxH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QUFHLENBQUcsQ0FBQztPQUMzQyxDQUFDLENBQUM7S0FDSjs7O1dBRW1CLCtCQUFHOzs7O0tBSXRCOzs7U0F6TGtCLGNBQWM7OztxQkFBZCxjQUFjIiwiZmlsZSI6Ii9Vc2Vycy9oZXJtYW53L0RvY3VtZW50cy9oZXJtd29uZy9pb3NUZXN0L3NyYy9zY3JpcHRzL2NvbnRyb2xsZXIvTGlzdENvbnRyb2xsZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqXG4gKiBDb3B5cmlnaHQgMjAxNSBHb29nbGUgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL0NvbnRyb2xsZXInO1xuaW1wb3J0IE1lbW9Nb2RlbCBmcm9tICcuLi9tb2RlbC9NZW1vTW9kZWwnO1xuaW1wb3J0IFJvdXRlckluc3RhbmNlIGZyb20gJy4uL2xpYnMvUm91dGVyJztcbmltcG9ydCBQdWJTdWJJbnN0YW5jZSBmcm9tICcuLi9saWJzL1B1YlN1Yic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpc3RDb250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlciB7XG5cbiAgY29uc3RydWN0b3IgKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLm1lbW9zID0gbnVsbDtcbiAgICB0aGlzLmN0YVZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtY3RhJyk7XG4gICAgdGhpcy52aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLWxpc3QtdmlldycpO1xuXG4gICAgUHJvbWlzZS5hbGwoW1xuICAgICAgdGhpcy5sb2FkQ1NTKCcvc3R5bGVzL3ZvaWNlbWVtby1saXN0LmNzcycpLFxuICAgICAgdGhpcy5sb2FkU2NyaXB0KCcvdGhpcmRfcGFydHkvbW9tZW50Lm1pbi5qcycpXG4gICAgXSlcbiAgICAudGhlbiggKCkgPT4ge1xuICAgICAgdGhpcy5nZXRNZW1vc0FuZFBvcHVsYXRlKCk7XG5cbiAgICAgIFB1YlN1Ykluc3RhbmNlKCkudGhlbihwcyA9PiB7XG4gICAgICAgIHBzLnN1YihNZW1vTW9kZWwuVVBEQVRFRCwgKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZ2V0TWVtb3NBbmRQb3B1bGF0ZSgpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBQdWJTdWJJbnN0YW5jZSgpLnRoZW4ocHMgPT4ge1xuICAgICAgICBwcy5zdWIoJ2xpc3QtY292ZXJlZCcsICgpID0+IHtcbiAgICAgICAgICB0aGlzLnZpZXcuY2xhc3NMaXN0LmFkZCgnbGlzdC12aWV3LS1zaHJ1bmsnKTtcbiAgICAgICAgICB0aGlzLnVuc2V0VGFiSW5kZXhlcygpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBQdWJTdWJJbnN0YW5jZSgpLnRoZW4ocHMgPT4ge1xuICAgICAgICBwcy5zdWIoJ2xpc3QtdW5jb3ZlcmVkJywgKCkgPT4ge1xuICAgICAgICAgIHRoaXMudmlldy5jbGFzc0xpc3QucmVtb3ZlKCdsaXN0LXZpZXctLXNocnVuaycpO1xuICAgICAgICAgIHRoaXMuc2V0VGFiSW5kZXhlcygpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBQdWJTdWJJbnN0YW5jZSgpLnRoZW4ocHMgPT4ge1xuICAgICAgICBwcy5zdWIoJ2xpc3QtbG9ja2VkJywgKCkgPT4ge1xuICAgICAgICAgIHRoaXMudmlldy5jbGFzc0xpc3QuYWRkKCdsaXN0LXZpZXctLWxvY2tlZCcpO1xuICAgICAgICAgIHRoaXMudW5zZXRUYWJJbmRleGVzKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIFB1YlN1Ykluc3RhbmNlKCkudGhlbihwcyA9PiB7XG4gICAgICAgIHBzLnN1YignbGlzdC11bmxvY2tlZCcsICgpID0+IHtcbiAgICAgICAgICB0aGlzLnZpZXcuY2xhc3NMaXN0LnJlbW92ZSgnbGlzdC12aWV3LS1sb2NrZWQnKTtcbiAgICAgICAgICB0aGlzLnVuc2V0VGFiSW5kZXhlcygpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgfSk7XG4gIH1cblxuICBnZXRNZW1vc0FuZFBvcHVsYXRlICgpIHtcblxuICAgIE1lbW9Nb2RlbC5nZXRBbGwoJ3RpbWUnLCBNZW1vTW9kZWwuREVTQ0VORElORylcbiAgICAgIC50aGVuKG1lbW9zID0+IHtcbiAgICAgICAgdGhpcy5tZW1vcyA9IG1lbW9zO1xuICAgICAgICB0aGlzLnBvcHVsYXRlKCk7XG4gICAgICAgIHRoaXMuc2V0VGFiSW5kZXhlcygpO1xuICAgICAgfSk7XG4gIH1cblxuICBlc2NhcGVIVE1MIChzdHIpIHtcblxuICAgIGlmIChzdHIgPT09IG51bGwpXG4gICAgICByZXR1cm4gc3RyO1xuXG4gICAgLy8gU2ltaWxhciB0byBib3RoIGh0dHA6Ly9waHAubmV0L2h0bWxzcGVjaWFsY2hhcnMgYW5kXG4gICAgLy8gaHR0cDovL3d3dy4yYWxpdHkuY29tLzIwMTUvMDEvdGVtcGxhdGUtc3RyaW5ncy1odG1sLmh0bWwgaW4gd2hhdFxuICAgIC8vIGl0IGNob29zZXMgdG8gcmVwbGFjZS5cbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyYvZywgJyZhbXA7JylcbiAgICAgICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxuICAgICAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JylcbiAgICAgICAgLnJlcGxhY2UoLycvZywgJyZhcG9zOycpO1xuICB9XG5cbiAgcG9wdWxhdGUgKCkge1xuXG4gICAgaWYgKCF0aGlzLm1lbW9zLmxlbmd0aCkge1xuICAgICAgdGhpcy5jdGFWaWV3LmNsYXNzTGlzdC5hZGQoJ2VtcHR5LXNldC1jdGEtLXZpc2libGUnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmN0YVZpZXcuY2xhc3NMaXN0LnJlbW92ZSgnZW1wdHktc2V0LWN0YS0tdmlzaWJsZScpO1xuICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHZhciBsaXN0ID0gJzxvbCBjbGFzcz1cImxpc3Qtdmlld19fY29udGVudHNcIj4nO1xuXG4gICAgdGhpcy5tZW1vcy5mb3JFYWNoKChtZW1vKSA9PiB7XG5cbiAgICAgIHZhciBtZW1vVGltZUFnbyA9IG1vbWVudChtZW1vLnRpbWUpLmZyb21Ob3coKTtcbiAgICAgIHZhciBtZW1vVGl0bGUgPSB0aGlzLmVzY2FwZUhUTUwobWVtby50aXRsZSk7XG4gICAgICB2YXIgbWVtb0Rlc2NyaXB0aW9uID0gdGhpcy5lc2NhcGVIVE1MKG1lbW8uZGVzY3JpcHRpb24pO1xuXG4gICAgICBsaXN0ICs9IGA8bGkgY2xhc3M9XCJsaXN0LXZpZXdfX2l0ZW1cIiBpZD1cInZtLSR7bWVtby51cmx9XCIgZGF0YS11cmw9XCIke21lbW8udXJsfVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsaXN0LXZpZXdfX2l0ZW0tZGV0YWlsc1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxpc3Qtdmlld19faXRlbS1kYXRlXCI+JHttZW1vVGltZUFnb308L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsaXN0LXZpZXdfX2l0ZW0tdGl0bGVcIj4ke21lbW9UaXRsZX08L2Rpdj5gXG5cbiAgICAgIGlmIChtZW1vLmRlc2NyaXB0aW9uICE9PSBudWxsKSB7XG4gICAgICAgIGxpc3QgKz0gYDxkaXYgY2xhc3M9XCJsaXN0LXZpZXdfX2l0ZW0tZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICR7bWVtb0Rlc2NyaXB0aW9ufVxuICAgICAgICAgICAgICAgIDwvZGl2PmBcbiAgICAgIH1cblxuICAgICAgbGlzdCArPSAnPC9kaXY+PC9saT4nO1xuICAgIH0pO1xuXG4gICAgbGlzdCArPSAnPC9vbD4nO1xuXG4gICAgdGhpcy52aWV3LmlubmVySFRNTCA9IGxpc3Q7XG4gICAgdGhpcy5hZGRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgc2V0VGFiSW5kZXhlcyAoKSB7XG5cbiAgICBpZiAodGhpcy52aWV3LmNsYXNzTGlzdC5jb250YWlucygnbGlzdC12aWV3LS1sb2NrZWQnKSlcbiAgICAgIHJldHVybjtcblxuICAgIGlmICh0aGlzLnZpZXcuY2xhc3NMaXN0LmNvbnRhaW5zKCdsaXN0LXZpZXctLXNocnVuaycpKVxuICAgICAgcmV0dXJuO1xuXG4gICAgdmFyIGxpc3RJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAnLmxpc3Qtdmlld19faXRlbSdcbiAgICApO1xuXG4gICAgZm9yICh2YXIgbCA9IDA7IGwgPCBsaXN0SXRlbXMubGVuZ3RoOyBsKyspIHtcbiAgICAgIGxpc3RJdGVtc1tsXS50YWJJbmRleCA9IGwgKyAyO1xuICAgIH1cbiAgfVxuXG4gIHVuc2V0VGFiSW5kZXhlcyAoKSB7XG5cbiAgICB2YXIgbGlzdEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICcubGlzdC12aWV3X19pdGVtJ1xuICAgICk7XG5cbiAgICBmb3IgKHZhciBsID0gMDsgbCA8IGxpc3RJdGVtcy5sZW5ndGg7IGwrKykge1xuICAgICAgbGlzdEl0ZW1zW2xdLnJlbW92ZUF0dHJpYnV0ZSgndGFiaW5kZXgnKTtcbiAgICB9XG4gIH1cblxuICBhZGRFdmVudExpc3RlbmVycyAoKSB7XG4gICAgdmFyIHRvZ2dsZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxuICAgICAgICAnLmxpc3Qtdmlld19faXRlbS1wcmV2aWV3LXRvZ2dsZScpO1xuXG4gICAgdmFyIGxpc3RJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXG4gICAgICAgICcubGlzdC12aWV3X19pdGVtJ1xuICAgICk7XG5cbiAgICBmb3IgKHZhciBsID0gMDsgbCA8IGxpc3RJdGVtcy5sZW5ndGg7IGwrKykge1xuICAgICAgbGlzdEl0ZW1zW2xdLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5vbkxpc3RJdGVtQ2xpY2spO1xuICAgICAgbGlzdEl0ZW1zW2xdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkxpc3RJdGVtQ2xpY2spO1xuICAgIH1cbiAgfVxuXG4gIHJlbW92ZUV2ZW50TGlzdGVuZXJzICgpIHtcbiAgICB2YXIgbGlzdEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcbiAgICAgICcubGlzdC12aWV3X19pdGVtJ1xuICAgICk7XG5cbiAgICBmb3IgKHZhciBsID0gMDsgbCA8IGxpc3RJdGVtcy5sZW5ndGg7IGwrKykge1xuICAgICAgbGlzdEl0ZW1zW2xdLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5vbkxpc3RJdGVtQ2xpY2spO1xuICAgICAgbGlzdEl0ZW1zW2xdLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkxpc3RJdGVtQ2xpY2spO1xuICAgIH1cbiAgfVxuXG4gIG9uTGlzdEl0ZW1DbGljayAoZSkge1xuXG4gICAgaWYgKGUudHlwZSA9PSAna2V5dXAnICYmIGUua2V5Q29kZSAhPT0gMTMpXG4gICAgICByZXR1cm47XG5cbiAgICBlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcblxuICAgIFJvdXRlckluc3RhbmNlKCkudGhlbihyb3V0ZXIgPT4ge1xuICAgICAgcm91dGVyLmdvKGAvZGV0YWlscy8ke3RoaXMuZGF0YXNldC51cmx9YCk7XG4gICAgfSk7XG4gIH1cblxuICBvblRvZ2dsZUJ1dHRvblByZXNzICgpIHtcbiAgICAvLyBnZXQgdGhlIGZvciBhdHRyaWJ1dGUsIGZpbmQgdGhlIGF1ZGlvLCBzZXQgdGhlIHNyY1xuICAgIC8vIHdoZW4gdGhlIHVzZXIgY2xpY2tzIHN0b3AsIHdlIHNob3VsZCB1bmhvb2sgdGhlIGF1ZGlvXG4gICAgLy8gdmlhIHJldm9rZU9iamVjdFVSTFxuICB9XG5cbn1cbiJdfQ==
},{"../libs/PubSub":7,"../libs/Router":8,"../model/MemoModel":9,"./Controller":3}],5:[function(require,module,exports){
/**
 *
 * Copyright 2015 Google Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

exports['default'] = ConfigManagerInstance;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var _configConfig = require('../config/Config');

var _configConfig2 = _interopRequireDefault(_configConfig);

function ConfigManagerInstance() {

  if (typeof window.ConfigManagerInstance_ !== 'undefined') return Promise.resolve(window.ConfigManagerInstance_);

  window.ConfigManagerInstance_ = new ConfigManager();

  return Promise.resolve(window.ConfigManagerInstance_);
}

var ConfigManager = (function () {
  function ConfigManager() {
    _classCallCheck(this, ConfigManager);

    this.config = _configConfig2['default'];
  }

  _createClass(ConfigManager, [{
    key: 'getStore',
    value: function getStore(storeName) {
      return this.config_.stores[storeName];
    }
  }, {
    key: 'config',
    set: function set(c) {
      this.config_ = c;
    },
    get: function get() {
      return this.config_;
    }
  }]);

  return ConfigManager;
})();

module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZXJtYW53L0RvY3VtZW50cy9oZXJtd29uZy9pb3NUZXN0L3NyYy9zY3JpcHRzL2xpYnMvQ29uZmlnTWFuYWdlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O3FCQW1Cd0IscUJBQXFCOzs7Ozs7NEJBRjFCLGtCQUFrQjs7OztBQUV0QixTQUFTLHFCQUFxQixHQUFJOztBQUUvQyxNQUFJLE9BQU8sTUFBTSxDQUFDLHNCQUFzQixLQUFLLFdBQVcsRUFDdEQsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDOztBQUV4RCxRQUFNLENBQUMsc0JBQXNCLEdBQUcsSUFBSSxhQUFhLEVBQUUsQ0FBQzs7QUFFcEQsU0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDO0NBQ3ZEOztJQUVLLGFBQWE7QUFFTCxXQUZSLGFBQWEsR0FFRjswQkFGWCxhQUFhOztBQUdmLFFBQUksQ0FBQyxNQUFNLDRCQUFTLENBQUM7R0FDdEI7O2VBSkcsYUFBYTs7V0FjUixrQkFBQyxTQUFTLEVBQUU7QUFDbkIsYUFBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztLQUN2Qzs7O1NBVlUsYUFBQyxDQUFDLEVBQUU7QUFDYixVQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQztLQUNsQjtTQUVVLGVBQUc7QUFDWixhQUFPLElBQUksQ0FBQyxPQUFPLENBQUM7S0FDckI7OztTQVpHLGFBQWEiLCJmaWxlIjoiL1VzZXJzL2hlcm1hbncvRG9jdW1lbnRzL2hlcm13b25nL2lvc1Rlc3Qvc3JjL3NjcmlwdHMvbGlicy9Db25maWdNYW5hZ2VyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKlxuICogQ29weXJpZ2h0IDIwMTUgR29vZ2xlIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IENvbmZpZyBmcm9tICcuLi9jb25maWcvQ29uZmlnJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29uZmlnTWFuYWdlckluc3RhbmNlICgpIHtcblxuICBpZiAodHlwZW9mIHdpbmRvdy5Db25maWdNYW5hZ2VySW5zdGFuY2VfICE9PSAndW5kZWZpbmVkJylcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHdpbmRvdy5Db25maWdNYW5hZ2VySW5zdGFuY2VfKTtcblxuICB3aW5kb3cuQ29uZmlnTWFuYWdlckluc3RhbmNlXyA9IG5ldyBDb25maWdNYW5hZ2VyKCk7XG5cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh3aW5kb3cuQ29uZmlnTWFuYWdlckluc3RhbmNlXyk7XG59XG5cbmNsYXNzIENvbmZpZ01hbmFnZXIge1xuXG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICB0aGlzLmNvbmZpZyA9IENvbmZpZztcbiAgfVxuXG4gIHNldCBjb25maWcgKGMpIHtcbiAgICB0aGlzLmNvbmZpZ18gPSBjO1xuICB9XG5cbiAgZ2V0IGNvbmZpZyAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uZmlnXztcbiAgfVxuXG4gIGdldFN0b3JlIChzdG9yZU5hbWUpIHtcbiAgICByZXR1cm4gdGhpcy5jb25maWdfLnN0b3Jlc1tzdG9yZU5hbWVdO1xuICB9XG5cbn1cbiJdfQ==
},{"../config/Config":2}],6:[function(require,module,exports){
/**
 * Copyright 2015 Google Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */

'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

exports['default'] = DatabaseInstance;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var _ConfigManager = require('./ConfigManager');

var _ConfigManager2 = _interopRequireDefault(_ConfigManager);

function DatabaseInstance() {

  if (typeof window.DatabaseInstance_ !== 'undefined') return Promise.resolve(window.DatabaseInstance_);

  window.DatabaseInstance_ = new Database();

  return Promise.resolve(window.DatabaseInstance_);
}

var Database = (function () {
  function Database() {
    var _this = this;

    _classCallCheck(this, Database);

    (0, _ConfigManager2['default'])().then(function (configManager) {

      var config = configManager.config;

      _this.db_ = null;
      _this.name_ = config.name;
      _this.version_ = config.version;
      _this.stores_ = config.stores;
    });
  }

  _createClass(Database, [{
    key: 'getStore',
    value: function getStore(storeName) {

      if (!this.stores_[storeName]) throw 'There is no store with name "' + storeName + '"';

      return this.stores_[storeName];
    }
  }, {
    key: 'open',
    value: function open() {
      var _this2 = this;

      if (this.db_) return Promise.resolve(this.db_);

      return new Promise(function (resolve, reject) {

        var dbOpen = indexedDB.open(_this2.name_, _this2.version_);

        dbOpen.onupgradeneeded = function (e) {

          _this2.db_ = e.target.result;

          var storeNames = Object.keys(_this2.stores_);
          var storeName;

          for (var s = 0; s < storeNames.length; s++) {

            storeName = storeNames[s];

            // If the store already exists
            if (_this2.db_.objectStoreNames.contains(storeName)) {

              // Check to see if the store should be deleted.
              // If so delete, and if not skip to the next store.
              if (_this2.stores_[storeName].deleteOnUpgrade) _this2.db_.deleteObjectStore(storeName);else continue;
            }

            var dbStore = _this2.db_.createObjectStore(storeName, _this2.stores_[storeName].properties);

            if (typeof _this2.stores_[storeName].indexes !== 'undefined') {
              var indexes = _this2.stores_[storeName].indexes;
              var indexNames = Object.keys(indexes);
              var index;

              for (var i = 0; i < indexNames.length; i++) {
                index = indexNames[i];
                dbStore.createIndex(index, index, indexes[index]);
              }
            }
          }
        };

        dbOpen.onsuccess = function (e) {
          _this2.db_ = e.target.result;
          resolve(_this2.db_);
        };

        dbOpen.onerror = function (e) {
          reject(e);
        };
      });
    }
  }, {
    key: 'close',
    value: function close() {
      var _this3 = this;

      return new Promise(function (resolve, reject) {

        if (!_this3.db_) reject('No database connection');

        _this3.db_.close();
        resolve(_this3.db_);
      });
    }
  }, {
    key: 'nuke',
    value: function nuke() {
      var _this4 = this;

      return new Promise(function (resolve, reject) {

        console.log("Nuking... " + _this4.name_);

        _this4.close();

        var dbTransaction = indexedDB.deleteDatabase(_this4.name_);
        dbTransaction.onsuccess = function (e) {
          console.log("Nuked...");
          resolve(e);
        };

        dbTransaction.onerror = function (e) {
          reject(e);
        };
      });
    }
  }, {
    key: 'put',
    value: function put(storeName, value, key) {

      return this.open().then(function (db) {

        return new Promise(function (resolve, reject) {

          var dbTransaction = db.transaction(storeName, 'readwrite');
          var dbStore = dbTransaction.objectStore(storeName);
          var dbRequest = dbStore.put(value, key);

          dbTransaction.oncomplete = function (e) {
            resolve(dbRequest.result);
          };

          dbTransaction.onabort = dbTransaction.onerror = function (e) {
            reject(e);
          };
        });
      });
    }
  }, {
    key: 'get',
    value: function get(storeName, value) {

      return this.open().then(function (db) {

        return new Promise(function (resolve, reject) {

          var dbTransaction = db.transaction(storeName, 'readonly');
          var dbStore = dbTransaction.objectStore(storeName);
          var dbStoreRequest;

          dbTransaction.oncomplete = function (e) {
            resolve(dbStoreRequest.result);
          };

          dbTransaction.onabort = dbTransaction.onerror = function (e) {
            reject(e);
          };

          dbStoreRequest = dbStore.get(value);
        });
      });
    }
  }, {
    key: 'getAll',
    value: function getAll(storeName, index, order) {

      return this.open().then(function (db) {

        return new Promise(function (resolve, reject) {

          var dbTransaction = db.transaction(storeName, 'readonly');
          var dbStore = dbTransaction.objectStore(storeName);
          var dbCursor;

          if (typeof order !== 'string') order = 'next';

          if (typeof index === 'string') dbCursor = dbStore.index(index).openCursor(null, order);else dbCursor = dbStore.openCursor();

          var dbResults = [];

          dbCursor.onsuccess = function (e) {
            var cursor = e.target.result;

            if (cursor) {
              dbResults.push({
                key: cursor.key,
                value: cursor.value
              });
              cursor['continue']();
            } else {
              resolve(dbResults);
            }
          };

          dbCursor.onerror = function (e) {
            reject(e);
          };
        });
      });
    }
  }, {
    key: 'delete',
    value: function _delete(storeName, key) {
      return this.open().then(function (db) {

        return new Promise(function (resolve, reject) {

          var dbTransaction = db.transaction(storeName, 'readwrite');
          var dbStore = dbTransaction.objectStore(storeName);

          dbTransaction.oncomplete = function (e) {
            resolve(e);
          };

          dbTransaction.onabort = dbTransaction.onerror = function (e) {
            reject(e);
          };

          dbStore['delete'](key);
        });
      });
    }
  }, {
    key: 'deleteAll',
    value: function deleteAll(storeName) {

      return this.open().then(function (db) {

        return new Promise(function (resolve, reject) {

          var dbTransaction = db.transaction(storeName, 'readwrite');
          var dbStore = dbTransaction.objectStore(storeName);
          var dbRequest = dbStore.clear();

          dbRequest.onsuccess = function (e) {
            resolve(e);
          };

          dbRequest.onerror = function (e) {
            reject(e);
          };
        });
      });
    }
  }]);

  return Database;
})();

module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZXJtYW53L0RvY3VtZW50cy9oZXJtd29uZy9pb3NUZXN0L3NyYy9zY3JpcHRzL2xpYnMvRGF0YWJhc2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztxQkFtQndCLGdCQUFnQjs7Ozs7OzZCQUZOLGlCQUFpQjs7OztBQUVwQyxTQUFTLGdCQUFnQixHQUFJOztBQUUxQyxNQUFJLE9BQU8sTUFBTSxDQUFDLGlCQUFpQixLQUFLLFdBQVcsRUFDakQsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDOztBQUVuRCxRQUFNLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxRQUFRLEVBQUUsQ0FBQzs7QUFFMUMsU0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0NBQ2xEOztJQUVLLFFBQVE7QUFFQSxXQUZSLFFBQVEsR0FFRzs7OzBCQUZYLFFBQVE7O0FBSVYscUNBQXVCLENBQUMsSUFBSSxDQUFFLFVBQUMsYUFBYSxFQUFLOztBQUUvQyxVQUFJLE1BQU0sR0FBRyxhQUFhLENBQUMsTUFBTSxDQUFDOztBQUVsQyxZQUFLLEdBQUcsR0FBRyxJQUFJLENBQUM7QUFDaEIsWUFBSyxLQUFLLEdBQUcsTUFBTSxDQUFDLElBQUksQ0FBQztBQUN6QixZQUFLLFFBQVEsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDO0FBQy9CLFlBQUssT0FBTyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7S0FFOUIsQ0FBQyxDQUFDO0dBQ0o7O2VBZEcsUUFBUTs7V0FnQkgsa0JBQUMsU0FBUyxFQUFFOztBQUVuQixVQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUMsRUFDMUIsTUFBTSwrQkFBK0IsR0FBRyxTQUFTLEdBQUcsR0FBRyxDQUFDOztBQUUxRCxhQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7S0FD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cHRzL2xpYnMvRGF0YWJhc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAyMDE1IEdvb2dsZSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuXG5pbXBvcnQgQ29uZmlnTWFuYWdlckluc3RhbmNlIGZyb20gJy4vQ29uZmlnTWFuYWdlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIERhdGFiYXNlSW5zdGFuY2UgKCkge1xuXG4gIGlmICh0eXBlb2Ygd2luZG93LkRhdGFiYXNlSW5zdGFuY2VfICE9PSAndW5kZWZpbmVkJylcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHdpbmRvdy5EYXRhYmFzZUluc3RhbmNlXyk7XG5cbiAgd2luZG93LkRhdGFiYXNlSW5zdGFuY2VfID0gbmV3IERhdGFiYXNlKCk7XG5cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh3aW5kb3cuRGF0YWJhc2VJbnN0YW5jZV8pO1xufVxuXG5jbGFzcyBEYXRhYmFzZSB7XG5cbiAgY29uc3RydWN0b3IgKCkge1xuXG4gICAgQ29uZmlnTWFuYWdlckluc3RhbmNlKCkudGhlbiggKGNvbmZpZ01hbmFnZXIpID0+IHtcblxuICAgICAgdmFyIGNvbmZpZyA9IGNvbmZpZ01hbmFnZXIuY29uZmlnO1xuXG4gICAgICB0aGlzLmRiXyA9IG51bGw7XG4gICAgICB0aGlzLm5hbWVfID0gY29uZmlnLm5hbWU7XG4gICAgICB0aGlzLnZlcnNpb25fID0gY29uZmlnLnZlcnNpb247XG4gICAgICB0aGlzLnN0b3Jlc18gPSBjb25maWcuc3RvcmVzO1xuXG4gICAgfSk7XG4gIH1cblxuICBnZXRTdG9yZSAoc3RvcmVOYW1lKSB7XG5cbiAgICBpZiAoIXRoaXMuc3RvcmVzX1tzdG9yZU5hbWVdKVxuICAgICAgdGhyb3cgJ1RoZXJlIGlzIG5vIHN0b3JlIHdpdGggbmFtZSBcIicgKyBzdG9yZU5hbWUgKyAnXCInO1xuXG4gICAgcmV0dXJuIHRoaXMuc3RvcmVzX1tzdG9yZU5hbWVdO1xuICB9XG5cbiAgb3BlbiAoKSB7XG5cbiAgICBpZiAodGhpcy5kYl8pXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuZGJfKTtcblxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cbiAgICAgIHZhciBkYk9wZW4gPSBpbmRleGVkREIub3Blbih0aGlzLm5hbWVfLCB0aGlzLnZlcnNpb25fKTtcblxuICAgICAgZGJPcGVuLm9udXBncmFkZW5lZWRlZCA9IChlKSA9PiB7XG5cbiAgICAgICAgdGhpcy5kYl8gPSBlLnRhcmdldC5yZXN1bHQ7XG5cbiAgICAgICAgdmFyIHN0b3JlTmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLnN0b3Jlc18pO1xuICAgICAgICB2YXIgc3RvcmVOYW1lO1xuXG4gICAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgc3RvcmVOYW1lcy5sZW5ndGg7IHMrKykge1xuXG4gICAgICAgICAgc3RvcmVOYW1lID0gc3RvcmVOYW1lc1tzXTtcblxuICAgICAgICAgIC8vIElmIHRoZSBzdG9yZSBhbHJlYWR5IGV4aXN0c1xuICAgICAgICAgIGlmICh0aGlzLmRiXy5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKHN0b3JlTmFtZSkpIHtcblxuICAgICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoZSBzdG9yZSBzaG91bGQgYmUgZGVsZXRlZC5cbiAgICAgICAgICAgIC8vIElmIHNvIGRlbGV0ZSwgYW5kIGlmIG5vdCBza2lwIHRvIHRoZSBuZXh0IHN0b3JlLlxuICAgICAgICAgICAgaWYgKHRoaXMuc3RvcmVzX1tzdG9yZU5hbWVdLmRlbGV0ZU9uVXBncmFkZSlcbiAgICAgICAgICAgICAgdGhpcy5kYl8uZGVsZXRlT2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGRiU3RvcmUgPSB0aGlzLmRiXy5jcmVhdGVPYmplY3RTdG9yZShcbiAgICAgICAgICAgIHN0b3JlTmFtZSxcbiAgICAgICAgICAgIHRoaXMuc3RvcmVzX1tzdG9yZU5hbWVdLnByb3BlcnRpZXNcbiAgICAgICAgICApO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnN0b3Jlc19bc3RvcmVOYW1lXS5pbmRleGVzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdmFyIGluZGV4ZXMgPSB0aGlzLnN0b3Jlc19bc3RvcmVOYW1lXS5pbmRleGVzO1xuICAgICAgICAgICAgdmFyIGluZGV4TmFtZXMgPSBPYmplY3Qua2V5cyhpbmRleGVzKTtcbiAgICAgICAgICAgIHZhciBpbmRleDtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmRleE5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGluZGV4ID0gaW5kZXhOYW1lc1tpXTtcbiAgICAgICAgICAgICAgZGJTdG9yZS5jcmVhdGVJbmRleChpbmRleCwgaW5kZXgsIGluZGV4ZXNbaW5kZXhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZGJPcGVuLm9uc3VjY2VzcyA9IChlKSA9PiB7XG4gICAgICAgIHRoaXMuZGJfID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICByZXNvbHZlKHRoaXMuZGJfKTtcbiAgICAgIH1cblxuICAgICAgZGJPcGVuLm9uZXJyb3IgPSAoZSkgPT4ge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9O1xuXG4gICAgfSk7XG4gIH1cblxuICBjbG9zZSAoKSB7XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICBpZiAoIXRoaXMuZGJfKVxuICAgICAgICByZWplY3QoJ05vIGRhdGFiYXNlIGNvbm5lY3Rpb24nKTtcblxuICAgICAgdGhpcy5kYl8uY2xvc2UoKTtcbiAgICAgIHJlc29sdmUodGhpcy5kYl8pO1xuXG4gICAgfSk7XG4gIH1cblxuICBudWtlICgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICBjb25zb2xlLmxvZyhcIk51a2luZy4uLiBcIiArIHRoaXMubmFtZV8pO1xuXG4gICAgICB0aGlzLmNsb3NlKCk7XG5cbiAgICAgIHZhciBkYlRyYW5zYWN0aW9uID0gaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKHRoaXMubmFtZV8pO1xuICAgICAgZGJUcmFuc2FjdGlvbi5vbnN1Y2Nlc3MgPSAoZSkgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhcIk51a2VkLi4uXCIpO1xuICAgICAgICByZXNvbHZlKGUpO1xuICAgICAgfVxuXG4gICAgICBkYlRyYW5zYWN0aW9uLm9uZXJyb3IgPSAoZSkgPT4ge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBwdXQgKHN0b3JlTmFtZSwgdmFsdWUsIGtleSkge1xuXG4gICAgcmV0dXJuIHRoaXMub3BlbigpLnRoZW4oKGRiKSA9PiB7XG5cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG5cbiAgICAgICAgdmFyIGRiVHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihzdG9yZU5hbWUsICdyZWFkd3JpdGUnKTtcbiAgICAgICAgdmFyIGRiU3RvcmUgPSBkYlRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHN0b3JlTmFtZSk7XG4gICAgICAgIHZhciBkYlJlcXVlc3QgPSBkYlN0b3JlLnB1dCh2YWx1ZSwga2V5KTtcblxuICAgICAgICBkYlRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSAoZSkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoZGJSZXF1ZXN0LnJlc3VsdCk7XG4gICAgICAgIH1cblxuICAgICAgICBkYlRyYW5zYWN0aW9uLm9uYWJvcnQgPVxuICAgICAgICBkYlRyYW5zYWN0aW9uLm9uZXJyb3IgPSAoZSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfVxuXG4gICAgICB9KTtcblxuICAgIH0pO1xuXG4gIH1cblxuICBnZXQgKHN0b3JlTmFtZSwgdmFsdWUpIHtcblxuICAgIHJldHVybiB0aGlzLm9wZW4oKS50aGVuKChkYikgPT4ge1xuXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICAgIHZhciBkYlRyYW5zYWN0aW9uID0gZGIudHJhbnNhY3Rpb24oc3RvcmVOYW1lLCAncmVhZG9ubHknKTtcbiAgICAgICAgdmFyIGRiU3RvcmUgPSBkYlRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHN0b3JlTmFtZSk7XG4gICAgICAgIHZhciBkYlN0b3JlUmVxdWVzdDtcblxuICAgICAgICBkYlRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSAoZSkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoZGJTdG9yZVJlcXVlc3QucmVzdWx0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRiVHJhbnNhY3Rpb24ub25hYm9ydCA9XG4gICAgICAgIGRiVHJhbnNhY3Rpb24ub25lcnJvciA9IChlKSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGJTdG9yZVJlcXVlc3QgPSBkYlN0b3JlLmdldCh2YWx1ZSk7XG5cbiAgICAgIH0pO1xuXG4gICAgfSk7XG5cbiAgfVxuXG4gIGdldEFsbCAoc3RvcmVOYW1lLCBpbmRleCwgb3JkZXIpIHtcblxuICAgIHJldHVybiB0aGlzLm9wZW4oKS50aGVuKChkYikgPT4ge1xuXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICAgIHZhciBkYlRyYW5zYWN0aW9uID0gZGIudHJhbnNhY3Rpb24oc3RvcmVOYW1lLCAncmVhZG9ubHknKTtcbiAgICAgICAgdmFyIGRiU3RvcmUgPSBkYlRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHN0b3JlTmFtZSk7XG4gICAgICAgIHZhciBkYkN1cnNvcjtcblxuICAgICAgICBpZiAodHlwZW9mIG9yZGVyICE9PSAnc3RyaW5nJylcbiAgICAgICAgICBvcmRlciA9ICduZXh0JztcblxuICAgICAgICBpZiAodHlwZW9mIGluZGV4ID09PSAnc3RyaW5nJylcbiAgICAgICAgICBkYkN1cnNvciA9IGRiU3RvcmUuaW5kZXgoaW5kZXgpLm9wZW5DdXJzb3IobnVsbCwgb3JkZXIpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgZGJDdXJzb3IgPSBkYlN0b3JlLm9wZW5DdXJzb3IoKTtcblxuICAgICAgICB2YXIgZGJSZXN1bHRzID0gW107XG5cbiAgICAgICAgZGJDdXJzb3Iub25zdWNjZXNzID0gKGUpID0+IHtcbiAgICAgICAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuXG4gICAgICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICAgICAgZGJSZXN1bHRzLnB1c2goe1xuICAgICAgICAgICAgICBrZXk6IGN1cnNvci5rZXksXG4gICAgICAgICAgICAgIHZhbHVlOiBjdXJzb3IudmFsdWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUoZGJSZXN1bHRzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBkYkN1cnNvci5vbmVycm9yID0gKGUpID0+IHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH1cblxuICAgICAgfSk7XG5cbiAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZSAoc3RvcmVOYW1lLCBrZXkpIHtcbiAgICByZXR1cm4gdGhpcy5vcGVuKCkudGhlbigoZGIpID0+IHtcblxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgICB2YXIgZGJUcmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKHN0b3JlTmFtZSwgJ3JlYWR3cml0ZScpO1xuICAgICAgICB2YXIgZGJTdG9yZSA9IGRiVHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcblxuICAgICAgICBkYlRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSAoZSkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoZSk7XG4gICAgICAgIH1cblxuICAgICAgICBkYlRyYW5zYWN0aW9uLm9uYWJvcnQgPVxuICAgICAgICBkYlRyYW5zYWN0aW9uLm9uZXJyb3IgPSAoZSkgPT4ge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRiU3RvcmUuZGVsZXRlKGtleSk7XG5cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZGVsZXRlQWxsIChzdG9yZU5hbWUpIHtcblxuICAgIHJldHVybiB0aGlzLm9wZW4oKS50aGVuKChkYikgPT4ge1xuXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuXG4gICAgICAgIHZhciBkYlRyYW5zYWN0aW9uID0gZGIudHJhbnNhY3Rpb24oc3RvcmVOYW1lLCAncmVhZHdyaXRlJyk7XG4gICAgICAgIHZhciBkYlN0b3JlID0gZGJUcmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICB2YXIgZGJSZXF1ZXN0ID0gZGJTdG9yZS5jbGVhcigpO1xuXG4gICAgICAgIGRiUmVxdWVzdC5vbnN1Y2Nlc3MgPSAoZSkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoZSk7XG4gICAgICAgIH1cblxuICAgICAgICBkYlJlcXVlc3Qub25lcnJvciA9IChlKSA9PiB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9XG5cbiAgICAgIH0pO1xuXG4gICAgfSk7XG4gIH1cblxufVxuIl19
},{"./ConfigManager":5}],7:[function(require,module,exports){
/**
 *
 * Copyright 2015 Google Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

exports['default'] = PubSubInstance;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function PubSubInstance() {

  if (typeof window.PubSubInstance_ !== 'undefined') return Promise.resolve(window.PubSubInstance_);

  window.PubSubInstance_ = new PubSub();

  return Promise.resolve(window.PubSubInstance_);
}

var PubSub = (function () {
  function PubSub() {
    _classCallCheck(this, PubSub);

    this.subs = {};
  }

  _createClass(PubSub, [{
    key: 'sub',
    value: function sub(name, callback) {

      if (!this.subs[name]) this.subs[name] = [];

      this.subs[name].push(callback);
    }
  }, {
    key: 'unsub',
    value: function unsub(name, callback) {

      if (!this.subs[name]) return;

      var index = this.subs.indexOf(callback);

      if (index === -1) return;

      this.subs.splice(index, 1);
    }
  }, {
    key: 'pub',
    value: function pub(name, message) {

      if (!this.subs[name]) return;

      this.subs[name].forEach(function (subscriber) {
        subscriber(message);
      });
    }
  }]);

  return PubSub;
})();

module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZXJtYW53L0RvY3VtZW50cy9oZXJtd29uZy9pb3NUZXN0L3NyYy9zY3JpcHRzL2xpYnMvUHViU3ViLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7cUJBaUJ3QixjQUFjOzs7O0FBQXZCLFNBQVMsY0FBYyxHQUFJOztBQUV4QyxNQUFJLE9BQU8sTUFBTSxDQUFDLGVBQWUsS0FBSyxXQUFXLEVBQy9DLE9BQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLENBQUM7O0FBRWpELFFBQU0sQ0FBQyxlQUFlLEdBQUcsSUFBSSxNQUFNLEVBQUUsQ0FBQzs7QUFFdEMsU0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQztDQUNoRDs7SUFFSyxNQUFNO0FBRUUsV0FGUixNQUFNLEdBRUs7MEJBRlgsTUFBTTs7QUFHUixRQUFJLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztHQUNoQjs7ZUFKRyxNQUFNOztXQU1OLGFBQUMsSUFBSSxFQUFFLFFBQVEsRUFBRTs7QUFFbkIsVUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQ2xCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDOztBQUV2QixVQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztLQUNoQzs7O1dBRUssZUFBQyxJQUFJLEVBQUUsUUFBUSxFQUFFOztBQUVyQixVQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFDbEIsT0FBTzs7QUFFVCxVQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQzs7QUFFeEMsVUFBSSxLQUFLLEtBQUssQ0FBQyxDQUFDLEVBQ2QsT0FBTzs7QUFFVCxVQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7S0FDNUI7OztXQUVHLGFBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRTs7QUFFbEIsVUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQ2xCLE9BQU87O0FBRVQsVUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBQSxVQUFVLEVBQUk7QUFDcEMsa0JBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQztPQUNyQixDQUFDLENBQUE7S0FDSDs7O1NBbkNHLE1BQU0iLCJmaWxlIjoiL1VzZXJzL2hlcm1hbncvRG9jdW1lbnRzL2hlcm13b25nL2lvc1Rlc3Qvc3JjL3NjcmlwdHMvbGlicy9QdWJTdWIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqXG4gKiBDb3B5cmlnaHQgMjAxNSBHb29nbGUgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQdWJTdWJJbnN0YW5jZSAoKSB7XG5cbiAgaWYgKHR5cGVvZiB3aW5kb3cuUHViU3ViSW5zdGFuY2VfICE9PSAndW5kZWZpbmVkJylcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHdpbmRvdy5QdWJTdWJJbnN0YW5jZV8pO1xuXG4gIHdpbmRvdy5QdWJTdWJJbnN0YW5jZV8gPSBuZXcgUHViU3ViKCk7XG5cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh3aW5kb3cuUHViU3ViSW5zdGFuY2VfKTtcbn1cblxuY2xhc3MgUHViU3ViIHtcblxuICBjb25zdHJ1Y3RvciAoKSB7XG4gICAgdGhpcy5zdWJzID0ge307XG4gIH1cblxuICBzdWIgKG5hbWUsIGNhbGxiYWNrKSB7XG5cbiAgICBpZiAoIXRoaXMuc3Vic1tuYW1lXSlcbiAgICAgIHRoaXMuc3Vic1tuYW1lXSA9IFtdO1xuXG4gICAgdGhpcy5zdWJzW25hbWVdLnB1c2goY2FsbGJhY2spO1xuICB9XG5cbiAgdW5zdWIgKG5hbWUsIGNhbGxiYWNrKSB7XG5cbiAgICBpZiAoIXRoaXMuc3Vic1tuYW1lXSlcbiAgICAgIHJldHVybjtcblxuICAgIHZhciBpbmRleCA9IHRoaXMuc3Vicy5pbmRleE9mKGNhbGxiYWNrKTtcblxuICAgIGlmIChpbmRleCA9PT0gLTEpXG4gICAgICByZXR1cm47XG5cbiAgICB0aGlzLnN1YnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgfVxuXG4gIHB1YiAobmFtZSwgbWVzc2FnZSkge1xuXG4gICAgaWYgKCF0aGlzLnN1YnNbbmFtZV0pXG4gICAgICByZXR1cm47XG5cbiAgICB0aGlzLnN1YnNbbmFtZV0uZm9yRWFjaChzdWJzY3JpYmVyID0+IHtcbiAgICAgIHN1YnNjcmliZXIobWVzc2FnZSk7XG4gICAgfSlcbiAgfVxuXG59XG4iXX0=
},{}],8:[function(require,module,exports){
/**
 * Copyright 2014 Google Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

exports['default'] = RouterInstance;

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function RouterInstance() {

  if (typeof window.RouterInstance_ !== 'undefined') return Promise.resolve(window.RouterInstance_);

  window.RouterInstance_ = new Router();

  return Promise.resolve(window.RouterInstance_);
}

var Router = (function () {
  function Router() {
    var _this = this;

    _classCallCheck(this, Router);

    this.routes = {};
    this.currentAction = null;
    this.loader = document.querySelector('.loader');

    window.addEventListener('popstate', function (e) {
      _this.onPopState(e);
    });

    this.manageState();
  }

  _createClass(Router, [{
    key: 'add',
    value: function add(path, callbackIn, callbackOut, callbackUpdate) {
      var _this2 = this;

      // Assume the first part of the path is the
      // verb we want to action, with the rest of the path
      // being the data to pass to the handler.
      var pathParts = path.split('/');
      var action = pathParts.shift();

      if (this.routes[action]) throw "A handler already exists for this action: " + action;

      this.routes[action] = {
        'in': callbackIn,
        out: callbackOut,
        update: callbackUpdate
      };

      // Check to see if this path is fulfilled.
      requestAnimationFrame(function () {
        if (_this2.manageState()) {
          document.body.classList.remove('deeplink');
        }
      });
    }
  }, {
    key: 'remove',
    value: function remove(path) {

      var pathParts = path.split('/');
      var action = pathParts.shift();

      if (!this.routes[action]) return;

      delete this.routes[action];
    }
  }, {
    key: 'manageState',
    value: function manageState() {

      var path = document.location.pathname.replace(/^\//, '');

      // Assume the first part of the path is the
      // verb we want to action, with the rest of the path
      // being the data to pass to the handler.
      var pathParts = path.split('/');
      var action = pathParts.shift();
      var data = pathParts.join('/');

      // Add a special case for the root.
      if (action === '') action = '_root';

      // Remove any deeplink covers.
      if (document.body.classList.contains('app-deeplink')) document.body.classList.remove('app-deeplink');

      // Hide the loader.
      this.loader.classList.add('hidden');

      if (this.currentAction === this.routes[action]) {

        if (typeof this.currentAction.update === 'function') {
          this.currentAction.update(data);
          return true;
        }

        return false;
      }

      if (!this.routes[action]) {

        if (this.currentAction) this.currentAction.out();

        this.currentAction = null;
        document.body.focus();
        return false;
      }

      // Set the new action going.
      var delay = this.routes[action]['in'](data) || 0;

      // Remove the old action and update the reference.
      if (this.currentAction) {

        // Allow the incoming view to delay the outgoing one
        // so that we don't get too much overlapping animation.
        if (delay === 0) this.currentAction.out();else setTimeout(this.currentAction.out, delay);
      }

      this.currentAction = this.routes[action];

      return true;
    }
  }, {
    key: 'go',
    value: function go(path) {
      var _this3 = this;

      // Only process real changes.
      if (path === window.location.pathname) return;

      history.pushState(undefined, "", path);
      requestAnimationFrame(function () {
        _this3.manageState();
      });
    }
  }, {
    key: 'onPopState',
    value: function onPopState(e) {
      var _this4 = this;

      e.preventDefault();
      requestAnimationFrame(function () {
        _this4.manageState();
      });
    }
  }]);

  return Router;
})();

module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZXJtYW53L0RvY3VtZW50cy9oZXJtd29uZy9pb3NUZXN0L3NyYy9zY3JpcHRzL2xpYnMvUm91dGVyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztxQkFnQndCLGNBQWM7Ozs7QUFBdkIsU0FBUyxjQUFjLEdBQUk7O0FBRXhDLE1BQUksT0FBTyxNQUFNLENBQUMsZUFBZSxLQUFLLFdBQVcsRUFDL0MsT0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQzs7QUFFakQsUUFBTSxDQUFDLGVBQWUsR0FBRyxJQUFJLE1BQU0sRUFBRSxDQUFDOztBQUV0QyxTQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0NBQ2hEOztJQUVLLE1BQU07QUFFRSxXQUZSLE1BQU0sR0FFSzs7OzBCQUZYLE1BQU07O0FBR1IsUUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7QUFDakIsUUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUM7QUFDMUIsUUFBSSxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxDQUFDOztBQUVoRCxVQUFNLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxFQUFFLFVBQUMsQ0FBQyxFQUFLO0FBQ3pDLFlBQUssVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO0tBQ3BCLENBQUMsQ0FBQzs7QUFFSCxRQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7R0FDcEI7O2VBWkcsTUFBTTs7V0FjTixhQUFDLElBQUksRUFBRSxVQUFVLEVBQUUsV0FBVyxFQUFFLGNBQWMsRUFBRTs7Ozs7O0FBS2xELFVBQUksU0FBUyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDaEMsVUFBSSxNQUFNLEdBQUcsU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDOztBQUUvQixVQUFJLElBQUksQ0FBQyxN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Q0FBQyxDQUFDOztBQUV6QyxhQUFPLElBQUksQ0FBQztLQUNiOzs7V0FFRSxZQUFDLElBQUksRUFBRTs7OztBQUdSLFVBQUksSUFBSSxLQUFLLE1BQU0sQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUNuQyxPQUFPOztBQUVULGFBQU8sQ0FBQyxTQUFTLENBQUMsU0FBUyxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUN2QywyQkFBcUIsQ0FBQyxZQUFNO0FBQzFCLGVBQUssV0FBVyxFQUFFLENBQUM7T0FDcEIsQ0FBQyxDQUFDO0tBQ0o7OztXQUVVLG9CQUFDLENBQUMsRUFBRTs7O0FBQ2IsT0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO0FBQ25CLDJCQUFxQixDQUFDLFlBQU07QUFDMUIsZUFBSyxXQUFXLEVBQUUsQ0FBQztPQUNwQixDQUFDLENBQUM7S0FDSjs7O1NBaElHLE1BQU0iLCJmaWxlIjoiL1VzZXJzL2hlcm1hbncvRG9jdW1lbnRzL2hlcm13b25nL2lvc1Rlc3Qvc3JjL3NjcmlwdHMvbGlicy9Sb3V0ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAyMDE0IEdvb2dsZSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFJvdXRlckluc3RhbmNlICgpIHtcblxuICBpZiAodHlwZW9mIHdpbmRvdy5Sb3V0ZXJJbnN0YW5jZV8gIT09ICd1bmRlZmluZWQnKVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUod2luZG93LlJvdXRlckluc3RhbmNlXyk7XG5cbiAgd2luZG93LlJvdXRlckluc3RhbmNlXyA9IG5ldyBSb3V0ZXIoKTtcblxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHdpbmRvdy5Sb3V0ZXJJbnN0YW5jZV8pO1xufVxuXG5jbGFzcyBSb3V0ZXIge1xuXG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICB0aGlzLnJvdXRlcyA9IHt9O1xuICAgIHRoaXMuY3VycmVudEFjdGlvbiA9IG51bGw7XG4gICAgdGhpcy5sb2FkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyJyk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCAoZSkgPT4ge1xuICAgICAgdGhpcy5vblBvcFN0YXRlKGUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5tYW5hZ2VTdGF0ZSgpO1xuICB9XG5cbiAgYWRkIChwYXRoLCBjYWxsYmFja0luLCBjYWxsYmFja091dCwgY2FsbGJhY2tVcGRhdGUpIHtcblxuICAgIC8vIEFzc3VtZSB0aGUgZmlyc3QgcGFydCBvZiB0aGUgcGF0aCBpcyB0aGVcbiAgICAvLyB2ZXJiIHdlIHdhbnQgdG8gYWN0aW9uLCB3aXRoIHRoZSByZXN0IG9mIHRoZSBwYXRoXG4gICAgLy8gYmVpbmcgdGhlIGRhdGEgdG8gcGFzcyB0byB0aGUgaGFuZGxlci5cbiAgICB2YXIgcGF0aFBhcnRzID0gcGF0aC5zcGxpdCgnLycpO1xuICAgIHZhciBhY3Rpb24gPSBwYXRoUGFydHMuc2hpZnQoKTtcblxuICAgIGlmICh0aGlzLnJvdXRlc1thY3Rpb25dKVxuICAgICAgdGhyb3cgXCJBIGhhbmRsZXIgYWxyZWFkeSBleGlzdHMgZm9yIHRoaXMgYWN0aW9uOiBcIiArIGFjdGlvbjtcblxuICAgIHRoaXMucm91dGVzW2FjdGlvbl0gPSB7XG4gICAgICBpbjogY2FsbGJhY2tJbixcbiAgICAgIG91dDogY2FsbGJhY2tPdXQsXG4gICAgICB1cGRhdGU6IGNhbGxiYWNrVXBkYXRlXG4gICAgfTtcblxuICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0aGlzIHBhdGggaXMgZnVsZmlsbGVkLlxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5tYW5hZ2VTdGF0ZSgpKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnZGVlcGxpbmsnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJlbW92ZSAocGF0aCkge1xuXG4gICAgdmFyIHBhdGhQYXJ0cyA9IHBhdGguc3BsaXQoJy8nKTtcbiAgICB2YXIgYWN0aW9uID0gcGF0aFBhcnRzLnNoaWZ0KCk7XG5cbiAgICBpZiAoIXRoaXMucm91dGVzW2FjdGlvbl0pXG4gICAgICByZXR1cm47XG5cbiAgICBkZWxldGUgdGhpcy5yb3V0ZXNbYWN0aW9uXTtcbiAgfVxuXG4gIG1hbmFnZVN0YXRlICgpIHtcblxuICAgIHZhciBwYXRoID0gZG9jdW1lbnQubG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXlxcLy8sICcnKTtcblxuICAgIC8vIEFzc3VtZSB0aGUgZmlyc3QgcGFydCBvZiB0aGUgcGF0aCBpcyB0aGVcbiAgICAvLyB2ZXJiIHdlIHdhbnQgdG8gYWN0aW9uLCB3aXRoIHRoZSByZXN0IG9mIHRoZSBwYXRoXG4gICAgLy8gYmVpbmcgdGhlIGRhdGEgdG8gcGFzcyB0byB0aGUgaGFuZGxlci5cbiAgICB2YXIgcGF0aFBhcnRzID0gcGF0aC5zcGxpdCgnLycpO1xuICAgIHZhciBhY3Rpb24gPSBwYXRoUGFydHMuc2hpZnQoKTtcbiAgICB2YXIgZGF0YSA9IHBhdGhQYXJ0cy5qb2luKCcvJyk7XG5cbiAgICAvLyBBZGQgYSBzcGVjaWFsIGNhc2UgZm9yIHRoZSByb290LlxuICAgIGlmIChhY3Rpb24gPT09ICcnKVxuICAgICAgYWN0aW9uID0gJ19yb290JztcblxuICAgIC8vIFJlbW92ZSBhbnkgZGVlcGxpbmsgY292ZXJzLlxuICAgIGlmIChkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygnYXBwLWRlZXBsaW5rJykpXG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2FwcC1kZWVwbGluaycpO1xuXG4gICAgLy8gSGlkZSB0aGUgbG9hZGVyLlxuICAgIHRoaXMubG9hZGVyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuXG4gICAgaWYgKHRoaXMuY3VycmVudEFjdGlvbiA9PT0gdGhpcy5yb3V0ZXNbYWN0aW9uXSkge1xuXG4gICAgICBpZiAodHlwZW9mIHRoaXMuY3VycmVudEFjdGlvbi51cGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50QWN0aW9uLnVwZGF0ZShkYXRhKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMucm91dGVzW2FjdGlvbl0pIHtcblxuICAgICAgaWYgKHRoaXMuY3VycmVudEFjdGlvbilcbiAgICAgICAgdGhpcy5jdXJyZW50QWN0aW9uLm91dCgpO1xuXG4gICAgICB0aGlzLmN1cnJlbnRBY3Rpb24gPSBudWxsO1xuICAgICAgZG9jdW1lbnQuYm9keS5mb2N1cygpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIFNldCB0aGUgbmV3IGFjdGlvbiBnb2luZy5cbiAgICB2YXIgZGVsYXkgPSB0aGlzLnJvdXRlc1thY3Rpb25dLmluKGRhdGEpIHx8IDA7XG5cbiAgICAvLyBSZW1vdmUgdGhlIG9sZCBhY3Rpb24gYW5kIHVwZGF0ZSB0aGUgcmVmZXJlbmNlLlxuICAgIGlmICh0aGlzLmN1cnJlbnRBY3Rpb24pIHtcblxuICAgICAgLy8gQWxsb3cgdGhlIGluY29taW5nIHZpZXcgdG8gZGVsYXkgdGhlIG91dGdvaW5nIG9uZVxuICAgICAgLy8gc28gdGhhdCB3ZSBkb24ndCBnZXQgdG9vIG11Y2ggb3ZlcmxhcHBpbmcgYW5pbWF0aW9uLlxuICAgICAgaWYgKGRlbGF5ID09PSAwKVxuICAgICAgICB0aGlzLmN1cnJlbnRBY3Rpb24ub3V0KCk7XG4gICAgICBlbHNlXG4gICAgICAgIHNldFRpbWVvdXQodGhpcy5jdXJyZW50QWN0aW9uLm91dCwgZGVsYXkpO1xuICAgIH1cblxuICAgIHRoaXMuY3VycmVudEFjdGlvbiA9IHRoaXMucm91dGVzW2FjdGlvbl07XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGdvIChwYXRoKSB7XG5cbiAgICAvLyBPbmx5IHByb2Nlc3MgcmVhbCBjaGFuZ2VzLlxuICAgIGlmIChwYXRoID09PSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpXG4gICAgICByZXR1cm47XG5cbiAgICBoaXN0b3J5LnB1c2hTdGF0ZSh1bmRlZmluZWQsIFwiXCIsIHBhdGgpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICB0aGlzLm1hbmFnZVN0YXRlKCk7XG4gICAgfSk7XG4gIH1cblxuICBvblBvcFN0YXRlIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICB0aGlzLm1hbmFnZVN0YXRlKCk7XG4gICAgfSk7XG4gIH1cbn1cbiJdfQ==
},{}],9:[function(require,module,exports){
/**
 *
 * Copyright 2015 Google Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; desc = parent = undefined; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _Model2 = require('./Model');

var _Model3 = _interopRequireDefault(_Model2);

var MemoModel = (function (_Model) {
  _inherits(MemoModel, _Model);

  function MemoModel(data, key) {
    _classCallCheck(this, MemoModel);

    _get(Object.getPrototypeOf(MemoModel.prototype), 'constructor', this).call(this, key);

    this.title = data.title || 'Untitled Memo';
    this.description = data.description || null;
    this.url = data.url || MemoModel.makeURL();
    this.audio = data.audio || null;
    this.volumeData = data.volumeData || null;
    this.time = data.time || Date.now();
    this.transcript = data.transcript || null;
  }

  _createClass(MemoModel, null, [{
    key: 'makeURL',
    value: function makeURL() {
      var url = '';
      for (var i = 0; i < 16; i++) {
        url += Number(Math.floor(Math.random() * 16)).toString(16);
      }

      return url;
    }
  }, {
    key: 'UPDATED',
    get: function get() {
      return 'MemoModel-updated';
    }
  }, {
    key: 'storeName',
    get: function get() {
      return 'MemoModel';
    }
  }]);

  return MemoModel;
})(_Model3['default']);

exports['default'] = MemoModel;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZXJtYW53L0RvY3VtZW50cy9oZXJtd29uZy9pb3NUZXN0L3NyYy9zY3JpcHRzL21vZGVsL01lbW9Nb2RlbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7c0JBaUJrQixTQUFTOzs7O0lBRU4sU0FBUztZQUFULFNBQVM7O0FBRWhCLFdBRk8sU0FBUyxDQUVmLElBQUksRUFBRSxHQUFHLEVBQUU7MEJBRkwsU0FBUzs7QUFJMUIsK0JBSmlCLFNBQVMsNkNBSXBCLEdBQUcsRUFBRTs7QUFFWCxRQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLElBQUksZUFBZSxDQUFDO0FBQzNDLFFBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLFdBQVcsSUFBSSxJQUFJLENBQUM7QUFDNUMsUUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxJQUFJLFNBQVMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztBQUMzQyxRQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDO0FBQ2hDLFFBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsSUFBSSxJQUFJLENBQUM7QUFDMUMsUUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSSxJQUFJLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUNwQyxRQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxVQUFVLElBQUksSUFBSSxDQUFDO0dBQzNDOztlQWJrQixTQUFTOztXQWViLG1CQUFHO0FBQ2hCLFVBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQztBQUNiLFdBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDM0IsV0FBRyxJQUFJLE1BQU0sQ0FDVCxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FDakMsQ0FBQyxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUM7T0FDaEI7O0FBRUQsYUFBTyxHQUFHLENBQUM7S0FDWjs7O1NBRWtCLGVBQUc7QUFDcEIsYUFBTyxtQkFBbUIsQ0FBQztLQUM1Qjs7O1NBRW9CLGVBQUc7QUFDdEIsYUFBTyxXQUFXLENBQUM7S0FDcEI7OztTQWhDa0IsU0FBUzs7O3FCQUFULFNBQVMiLCJmaWxlIjoiL1VzZXJzL2hlcm1hbncvRG9jdW1lbnRzL2hlcm13b25nL2lvc1Rlc3Qvc3JjL3NjcmlwdHMvbW9kZWwvTWVtb01vZGVsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKlxuICogQ29weXJpZ2h0IDIwMTUgR29vZ2xlIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IE1vZGVsIGZyb20gJy4vTW9kZWwnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZW1vTW9kZWwgZXh0ZW5kcyBNb2RlbCB7XG5cbiAgY29uc3RydWN0b3IgKGRhdGEsIGtleSkge1xuXG4gICAgc3VwZXIoa2V5KTtcblxuICAgIHRoaXMudGl0bGUgPSBkYXRhLnRpdGxlIHx8ICdVbnRpdGxlZCBNZW1vJztcbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gZGF0YS5kZXNjcmlwdGlvbiB8fCBudWxsO1xuICAgIHRoaXMudXJsID0gZGF0YS51cmwgfHwgTWVtb01vZGVsLm1ha2VVUkwoKTtcbiAgICB0aGlzLmF1ZGlvID0gZGF0YS5hdWRpbyB8fCBudWxsO1xuICAgIHRoaXMudm9sdW1lRGF0YSA9IGRhdGEudm9sdW1lRGF0YSB8fCBudWxsO1xuICAgIHRoaXMudGltZSA9IGRhdGEudGltZSB8fCBEYXRlLm5vdygpO1xuICAgIHRoaXMudHJhbnNjcmlwdCA9IGRhdGEudHJhbnNjcmlwdCB8fCBudWxsO1xuICB9XG5cbiAgc3RhdGljIG1ha2VVUkwgKCkge1xuICAgIHZhciB1cmwgPSAnJztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspIHtcbiAgICAgIHVybCArPSBOdW1iZXIoXG4gICAgICAgICAgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTYpXG4gICAgICApLnRvU3RyaW5nKDE2KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdXJsO1xuICB9XG5cbiAgc3RhdGljIGdldCBVUERBVEVEICgpIHtcbiAgICByZXR1cm4gJ01lbW9Nb2RlbC11cGRhdGVkJztcbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3RvcmVOYW1lICgpIHtcbiAgICByZXR1cm4gJ01lbW9Nb2RlbCc7XG4gIH1cblxufVxuIl19
},{"./Model":10}],10:[function(require,module,exports){
/**
 *
 * Copyright 2015 Google Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

'use strict';

Object.defineProperty(exports, '__esModule', {
  value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var _libsDatabase = require('../libs/Database');

var _libsDatabase2 = _interopRequireDefault(_libsDatabase);

var _libsConfigManager = require('../libs/ConfigManager');

var _libsConfigManager2 = _interopRequireDefault(_libsConfigManager);

var Model = (function () {
  function Model(key) {
    _classCallCheck(this, Model);

    this.key = key;
  }

  _createClass(Model, [{
    key: 'put',
    value: function put() {
      return this.constructor.put(this);
    }

    /**
     * Either inserts or update depending on whether the key / keyPath is set.
     * If the keyPath is set, and a property of the value matches (in-line key)
     * then the object is updated. If the keyPath is not set and the value's key
     * is null, then the object is inserted. If the keypath is not set and the
     * value's key is set then the object is updated.
     */
  }, {
    key: 'delete',
    value: function _delete() {
      return this.constructor['delete'](this);
    }
  }], [{
    key: 'nuke',
    value: function nuke() {
      return (0, _libsDatabase2['default'])().then(function (db) {
        return db.close();
      }).then(function (db) {
        return db.nuke();
      });
    }
  }, {
    key: 'get',
    value: function get(key) {
      var _this = this;

      if (this instanceof Model) Promise.reject("Can't call get on Model directly. Inherit first.");

      return (0, _libsDatabase2['default'])()

      // Do the query.
      .then(function (db) {
        return db.get(_this.storeName, key);
      })

      // Wrap the result in the correct class.
      .then(function (result) {

        return (0, _libsConfigManager2['default'])().then(function (configManager) {

          var store = configManager.getStore(_this.storeName);

          if (!result) return;

          var resultKey = key;

          // If the store uses a keypath then reset
          // the key back to undefined.
          if (store.properties.keyPath) resultKey = undefined;

          return new _this(result, resultKey);
        });
      });
    }

    /**
     * Gets all the objects from the database.
     */
  }, {
    key: 'getAll',
    value: function getAll(index, order) {
      var _this2 = this;

      if (this instanceof Model) Promise.reject("Can't call getAll on Model directly. Inherit first.");

      return (0, _libsDatabase2['default'])()

      // Do the query.
      .then(function (db) {
        return db.getAll(_this2.storeName, index, order);
      })

      // Wrap all the results in the correct class.
      .then(function (results) {

        return (0, _libsConfigManager2['default'])().then(function (configManager) {

          var store = configManager.getStore(_this2.storeName);
          var results_ = [];

          var _iteratorNormalCompletion = true;
          var _didIteratorError = false;
          var _iteratorError = undefined;

          try {
            for (var _iterator = results[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
              var result = _step.value;

              var key = result.key;

              // If the store uses a keypath then reset
              // the key back to undefined.
              if (store.properties.keyPath) key = undefined;

              results_.push(new _this2(result.value, key));
            }
          } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
          } finally {
            try {
              if (!_iteratorNormalCompletion && _iterator['return']) {
                _iterator['return']();
              }
            } finally {
              if (_didIteratorError) {
                throw _iteratorError;
              }
            }
          }

          return results_;
        });
      });
    }
  }, {
    key: 'put',
    value: function put(value) {
      var _this3 = this;

      if (this instanceof Model) Promise.reject("Can't call put on Model directly. Inherit first.");

      return (0, _libsDatabase2['default'])()

      // Do the query.
      .then(function (db) {
        return db.put(_this3.storeName, value, value.key);
      }).then(function (key) {

        return (0, _libsConfigManager2['default'])().then(function (configManager) {

          // Inserting may provide a key. If there is no keyPath set
          // the object needs to be updated with a key value so it can
          // be altered and saved again without creating a new record.
          var store = configManager.getStore(_this3.storeName);

          var keyPath = store.properties.keyPath;

          if (!keyPath) value.key = key;

          return value;
        });
      });
    }
  }, {
    key: 'deleteAll',
    value: function deleteAll() {
      var _this4 = this;

      if (this instanceof Model) Promise.reject("Can't call deleteAll on Model directly. Inherit first.");

      return (0, _libsDatabase2['default'])().then(function (db) {
        return db.deleteAll(_this4.storeName);
      })['catch'](function (e) {
        // It may be that the store doesn't exist yet, so relax for that one.
        if (e.name !== 'NotFoundError') throw e;
      });
    }
  }, {
    key: 'delete',
    value: function _delete(value) {
      var _this5 = this;

      if (this instanceof Model) Promise.reject("Can't call delete on Model directly. Inherit first.");

      return (0, _libsConfigManager2['default'])().then(function (configManager) {

        // If passed the full object to delete then
        // grab its key for the delete
        if (value instanceof _this5) {

          var store = configManager.getStore(_this5.storeName);
          var keyPath = store.properties.keyPath;

          if (keyPath) value = value[keyPath];else value = value.key;
        }

        return (0, _libsDatabase2['default'])().then(function (db) {
          return db['delete'](_this5.storeName, value);
        });
      });
    }
  }, {
    key: 'ASCENDING',
    get: function get() {
      return 'next';
    }
  }, {
    key: 'DESCENDING',
    get: function get() {
      return 'prev';
    }
  }, {
    key: 'UPDATED',
    get: function get() {
      return 'Model-updated';
    }
  }, {
    key: 'storeName',
    get: function get() {
      return 'Model';
    }
  }]);

  return Model;
})();

exports['default'] = Model;
module.exports = exports['default'];
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9oZXJtYW53L0RvY3VtZW50cy9oZXJtd29uZy9pb3NUZXN0L3NyYy9zY3JpcHRzL21vZGVsL01vZGVsLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzRCQWlCNkIsa0JBQWtCOzs7O2lDQUNiLHVCQUF1Qjs7OztJQUVwQyxLQUFLO0FBRVosV0FGTyxLQUFLLENBRVgsR0FBRyxFQUFFOzBCQUZDLEtBQUs7O0FBR3RCLFFBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO0dBQ2hCOztlQUprQixLQUFLOztXQXdHcEIsZUFBRztBQUNMLGFBQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDbkM7Ozs7Ozs7Ozs7O1dBMkRNLG1CQUFHO0FBQ1IsYUFBTyxJQUFJLENBQUMsV0FBVyxVQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDdEM7OztXQWpKVyxnQkFBRztBQUNiLGFBQU8sZ0NBQWtCLENBQ3BCLElBQUksQ0FBRSxVQUFBLEVBQUU7ZUFBSSxFQUFFLENBQUMsS0FBSyxFQUFFO09BQUEsQ0FBRSxDQUN4QixJQUFJLENBQUUsVUFBQSxFQUFFO2VBQUksRUFBRSxDQUFDLElBQUksRUFBRTtPQUFBLENBQUUsQ0FBQztLQUM5Qjs7O1dBRVUsYUFBQyxHQUFHLEVBQUU7OztBQUVmLFVBQUksSUFBSSxZQUFZLEtBQUssRUFDdkIsT0FBTyxDQUFDLE1BQU0sQ0FBQyxrREFBa0QsQ0FBQyxDQUFDOztBQUVyRSxhQUFPLGdDQUFrQjs7O09BR3BCLElBQUksQ0FBRSxVQUFBLEVBQUU7ZUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLE1BQUssU0FBUyxFQUFFLEdBQUcsQ0FBQztPQUFBLENBQUU7OztPQUd6QyxJQUFJLENBQUUsVUFBQSxNQUFNLEVBQUk7O0FBRWYsZUFBTyxxQ0FBdUIsQ0FBQyxJQUFJLENBQUUsVUFBQSxhQUFhLEVBQUk7O0FBRXBELGNBQUksS0FB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VUFBSSxJQUFJLFlBQVksS0FBSyxFQUN2QixPQUFPLENBQUMsTUFBTSxDQUFDLHFEQUFxRCxDQUFDLENBQUM7O0FBRXhFLGFBQU8scUNBQXVCLENBQUMsSUFBSSxDQUFFLFVBQUEsYUFBYSxFQUFJOzs7O0FBSXBELFlBQUksS0FBSyxrQkFBZ0IsRUFBRTs7QUFFekIsY0FBSSxLQUFLLEdBQUcsYUFBYSxDQUFDLFFBQVEsQ0FBRSxPQUFLLFNBQVMsQ0FBRSxDQUFDO0FBQ3JELGNBQUksT0FBTyxHQUFHLEtBQUssQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDOztBQUV2QyxjQUFJLE9BQU8sRUFDVCxLQUFLLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBRXZCLEtBQUssR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDO1NBQ3JCOztBQUVELGVBQU8sZ0NBQWtCLENBRXRCLElBQUksQ0FBRSxVQUFBLEVBQUU7aUJBQUksRUFBRSxVQUFPLENBQUUsT0FBSyxTQUFTLEVBQUUsS0FBSyxDQUFFO1NBQUEsQ0FBRSxDQUFDO09BRXJELENBQUMsQ0FBQztLQUNKOzs7U0E1TG9CLGVBQUc7QUFDdEIsYUFBTyxNQUFNLENBQUM7S0FDZjs7O1NBRXFCLGVBQUc7QUFDdkIsYUFBTyxNQUFNLENBQUM7S0FDZjs7O1NBRWtCLGVBQUc7QUFDcEIsYUFBTyxlQUFlLENBQUM7S0FDeEI7OztTQUVvQixlQUFHO0FBQ3RCLGFBQU8sT0FBTyxDQUFDO0tBQ2hCOzs7U0FwQmtCLEtBQUs7OztxQkFBTCxLQUFLIiwiZmlsZSI6Ii9Vc2Vycy9oZXJtYW53L0RvY3VtZW50cy9oZXJtd29uZy9pb3NUZXN0L3NyYy9zY3JpcHRzL21vZGVsL01vZGVsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKlxuICogQ29weXJpZ2h0IDIwMTUgR29vZ2xlIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IERhdGFiYXNlSW5zdGFuY2UgZnJvbSAnLi4vbGlicy9EYXRhYmFzZSc7XG5pbXBvcnQgQ29uZmlnTWFuYWdlckluc3RhbmNlIGZyb20gJy4uL2xpYnMvQ29uZmlnTWFuYWdlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vZGVsIHtcblxuICBjb25zdHJ1Y3RvciAoa2V5KSB7XG4gICAgdGhpcy5rZXkgPSBrZXk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IEFTQ0VORElORyAoKSB7XG4gICAgcmV0dXJuICduZXh0JztcbiAgfVxuXG4gIHN0YXRpYyBnZXQgREVTQ0VORElORyAoKSB7XG4gICAgcmV0dXJuICdwcmV2JztcbiAgfVxuXG4gIHN0YXRpYyBnZXQgVVBEQVRFRCAoKSB7XG4gICAgcmV0dXJuICdNb2RlbC11cGRhdGVkJztcbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3RvcmVOYW1lICgpIHtcbiAgICByZXR1cm4gJ01vZGVsJztcbiAgfVxuXG4gIHN0YXRpYyBudWtlICgpIHtcbiAgICByZXR1cm4gRGF0YWJhc2VJbnN0YW5jZSgpXG4gICAgICAgIC50aGVuKCBkYiA9PiBkYi5jbG9zZSgpIClcbiAgICAgICAgLnRoZW4oIGRiID0+IGRiLm51a2UoKSApO1xuICB9XG5cbiAgc3RhdGljIGdldCAoa2V5KSB7XG5cbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mIE1vZGVsKVxuICAgICAgUHJvbWlzZS5yZWplY3QoXCJDYW4ndCBjYWxsIGdldCBvbiBNb2RlbCBkaXJlY3RseS4gSW5oZXJpdCBmaXJzdC5cIik7XG5cbiAgICByZXR1cm4gRGF0YWJhc2VJbnN0YW5jZSgpXG5cbiAgICAgICAgLy8gRG8gdGhlIHF1ZXJ5LlxuICAgICAgICAudGhlbiggZGIgPT4gZGIuZ2V0KHRoaXMuc3RvcmVOYW1lLCBrZXkpIClcblxuICAgICAgICAvLyBXcmFwIHRoZSByZXN1bHQgaW4gdGhlIGNvcnJlY3QgY2xhc3MuXG4gICAgICAgIC50aGVuKCByZXN1bHQgPT4ge1xuXG4gICAgICAgICAgcmV0dXJuIENvbmZpZ01hbmFnZXJJbnN0YW5jZSgpLnRoZW4oIGNvbmZpZ01hbmFnZXIgPT4ge1xuXG4gICAgICAgICAgICB2YXIgc3RvcmUgPSBjb25maWdNYW5hZ2VyLmdldFN0b3JlKHRoaXMuc3RvcmVOYW1lKTtcblxuICAgICAgICAgICAgaWYgKCFyZXN1bHQpXG4gICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgdmFyIHJlc3VsdEtleSA9IGtleTtcblxuICAgICAgICAgICAgLy8gSWYgdGhlIHN0b3JlIHVzZXMgYSBrZXlwYXRoIHRoZW4gcmVzZXRcbiAgICAgICAgICAgIC8vIHRoZSBrZXkgYmFjayB0byB1bmRlZmluZWQuXG4gICAgICAgICAgICBpZiAoc3RvcmUucHJvcGVydGllcy5rZXlQYXRoKVxuICAgICAgICAgICAgICByZXN1bHRLZXkgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHJldHVybiBuZXcgdGhpcyhyZXN1bHQsIHJlc3VsdEtleSk7XG5cbiAgICAgICAgICB9KTtcblxuICAgICAgICB9KTtcblxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgYWxsIHRoZSBvYmplY3RzIGZyb20gdGhlIGRhdGFiYXNlLlxuICAgKi9cbiAgc3RhdGljIGdldEFsbCAoaW5kZXgsIG9yZGVyKSB7XG5cbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mIE1vZGVsKVxuICAgICAgUHJvbWlzZS5yZWplY3QoXCJDYW4ndCBjYWxsIGdldEFsbCBvbiBNb2RlbCBkaXJlY3RseS4gSW5oZXJpdCBmaXJzdC5cIik7XG5cbiAgICByZXR1cm4gRGF0YWJhc2VJbnN0YW5jZSgpXG5cbiAgICAgICAgLy8gRG8gdGhlIHF1ZXJ5LlxuICAgICAgICAudGhlbiggZGIgPT4gZGIuZ2V0QWxsKHRoaXMuc3RvcmVOYW1lLCBpbmRleCwgb3JkZXIpIClcblxuICAgICAgICAvLyBXcmFwIGFsbCB0aGUgcmVzdWx0cyBpbiB0aGUgY29ycmVjdCBjbGFzcy5cbiAgICAgICAgLnRoZW4oIHJlc3VsdHMgPT4ge1xuXG4gICAgICAgICAgcmV0dXJuIENvbmZpZ01hbmFnZXJJbnN0YW5jZSgpLnRoZW4oIGNvbmZpZ01hbmFnZXIgPT4ge1xuXG4gICAgICAgICAgICB2YXIgc3RvcmUgPSBjb25maWdNYW5hZ2VyLmdldFN0b3JlKHRoaXMuc3RvcmVOYW1lKTtcbiAgICAgICAgICAgIHZhciByZXN1bHRzXyA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGxldCByZXN1bHQgb2YgcmVzdWx0cykge1xuXG4gICAgICAgICAgICAgIHZhciBrZXkgPSByZXN1bHQua2V5O1xuXG4gICAgICAgICAgICAgIC8vIElmIHRoZSBzdG9yZSB1c2VzIGEga2V5cGF0aCB0aGVuIHJlc2V0XG4gICAgICAgICAgICAgIC8vIHRoZSBrZXkgYmFjayB0byB1bmRlZmluZWQuXG4gICAgICAgICAgICAgIGlmIChzdG9yZS5wcm9wZXJ0aWVzLmtleVBhdGgpXG4gICAgICAgICAgICAgICAga2V5ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgIHJlc3VsdHNfLnB1c2gobmV3IHRoaXMocmVzdWx0LnZhbHVlLCBrZXkpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHNfO1xuXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgfSk7XG5cbiAgfVxuXG4gIHB1dCAoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IucHV0KHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEVpdGhlciBpbnNlcnRzIG9yIHVwZGF0ZSBkZXBlbmRpbmcgb24gd2hldGhlciB0aGUga2V5IC8ga2V5UGF0aCBpcyBzZXQuXG4gICAqIElmIHRoZSBrZXlQYXRoIGlzIHNldCwgYW5kIGEgcHJvcGVydHkgb2YgdGhlIHZhbHVlIG1hdGNoZXMgKGluLWxpbmUga2V5KVxuICAgKiB0aGVuIHRoZSBvYmplY3QgaXMgdXBkYXRlZC4gSWYgdGhlIGtleVBhdGggaXMgbm90IHNldCBhbmQgdGhlIHZhbHVlJ3Mga2V5XG4gICAqIGlzIG51bGwsIHRoZW4gdGhlIG9iamVjdCBpcyBpbnNlcnRlZC4gSWYgdGhlIGtleXBhdGggaXMgbm90IHNldCBhbmQgdGhlXG4gICAqIHZhbHVlJ3Mga2V5IGlzIHNldCB0aGVuIHRoZSBvYmplY3QgaXMgdXBkYXRlZC5cbiAgICovXG4gIHN0YXRpYyBwdXQgKHZhbHVlKSB7XG5cbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mIE1vZGVsKVxuICAgICAgUHJvbWlzZS5yZWplY3QoXCJDYW4ndCBjYWxsIHB1dCBvbiBNb2RlbCBkaXJlY3RseS4gSW5oZXJpdCBmaXJzdC5cIik7XG5cbiAgICByZXR1cm4gRGF0YWJhc2VJbnN0YW5jZSgpXG5cbiAgICAgICAgLy8gRG8gdGhlIHF1ZXJ5LlxuICAgICAgICAudGhlbiggZGIgPT4gZGIucHV0KCB0aGlzLnN0b3JlTmFtZSwgdmFsdWUsIHZhbHVlLmtleSApIClcblxuICAgICAgICAudGhlbigga2V5ID0+IHtcblxuICAgICAgICAgIHJldHVybiBDb25maWdNYW5hZ2VySW5zdGFuY2UoKS50aGVuKCBjb25maWdNYW5hZ2VyID0+IHtcblxuICAgICAgICAgICAgLy8gSW5zZXJ0aW5nIG1heSBwcm92aWRlIGEga2V5LiBJZiB0aGVyZSBpcyBubyBrZXlQYXRoIHNldFxuICAgICAgICAgICAgLy8gdGhlIG9iamVjdCBuZWVkcyB0byBiZSB1cGRhdGVkIHdpdGggYSBrZXkgdmFsdWUgc28gaXQgY2FuXG4gICAgICAgICAgICAvLyBiZSBhbHRlcmVkIGFuZCBzYXZlZCBhZ2FpbiB3aXRob3V0IGNyZWF0aW5nIGEgbmV3IHJlY29yZC5cbiAgICAgICAgICAgIHZhciBzdG9yZSA9IGNvbmZpZ01hbmFnZXIuZ2V0U3RvcmUoIHRoaXMuc3RvcmVOYW1lICk7XG5cbiAgICAgICAgICAgIHZhciBrZXlQYXRoID1cbiAgICAgICAgICAgICAgICBzdG9yZS5wcm9wZXJ0aWVzLmtleVBhdGg7XG5cbiAgICAgICAgICAgIGlmICgha2V5UGF0aClcbiAgICAgICAgICAgICAgdmFsdWUua2V5ID0ga2V5O1xuXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG5cbiAgICAgICAgICB9KVxuXG4gICAgICAgIH0pO1xuXG4gIH1cblxuICBzdGF0aWMgZGVsZXRlQWxsICgpIHtcblxuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgTW9kZWwpXG4gICAgICBQcm9taXNlLnJlamVjdChcIkNhbid0IGNhbGwgZGVsZXRlQWxsIG9uIE1vZGVsIGRpcmVjdGx5LiBJbmhlcml0IGZpcnN0LlwiKTtcblxuICAgIHJldHVybiBEYXRhYmFzZUluc3RhbmNlKClcblxuICAgICAgICAudGhlbiggZGIgPT4gZGIuZGVsZXRlQWxsKCB0aGlzLnN0b3JlTmFtZSApIClcblxuICAgICAgICAuY2F0Y2goIGUgPT4ge1xuICAgICAgICAgIC8vIEl0IG1heSBiZSB0aGF0IHRoZSBzdG9yZSBkb2Vzbid0IGV4aXN0IHlldCwgc28gcmVsYXggZm9yIHRoYXQgb25lLlxuICAgICAgICAgIGlmIChlLm5hbWUgIT09ICdOb3RGb3VuZEVycm9yJylcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH0pO1xuXG4gIH1cblxuICBkZWxldGUgKCkge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLmRlbGV0ZSh0aGlzKTtcbiAgfVxuXG4gIHN0YXRpYyBkZWxldGUgKHZhbHVlKSB7XG5cbiAgICBpZiAodGhpcyBpbnN0YW5jZW9mIE1vZGVsKVxuICAgICAgUHJvbWlzZS5yZWplY3QoXCJDYW4ndCBjYWxsIGRlbGV0ZSBvbiBNb2RlbCBkaXJlY3RseS4gSW5oZXJpdCBmaXJzdC5cIik7XG5cbiAgICByZXR1cm4gQ29uZmlnTWFuYWdlckluc3RhbmNlKCkudGhlbiggY29uZmlnTWFuYWdlciA9PiB7XG5cbiAgICAgIC8vIElmIHBhc3NlZCB0aGUgZnVsbCBvYmplY3QgdG8gZGVsZXRlIHRoZW5cbiAgICAgIC8vIGdyYWIgaXRzIGtleSBmb3IgdGhlIGRlbGV0ZVxuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgdGhpcykge1xuXG4gICAgICAgIHZhciBzdG9yZSA9IGNvbmZpZ01hbmFnZXIuZ2V0U3RvcmUoIHRoaXMuc3RvcmVOYW1lICk7XG4gICAgICAgIHZhciBrZXlQYXRoID0gc3RvcmUucHJvcGVydGllcy5rZXlQYXRoO1xuXG4gICAgICAgIGlmIChrZXlQYXRoKVxuICAgICAgICAgIHZhbHVlID0gdmFsdWVba2V5UGF0aF07XG4gICAgICAgIGVsc2VcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmtleTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIERhdGFiYXNlSW5zdGFuY2UoKVxuXG4gICAgICAgIC50aGVuKCBkYiA9PiBkYi5kZWxldGUoIHRoaXMuc3RvcmVOYW1lLCB2YWx1ZSApICk7XG5cbiAgICB9KTtcbiAgfVxufVxuIl19
},{"../libs/ConfigManager":5,"../libs/Database":6}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvc2NyaXB0cy92b2ljZW1lbW8tbGlzdC5qcyIsInNyYy9zY3JpcHRzL2NvbmZpZy9Db25maWcuanMiLCJzcmMvc2NyaXB0cy9jb250cm9sbGVyL0NvbnRyb2xsZXIuanMiLCJzcmMvc2NyaXB0cy9jb250cm9sbGVyL0xpc3RDb250cm9sbGVyLmpzIiwic3JjL3NjcmlwdHMvbGlicy9Db25maWdNYW5hZ2VyLmpzIiwic3JjL3NjcmlwdHMvbGlicy9EYXRhYmFzZS5qcyIsInNyYy9zY3JpcHRzL2xpYnMvUHViU3ViLmpzIiwic3JjL3NjcmlwdHMvbGlicy9Sb3V0ZXIuanMiLCJzcmMvc2NyaXB0cy9tb2RlbC9NZW1vTW9kZWwuanMiLCJzcmMvc2NyaXB0cy9tb2RlbC9Nb2RlbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUMvRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4T0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2hMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IEdvb2dsZSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF9jb250cm9sbGVyTGlzdENvbnRyb2xsZXIgPSByZXF1aXJlKCcuL2NvbnRyb2xsZXIvTGlzdENvbnRyb2xsZXInKTtcblxudmFyIF9jb250cm9sbGVyTGlzdENvbnRyb2xsZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY29udHJvbGxlckxpc3RDb250cm9sbGVyKTtcblxubmV3IF9jb250cm9sbGVyTGlzdENvbnRyb2xsZXIyWydkZWZhdWx0J10oKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklpOVZjMlZ5Y3k5b1pYSnRZVzUzTDBSdlkzVnRaVzUwY3k5b1pYSnRkMjl1Wnk5cGIzTlVaWE4wTDNOeVl5OXpZM0pwY0hSekwzWnZhV05sYldWdGJ5MXNhWE4wTG1weklsMHNJbTVoYldWeklqcGJYU3dpYldGd2NHbHVaM01pT2lJN096czdPenM3T3pzN096czdPenM3T3pzN096dDNRMEZwUWpKQ0xEWkNRVUUyUWpzN096dEJRVVY0UkN3eVEwRkJiMElzUTBGQlF5SXNJbVpwYkdVaU9pSXZWWE5sY25NdmFHVnliV0Z1ZHk5RWIyTjFiV1Z1ZEhNdmFHVnliWGR2Ym1jdmFXOXpWR1Z6ZEM5emNtTXZjMk55YVhCMGN5OTJiMmxqWlcxbGJXOHRiR2x6ZEM1cWN5SXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJaThxS2x4dUlDb2dRMjl3ZVhKcFoyaDBJREl3TVRVZ1IyOXZaMnhsSUVsdVl5NGdRV3hzSUhKcFoyaDBjeUJ5WlhObGNuWmxaQzVjYmlBcVhHNGdLaUJNYVdObGJuTmxaQ0IxYm1SbGNpQjBhR1VnUVhCaFkyaGxJRXhwWTJWdWMyVXNJRlpsY25OcGIyNGdNaTR3SUNoMGFHVWdYQ0pNYVdObGJuTmxYQ0lwTzF4dUlDb2dlVzkxSUcxaGVTQnViM1FnZFhObElIUm9hWE1nWm1sc1pTQmxlR05sY0hRZ2FXNGdZMjl0Y0d4cFlXNWpaU0IzYVhSb0lIUm9aU0JNYVdObGJuTmxMbHh1SUNvZ1dXOTFJRzFoZVNCdlluUmhhVzRnWVNCamIzQjVJRzltSUhSb1pTQk1hV05sYm5ObElHRjBYRzRnS2x4dUlDb2dJQ0FnSUdoMGRIQTZMeTkzZDNjdVlYQmhZMmhsTG05eVp5OXNhV05sYm5ObGN5OU1TVU5GVGxORkxUSXVNRnh1SUNwY2JpQXFJRlZ1YkdWemN5QnlaWEYxYVhKbFpDQmllU0JoY0hCc2FXTmhZbXhsSUd4aGR5QnZjaUJoWjNKbFpXUWdkRzhnYVc0Z2QzSnBkR2x1Wnl3Z2MyOW1kSGRoY21WY2JpQXFJR1JwYzNSeWFXSjFkR1ZrSUhWdVpHVnlJSFJvWlNCTWFXTmxibk5sSUdseklHUnBjM1J5YVdKMWRHVmtJRzl1SUdGdUlGd2lRVk1nU1ZOY0lpQkNRVk5KVXl4Y2JpQXFJRmRKVkVoUFZWUWdWMEZTVWtGT1ZFbEZVeUJQVWlCRFQwNUVTVlJKVDA1VElFOUdJRUZPV1NCTFNVNUVMQ0JsYVhSb1pYSWdaWGh3Y21WemN5QnZjaUJwYlhCc2FXVmtMbHh1SUNvZ1UyVmxJSFJvWlNCTWFXTmxibk5sSUdadmNpQjBhR1VnYzNCbFkybG1hV01nYkdGdVozVmhaMlVnWjI5MlpYSnVhVzVuSUhCbGNtMXBjM05wYjI1eklHRnVaRnh1SUNvZ2JHbHRhWFJoZEdsdmJuTWdkVzVrWlhJZ2RHaGxJRXhwWTJWdWMyVXVYRzRnS2x4dUlDb3ZYRzVjYm1sdGNHOXlkQ0JNYVhOMFEyOXVkSEp2Ykd4bGNpQm1jbTl0SUNjdUwyTnZiblJ5YjJ4c1pYSXZUR2x6ZEVOdmJuUnliMnhzWlhJbk8xeHVYRzV1WlhjZ1RHbHpkRU52Ym5SeWIyeHNaWElvS1R0Y2JpSmRmUT09IiwiLyoqXG4gKlxuICogQ29weXJpZ2h0IDIwMTUgR29vZ2xlIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbnZhciBDb25maWcgPSB7XG4gIG5hbWU6ICd2b2ljZW1lbW8nLFxuICB2ZXJzaW9uOiAxLFxuICBzdG9yZXM6IHtcbiAgICAnTWVtb01vZGVsJzoge1xuICAgICAgcHJvcGVydGllczoge1xuICAgICAgICBhdXRvSW5jcmVtZW50OiB0cnVlLFxuICAgICAgICBrZXlQYXRoOiAndXJsJ1xuICAgICAgfSxcbiAgICAgIGluZGV4ZXM6IHtcbiAgICAgICAgdGltZTogeyB1bmlxdWU6IHRydWUgfVxuICAgICAgfVxuICAgIH0sXG4gICAgJ0FwcE1vZGVsJzoge1xuICAgICAgZGVsZXRlT25VcGdyYWRlOiB0cnVlLFxuICAgICAgcHJvcGVydGllczoge1xuICAgICAgICBhdXRvSW5jcmVtZW50OiB0cnVlXG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBDb25maWc7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklpOVZjMlZ5Y3k5b1pYSnRZVzUzTDBSdlkzVnRaVzUwY3k5b1pYSnRkMjl1Wnk5cGIzTlVaWE4wTDNOeVl5OXpZM0pwY0hSekwyTnZibVpwWnk5RGIyNW1hV2N1YW5NaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWpzN096czdPenM3T3pzN096czdPenM3T3pzN096dEJRV2xDUVN4SlFVRk5MRTFCUVUwc1IwRkJSenRCUVVOaUxFMUJRVWtzUlVGQlJTeFhRVUZYTzBGQlEycENMRk5CUVU4c1JVRkJSU3hEUVVGRE8wRkJRMVlzVVVGQlRTeEZRVUZGTzBGQlEwNHNaVUZCVnl4RlFVRkZPMEZCUTFnc1owSkJRVlVzUlVGQlJUdEJRVU5XTEhGQ1FVRmhMRVZCUVVVc1NVRkJTVHRCUVVOdVFpeGxRVUZQTEVWQlFVVXNTMEZCU3p0UFFVTm1PMEZCUTBRc1lVRkJUeXhGUVVGRk8wRkJRMUFzV1VGQlNTeEZRVUZGTEVWQlFVVXNUVUZCVFN4RlFVRkZMRWxCUVVrc1JVRkJSVHRQUVVOMlFqdExRVU5HTzBGQlEwUXNZMEZCVlN4RlFVRkZPMEZCUTFZc2NVSkJRV1VzUlVGQlJTeEpRVUZKTzBGQlEzSkNMR2RDUVVGVkxFVkJRVVU3UVVGRFZpeHhRa0ZCWVN4RlFVRkZMRWxCUVVrN1QwRkRjRUk3UzBGRFJqdEhRVU5HTzBOQlEwWXNRMEZCUXpzN2NVSkJSV0VzVFVGQlRTSXNJbVpwYkdVaU9pSXZWWE5sY25NdmFHVnliV0Z1ZHk5RWIyTjFiV1Z1ZEhNdmFHVnliWGR2Ym1jdmFXOXpWR1Z6ZEM5emNtTXZjMk55YVhCMGN5OWpiMjVtYVdjdlEyOXVabWxuTG1weklpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2lMeW9xWEc0Z0tseHVJQ29nUTI5d2VYSnBaMmgwSURJd01UVWdSMjl2WjJ4bElFbHVZeTRnUVd4c0lISnBaMmgwY3lCeVpYTmxjblpsWkM1Y2JpQXFYRzRnS2lCTWFXTmxibk5sWkNCMWJtUmxjaUIwYUdVZ1FYQmhZMmhsSUV4cFkyVnVjMlVzSUZabGNuTnBiMjRnTWk0d0lDaDBhR1VnWENKTWFXTmxibk5sWENJcE8xeHVJQ29nZVc5MUlHMWhlU0J1YjNRZ2RYTmxJSFJvYVhNZ1ptbHNaU0JsZUdObGNIUWdhVzRnWTI5dGNHeHBZVzVqWlNCM2FYUm9JSFJvWlNCTWFXTmxibk5sTGx4dUlDb2dXVzkxSUcxaGVTQnZZblJoYVc0Z1lTQmpiM0I1SUc5bUlIUm9aU0JNYVdObGJuTmxJR0YwWEc0Z0tseHVJQ29nSUNBZ0lHaDBkSEE2THk5M2QzY3VZWEJoWTJobExtOXlaeTlzYVdObGJuTmxjeTlNU1VORlRsTkZMVEl1TUZ4dUlDcGNiaUFxSUZWdWJHVnpjeUJ5WlhGMWFYSmxaQ0JpZVNCaGNIQnNhV05oWW14bElHeGhkeUJ2Y2lCaFozSmxaV1FnZEc4Z2FXNGdkM0pwZEdsdVp5d2djMjltZEhkaGNtVmNiaUFxSUdScGMzUnlhV0oxZEdWa0lIVnVaR1Z5SUhSb1pTQk1hV05sYm5ObElHbHpJR1JwYzNSeWFXSjFkR1ZrSUc5dUlHRnVJRndpUVZNZ1NWTmNJaUJDUVZOSlV5eGNiaUFxSUZkSlZFaFBWVlFnVjBGU1VrRk9WRWxGVXlCUFVpQkRUMDVFU1ZSSlQwNVRJRTlHSUVGT1dTQkxTVTVFTENCbGFYUm9aWElnWlhod2NtVnpjeUJ2Y2lCcGJYQnNhV1ZrTGx4dUlDb2dVMlZsSUhSb1pTQk1hV05sYm5ObElHWnZjaUIwYUdVZ2MzQmxZMmxtYVdNZ2JHRnVaM1ZoWjJVZ1oyOTJaWEp1YVc1bklIQmxjbTFwYzNOcGIyNXpJR0Z1WkZ4dUlDb2diR2x0YVhSaGRHbHZibk1nZFc1a1pYSWdkR2hsSUV4cFkyVnVjMlV1WEc0Z0tpOWNibHh1WTI5dWMzUWdRMjl1Wm1sbklEMGdlMXh1SUNCdVlXMWxPaUFuZG05cFkyVnRaVzF2Snl4Y2JpQWdkbVZ5YzJsdmJqb2dNU3hjYmlBZ2MzUnZjbVZ6T2lCN1hHNGdJQ0FnSjAxbGJXOU5iMlJsYkNjNklIdGNiaUFnSUNBZ0lIQnliM0JsY25ScFpYTTZJSHRjYmlBZ0lDQWdJQ0FnWVhWMGIwbHVZM0psYldWdWREb2dkSEoxWlN4Y2JpQWdJQ0FnSUNBZ2EyVjVVR0YwYURvZ0ozVnliQ2RjYmlBZ0lDQWdJSDBzWEc0Z0lDQWdJQ0JwYm1SbGVHVnpPaUI3WEc0Z0lDQWdJQ0FnSUhScGJXVTZJSHNnZFc1cGNYVmxPaUIwY25WbElIMWNiaUFnSUNBZ0lIMWNiaUFnSUNCOUxGeHVJQ0FnSUNkQmNIQk5iMlJsYkNjNklIdGNiaUFnSUNBZ0lHUmxiR1YwWlU5dVZYQm5jbUZrWlRvZ2RISjFaU3hjYmlBZ0lDQWdJSEJ5YjNCbGNuUnBaWE02SUh0Y2JpQWdJQ0FnSUNBZ1lYVjBiMGx1WTNKbGJXVnVkRG9nZEhKMVpWeHVJQ0FnSUNBZ2ZWeHVJQ0FnSUgxY2JpQWdmVnh1ZlR0Y2JseHVaWGh3YjNKMElHUmxabUYxYkhRZ1EyOXVabWxuTzF4dUlsMTkiLCIvKipcbiAqXG4gKiBDb3B5cmlnaHQgMjAxNSBHb29nbGUgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxudmFyIENvbnRyb2xsZXIgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDb250cm9sbGVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb250cm9sbGVyKTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhDb250cm9sbGVyLCBbe1xuICAgIGtleTogJ2xvYWRTY3JpcHQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkU2NyaXB0KHVybCkge1xuXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgIHNjcmlwdC5hc3luYyA9IHRydWU7XG4gICAgICAgIHNjcmlwdC5zcmMgPSB1cmw7XG5cbiAgICAgICAgc2NyaXB0Lm9ubG9hZCA9IHJlc29sdmU7XG4gICAgICAgIHNjcmlwdC5vbmVycm9yID0gcmVqZWN0O1xuXG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2xvYWRDU1MnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkQ1NTKHVybCkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblxuICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwpO1xuICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ3RleHQnO1xuICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PSAyMDApIHtcblxuICAgICAgICAgICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgICAgIHN0eWxlLnRleHRDb250ZW50ID0geGhyLnJlc3BvbnNlO1xuICAgICAgICAgICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHhoci5zZW5kKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQ29udHJvbGxlcjtcbn0pKCk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IENvbnRyb2xsZXI7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklpOVZjMlZ5Y3k5b1pYSnRZVzUzTDBSdlkzVnRaVzUwY3k5b1pYSnRkMjl1Wnk5cGIzTlVaWE4wTDNOeVl5OXpZM0pwY0hSekwyTnZiblJ5YjJ4c1pYSXZRMjl1ZEhKdmJHeGxjaTVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pT3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3U1VGcFFuRkNMRlZCUVZVN1YwRkJWaXhWUVVGVk96QkNRVUZXTEZWQlFWVTdPenRsUVVGV0xGVkJRVlU3TzFkQlJXeENMRzlDUVVGRExFZEJRVWNzUlVGQlJUczdRVUZGWml4aFFVRlBMRWxCUVVrc1QwRkJUeXhEUVVGRExGVkJRVU1zVDBGQlR5eEZRVUZGTEUxQlFVMHNSVUZCU3p0QlFVTjBReXhaUVVGSkxFMUJRVTBzUjBGQlJ5eFJRVUZSTEVOQlFVTXNZVUZCWVN4RFFVRkRMRkZCUVZFc1EwRkJReXhEUVVGRE8wRkJRemxETEdOQlFVMHNRMEZCUXl4TFFVRkxMRWRCUVVjc1NVRkJTU3hEUVVGRE8wRkJRM0JDTEdOQlFVMHNRMEZCUXl4SFFVRkhMRWRCUVVjc1IwRkJSeXhEUVVGRE96dEJRVVZxUWl4alFVRk5MRU5CUVVNc1RVRkJUU3hIUVVGSExFOUJRVThzUTBGQlF6dEJRVU40UWl4alFVRk5MRU5CUVVNc1QwRkJUeXhIUVVGSExFMUJRVTBzUTBGQlF6czdRVUZGZUVJc1owSkJRVkVzUTBGQlF5eEpRVUZKTEVOQlFVTXNWMEZCVnl4RFFVRkRMRTFCUVUwc1EwRkJReXhEUVVGRE8wOUJRMjVETEVOQlFVTXNRMEZCUXp0TFFVTktPenM3VjBGRlR5eHBRa0ZCUXl4SFFVRkhMRVZCUVVVN1FVRkRXaXhoUVVGUExFbEJRVWtzVDBGQlR5eERRVUZETEZWQlFVTXNUMEZCVHl4RlFVRkZMRTFCUVUwc1JVRkJTenM3UVVGRmRFTXNXVUZCU1N4SFFVRkhMRWRCUVVjc1NVRkJTU3hqUVVGakxFVkJRVVVzUTBGQlF6dEJRVU12UWl4WFFVRkhMRU5CUVVNc1NVRkJTU3hEUVVGRExFdEJRVXNzUlVGQlJTeEhRVUZITEVOQlFVTXNRMEZCUXp0QlFVTnlRaXhYUVVGSExFTkJRVU1zV1VGQldTeEhRVUZITEUxQlFVMHNRMEZCUXp0QlFVTXhRaXhYUVVGSExFTkJRVU1zVFVGQlRTeEhRVUZITEZWQlFWTXNRMEZCUXl4RlFVRkZPenRCUVVWMlFpeGpRVUZKTEVsQlFVa3NRMEZCUXl4TlFVRk5MRWxCUVVrc1IwRkJSeXhGUVVGRk96dEJRVVYwUWl4blFrRkJTU3hMUVVGTExFZEJRVWNzVVVGQlVTeERRVUZETEdGQlFXRXNRMEZCUXl4UFFVRlBMRU5CUVVNc1EwRkJRenRCUVVNMVF5eHBRa0ZCU3l4RFFVRkRMRmRCUVZjc1IwRkJSeXhIUVVGSExFTkJRVU1zVVVGQlVTeERRVUZETzBGQlEycERMRzlDUVVGUkxFTkJRVU1zU1VGQlNTeERRVUZETEZkQlFWY3NRMEZCUXl4TFFVRkxMRU5CUVVNc1EwRkJRenRCUVVOcVF5eHRRa0ZCVHl4RlFVRkZMRU5CUVVNN1YwRkZXQ3hOUVVGTk96dEJRVVZNTEd0Q1FVRk5MRVZCUVVVc1EwRkJRenRYUVVWV08xTkJRMFlzUTBGQlFUczdRVUZGUkN4WFFVRkhMRU5CUVVNc1NVRkJTU3hGUVVGRkxFTkJRVU03VDBGRldpeERRVUZETEVOQlFVTTdTMEZEU2pzN08xTkJla05yUWl4VlFVRlZPenM3Y1VKQlFWWXNWVUZCVlNJc0ltWnBiR1VpT2lJdlZYTmxjbk12YUdWeWJXRnVkeTlFYjJOMWJXVnVkSE12YUdWeWJYZHZibWN2YVc5elZHVnpkQzl6Y21NdmMyTnlhWEIwY3k5amIyNTBjbTlzYkdWeUwwTnZiblJ5YjJ4c1pYSXVhbk1pTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2V3lJdktpcGNiaUFxWEc0Z0tpQkRiM0I1Y21sbmFIUWdNakF4TlNCSGIyOW5iR1VnU1c1akxpQkJiR3dnY21sbmFIUnpJSEpsYzJWeWRtVmtMbHh1SUNwY2JpQXFJRXhwWTJWdWMyVmtJSFZ1WkdWeUlIUm9aU0JCY0dGamFHVWdUR2xqWlc1elpTd2dWbVZ5YzJsdmJpQXlMakFnS0hSb1pTQmNJa3hwWTJWdWMyVmNJaWs3WEc0Z0tpQjViM1VnYldGNUlHNXZkQ0IxYzJVZ2RHaHBjeUJtYVd4bElHVjRZMlZ3ZENCcGJpQmpiMjF3YkdsaGJtTmxJSGRwZEdnZ2RHaGxJRXhwWTJWdWMyVXVYRzRnS2lCWmIzVWdiV0Y1SUc5aWRHRnBiaUJoSUdOdmNIa2diMllnZEdobElFeHBZMlZ1YzJVZ1lYUmNiaUFxWEc0Z0tpQWdJQ0FnYUhSMGNEb3ZMM2QzZHk1aGNHRmphR1V1YjNKbkwyeHBZMlZ1YzJWekwweEpRMFZPVTBVdE1pNHdYRzRnS2x4dUlDb2dWVzVzWlhOeklISmxjWFZwY21Wa0lHSjVJR0Z3Y0d4cFkyRmliR1VnYkdGM0lHOXlJR0ZuY21WbFpDQjBieUJwYmlCM2NtbDBhVzVuTENCemIyWjBkMkZ5WlZ4dUlDb2daR2x6ZEhKcFluVjBaV1FnZFc1a1pYSWdkR2hsSUV4cFkyVnVjMlVnYVhNZ1pHbHpkSEpwWW5WMFpXUWdiMjRnWVc0Z1hDSkJVeUJKVTF3aUlFSkJVMGxUTEZ4dUlDb2dWMGxVU0U5VlZDQlhRVkpTUVU1VVNVVlRJRTlTSUVOUFRrUkpWRWxQVGxNZ1QwWWdRVTVaSUV0SlRrUXNJR1ZwZEdobGNpQmxlSEJ5WlhOeklHOXlJR2x0Y0d4cFpXUXVYRzRnS2lCVFpXVWdkR2hsSUV4cFkyVnVjMlVnWm05eUlIUm9aU0J6Y0dWamFXWnBZeUJzWVc1bmRXRm5aU0JuYjNabGNtNXBibWNnY0dWeWJXbHpjMmx2Ym5NZ1lXNWtYRzRnS2lCc2FXMXBkR0YwYVc5dWN5QjFibVJsY2lCMGFHVWdUR2xqWlc1elpTNWNiaUFxTDF4dVhHNWxlSEJ2Y25RZ1pHVm1ZWFZzZENCamJHRnpjeUJEYjI1MGNtOXNiR1Z5SUh0Y2JseHVJQ0JzYjJGa1UyTnlhWEIwSUNoMWNtd3BJSHRjYmx4dUlDQWdJSEpsZEhWeWJpQnVaWGNnVUhKdmJXbHpaU2dvY21WemIyeDJaU3dnY21WcVpXTjBLU0E5UGlCN1hHNGdJQ0FnSUNCMllYSWdjMk55YVhCMElEMGdaRzlqZFcxbGJuUXVZM0psWVhSbFJXeGxiV1Z1ZENnbmMyTnlhWEIwSnlrN1hHNGdJQ0FnSUNCelkzSnBjSFF1WVhONWJtTWdQU0IwY25WbE8xeHVJQ0FnSUNBZ2MyTnlhWEIwTG5OeVl5QTlJSFZ5YkR0Y2JseHVJQ0FnSUNBZ2MyTnlhWEIwTG05dWJHOWhaQ0E5SUhKbGMyOXNkbVU3WEc0Z0lDQWdJQ0J6WTNKcGNIUXViMjVsY25KdmNpQTlJSEpsYW1WamREdGNibHh1SUNBZ0lDQWdaRzlqZFcxbGJuUXVhR1ZoWkM1aGNIQmxibVJEYUdsc1pDaHpZM0pwY0hRcE8xeHVJQ0FnSUgwcE8xeHVJQ0I5WEc1Y2JpQWdiRzloWkVOVFV5QW9kWEpzS1NCN1hHNGdJQ0FnY21WMGRYSnVJRzVsZHlCUWNtOXRhWE5sS0NoeVpYTnZiSFpsTENCeVpXcGxZM1FwSUQwK0lIdGNibHh1SUNBZ0lDQWdkbUZ5SUhob2NpQTlJRzVsZHlCWVRVeElkSFJ3VW1WeGRXVnpkQ2dwTzF4dUlDQWdJQ0FnZUdoeUxtOXdaVzRvSjBkRlZDY3NJSFZ5YkNrN1hHNGdJQ0FnSUNCNGFISXVjbVZ6Y0c5dWMyVlVlWEJsSUQwZ0ozUmxlSFFuTzF4dUlDQWdJQ0FnZUdoeUxtOXViRzloWkNBOUlHWjFibU4wYVc5dUtHVXBJSHRjYmx4dUlDQWdJQ0FnSUNCcFppQW9kR2hwY3k1emRHRjBkWE1nUFQwZ01qQXdLU0I3WEc1Y2JpQWdJQ0FnSUNBZ0lDQjJZWElnYzNSNWJHVWdQU0JrYjJOMWJXVnVkQzVqY21WaGRHVkZiR1Z0Wlc1MEtDZHpkSGxzWlNjcE8xeHVJQ0FnSUNBZ0lDQWdJSE4wZVd4bExuUmxlSFJEYjI1MFpXNTBJRDBnZUdoeUxuSmxjM0J2Ym5ObE8xeHVJQ0FnSUNBZ0lDQWdJR1J2WTNWdFpXNTBMbWhsWVdRdVlYQndaVzVrUTJocGJHUW9jM1I1YkdVcE8xeHVJQ0FnSUNBZ0lDQWdJSEpsYzI5c2RtVW9LVHRjYmx4dUlDQWdJQ0FnSUNCOUlHVnNjMlVnZTF4dVhHNGdJQ0FnSUNBZ0lDQWdjbVZxWldOMEtDazdYRzVjYmlBZ0lDQWdJQ0FnZlZ4dUlDQWdJQ0FnZlZ4dVhHNGdJQ0FnSUNCNGFISXVjMlZ1WkNncE8xeHVYRzRnSUNBZ2ZTazdYRzRnSUgxY2JseHVmVnh1SWwxOSIsIi8qKlxuICpcbiAqIENvcHlyaWdodCAyMDE1IEdvb2dsZSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbnZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KF94LCBfeDIsIF94MykgeyB2YXIgX2FnYWluID0gdHJ1ZTsgX2Z1bmN0aW9uOiB3aGlsZSAoX2FnYWluKSB7IHZhciBvYmplY3QgPSBfeCwgcHJvcGVydHkgPSBfeDIsIHJlY2VpdmVyID0gX3gzOyBfYWdhaW4gPSBmYWxzZTsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IF94ID0gcGFyZW50OyBfeDIgPSBwcm9wZXJ0eTsgX3gzID0gcmVjZWl2ZXI7IF9hZ2FpbiA9IHRydWU7IGRlc2MgPSBwYXJlbnQgPSB1bmRlZmluZWQ7IGNvbnRpbnVlIF9mdW5jdGlvbjsgfSB9IGVsc2UgaWYgKCd2YWx1ZScgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH0gfTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gJ2Z1bmN0aW9uJyAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ1N1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgJyArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIF9Db250cm9sbGVyMiA9IHJlcXVpcmUoJy4vQ29udHJvbGxlcicpO1xuXG52YXIgX0NvbnRyb2xsZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQ29udHJvbGxlcjIpO1xuXG52YXIgX21vZGVsTWVtb01vZGVsID0gcmVxdWlyZSgnLi4vbW9kZWwvTWVtb01vZGVsJyk7XG5cbnZhciBfbW9kZWxNZW1vTW9kZWwyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbW9kZWxNZW1vTW9kZWwpO1xuXG52YXIgX2xpYnNSb3V0ZXIgPSByZXF1aXJlKCcuLi9saWJzL1JvdXRlcicpO1xuXG52YXIgX2xpYnNSb3V0ZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfbGlic1JvdXRlcik7XG5cbnZhciBfbGlic1B1YlN1YiA9IHJlcXVpcmUoJy4uL2xpYnMvUHViU3ViJyk7XG5cbnZhciBfbGlic1B1YlN1YjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9saWJzUHViU3ViKTtcblxudmFyIExpc3RDb250cm9sbGVyID0gKGZ1bmN0aW9uIChfQ29udHJvbGxlcikge1xuICBfaW5oZXJpdHMoTGlzdENvbnRyb2xsZXIsIF9Db250cm9sbGVyKTtcblxuICBmdW5jdGlvbiBMaXN0Q29udHJvbGxlcigpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExpc3RDb250cm9sbGVyKTtcblxuICAgIF9nZXQoT2JqZWN0LmdldFByb3RvdHlwZU9mKExpc3RDb250cm9sbGVyLnByb3RvdHlwZSksICdjb25zdHJ1Y3RvcicsIHRoaXMpLmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLm1lbW9zID0gbnVsbDtcbiAgICB0aGlzLmN0YVZpZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuanMtY3RhJyk7XG4gICAgdGhpcy52aWV3ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLWxpc3QtdmlldycpO1xuXG4gICAgUHJvbWlzZS5hbGwoW3RoaXMubG9hZENTUygnL3N0eWxlcy92b2ljZW1lbW8tbGlzdC5jc3MnKSwgdGhpcy5sb2FkU2NyaXB0KCcvdGhpcmRfcGFydHkvbW9tZW50Lm1pbi5qcycpXSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBfdGhpcy5nZXRNZW1vc0FuZFBvcHVsYXRlKCk7XG5cbiAgICAgICgwLCBfbGlic1B1YlN1YjJbJ2RlZmF1bHQnXSkoKS50aGVuKGZ1bmN0aW9uIChwcykge1xuICAgICAgICBwcy5zdWIoX21vZGVsTWVtb01vZGVsMlsnZGVmYXVsdCddLlVQREFURUQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpcy5nZXRNZW1vc0FuZFBvcHVsYXRlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgICgwLCBfbGlic1B1YlN1YjJbJ2RlZmF1bHQnXSkoKS50aGVuKGZ1bmN0aW9uIChwcykge1xuICAgICAgICBwcy5zdWIoJ2xpc3QtY292ZXJlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpcy52aWV3LmNsYXNzTGlzdC5hZGQoJ2xpc3Qtdmlldy0tc2hydW5rJyk7XG4gICAgICAgICAgX3RoaXMudW5zZXRUYWJJbmRleGVzKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgICgwLCBfbGlic1B1YlN1YjJbJ2RlZmF1bHQnXSkoKS50aGVuKGZ1bmN0aW9uIChwcykge1xuICAgICAgICBwcy5zdWIoJ2xpc3QtdW5jb3ZlcmVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLnZpZXcuY2xhc3NMaXN0LnJlbW92ZSgnbGlzdC12aWV3LS1zaHJ1bmsnKTtcbiAgICAgICAgICBfdGhpcy5zZXRUYWJJbmRleGVzKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgICgwLCBfbGlic1B1YlN1YjJbJ2RlZmF1bHQnXSkoKS50aGVuKGZ1bmN0aW9uIChwcykge1xuICAgICAgICBwcy5zdWIoJ2xpc3QtbG9ja2VkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLnZpZXcuY2xhc3NMaXN0LmFkZCgnbGlzdC12aWV3LS1sb2NrZWQnKTtcbiAgICAgICAgICBfdGhpcy51bnNldFRhYkluZGV4ZXMoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgKDAsIF9saWJzUHViU3ViMlsnZGVmYXVsdCddKSgpLnRoZW4oZnVuY3Rpb24gKHBzKSB7XG4gICAgICAgIHBzLnN1YignbGlzdC11bmxvY2tlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpcy52aWV3LmNsYXNzTGlzdC5yZW1vdmUoJ2xpc3Qtdmlldy0tbG9ja2VkJyk7XG4gICAgICAgICAgX3RoaXMudW5zZXRUYWJJbmRleGVzKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTGlzdENvbnRyb2xsZXIsIFt7XG4gICAga2V5OiAnZ2V0TWVtb3NBbmRQb3B1bGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1lbW9zQW5kUG9wdWxhdGUoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgX21vZGVsTWVtb01vZGVsMlsnZGVmYXVsdCddLmdldEFsbCgndGltZScsIF9tb2RlbE1lbW9Nb2RlbDJbJ2RlZmF1bHQnXS5ERVNDRU5ESU5HKS50aGVuKGZ1bmN0aW9uIChtZW1vcykge1xuICAgICAgICBfdGhpczIubWVtb3MgPSBtZW1vcztcbiAgICAgICAgX3RoaXMyLnBvcHVsYXRlKCk7XG4gICAgICAgIF90aGlzMi5zZXRUYWJJbmRleGVzKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdlc2NhcGVIVE1MJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZXNjYXBlSFRNTChzdHIpIHtcblxuICAgICAgaWYgKHN0ciA9PT0gbnVsbCkgcmV0dXJuIHN0cjtcblxuICAgICAgLy8gU2ltaWxhciB0byBib3RoIGh0dHA6Ly9waHAubmV0L2h0bWxzcGVjaWFsY2hhcnMgYW5kXG4gICAgICAvLyBodHRwOi8vd3d3LjJhbGl0eS5jb20vMjAxNS8wMS90ZW1wbGF0ZS1zdHJpbmdzLWh0bWwuaHRtbCBpbiB3aGF0XG4gICAgICAvLyBpdCBjaG9vc2VzIHRvIHJlcGxhY2UuXG4gICAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyYvZywgJyZhbXA7JykucmVwbGFjZSgvPi9nLCAnJmd0OycpLnJlcGxhY2UoLzwvZywgJyZsdDsnKS5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JykucmVwbGFjZSgvJy9nLCAnJmFwb3M7Jyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncG9wdWxhdGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwb3B1bGF0ZSgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMubWVtb3MubGVuZ3RoKSB7XG4gICAgICAgIHRoaXMuY3RhVmlldy5jbGFzc0xpc3QuYWRkKCdlbXB0eS1zZXQtY3RhLS12aXNpYmxlJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jdGFWaWV3LmNsYXNzTGlzdC5yZW1vdmUoJ2VtcHR5LXNldC1jdGEtLXZpc2libGUnKTtcbiAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgICAgdmFyIGxpc3QgPSAnPG9sIGNsYXNzPVwibGlzdC12aWV3X19jb250ZW50c1wiPic7XG5cbiAgICAgIHRoaXMubWVtb3MuZm9yRWFjaChmdW5jdGlvbiAobWVtbykge1xuXG4gICAgICAgIHZhciBtZW1vVGltZUFnbyA9IG1vbWVudChtZW1vLnRpbWUpLmZyb21Ob3coKTtcbiAgICAgICAgdmFyIG1lbW9UaXRsZSA9IF90aGlzMy5lc2NhcGVIVE1MKG1lbW8udGl0bGUpO1xuICAgICAgICB2YXIgbWVtb0Rlc2NyaXB0aW9uID0gX3RoaXMzLmVzY2FwZUhUTUwobWVtby5kZXNjcmlwdGlvbik7XG5cbiAgICAgICAgbGlzdCArPSAnPGxpIGNsYXNzPVwibGlzdC12aWV3X19pdGVtXCIgaWQ9XCJ2bS0nICsgbWVtby51cmwgKyAnXCIgZGF0YS11cmw9XCInICsgbWVtby51cmwgKyAnXCI+XFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsaXN0LXZpZXdfX2l0ZW0tZGV0YWlsc1wiPlxcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsaXN0LXZpZXdfX2l0ZW0tZGF0ZVwiPicgKyBtZW1vVGltZUFnbyArICc8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibGlzdC12aWV3X19pdGVtLXRpdGxlXCI+JyArIG1lbW9UaXRsZSArICc8L2Rpdj4nO1xuXG4gICAgICAgIGlmIChtZW1vLmRlc2NyaXB0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgbGlzdCArPSAnPGRpdiBjbGFzcz1cImxpc3Qtdmlld19faXRlbS1kZXNjcmlwdGlvblwiPlxcbiAgICAgICAgICAgICAgICAgICcgKyBtZW1vRGVzY3JpcHRpb24gKyAnXFxuICAgICAgICAgICAgICAgIDwvZGl2Pic7XG4gICAgICAgIH1cblxuICAgICAgICBsaXN0ICs9ICc8L2Rpdj48L2xpPic7XG4gICAgICB9KTtcblxuICAgICAgbGlzdCArPSAnPC9vbD4nO1xuXG4gICAgICB0aGlzLnZpZXcuaW5uZXJIVE1MID0gbGlzdDtcbiAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXRUYWJJbmRleGVzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VGFiSW5kZXhlcygpIHtcblxuICAgICAgaWYgKHRoaXMudmlldy5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3Qtdmlldy0tbG9ja2VkJykpIHJldHVybjtcblxuICAgICAgaWYgKHRoaXMudmlldy5jbGFzc0xpc3QuY29udGFpbnMoJ2xpc3Qtdmlldy0tc2hydW5rJykpIHJldHVybjtcblxuICAgICAgdmFyIGxpc3RJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5saXN0LXZpZXdfX2l0ZW0nKTtcblxuICAgICAgZm9yICh2YXIgbCA9IDA7IGwgPCBsaXN0SXRlbXMubGVuZ3RoOyBsKyspIHtcbiAgICAgICAgbGlzdEl0ZW1zW2xdLnRhYkluZGV4ID0gbCArIDI7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAndW5zZXRUYWJJbmRleGVzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gdW5zZXRUYWJJbmRleGVzKCkge1xuXG4gICAgICB2YXIgbGlzdEl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxpc3Qtdmlld19faXRlbScpO1xuXG4gICAgICBmb3IgKHZhciBsID0gMDsgbCA8IGxpc3RJdGVtcy5sZW5ndGg7IGwrKykge1xuICAgICAgICBsaXN0SXRlbXNbbF0ucmVtb3ZlQXR0cmlidXRlKCd0YWJpbmRleCcpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2FkZEV2ZW50TGlzdGVuZXJzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICB2YXIgdG9nZ2xlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5saXN0LXZpZXdfX2l0ZW0tcHJldmlldy10b2dnbGUnKTtcblxuICAgICAgdmFyIGxpc3RJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5saXN0LXZpZXdfX2l0ZW0nKTtcblxuICAgICAgZm9yICh2YXIgbCA9IDA7IGwgPCBsaXN0SXRlbXMubGVuZ3RoOyBsKyspIHtcbiAgICAgICAgbGlzdEl0ZW1zW2xdLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5vbkxpc3RJdGVtQ2xpY2spO1xuICAgICAgICBsaXN0SXRlbXNbbF0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9uTGlzdEl0ZW1DbGljayk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVtb3ZlRXZlbnRMaXN0ZW5lcnMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVycygpIHtcbiAgICAgIHZhciBsaXN0SXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubGlzdC12aWV3X19pdGVtJyk7XG5cbiAgICAgIGZvciAodmFyIGwgPSAwOyBsIDwgbGlzdEl0ZW1zLmxlbmd0aDsgbCsrKSB7XG4gICAgICAgIGxpc3RJdGVtc1tsXS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMub25MaXN0SXRlbUNsaWNrKTtcbiAgICAgICAgbGlzdEl0ZW1zW2xdLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkxpc3RJdGVtQ2xpY2spO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uTGlzdEl0ZW1DbGljaycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uTGlzdEl0ZW1DbGljayhlKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgaWYgKGUudHlwZSA9PSAna2V5dXAnICYmIGUua2V5Q29kZSAhPT0gMTMpIHJldHVybjtcblxuICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG5cbiAgICAgICgwLCBfbGlic1JvdXRlcjJbJ2RlZmF1bHQnXSkoKS50aGVuKGZ1bmN0aW9uIChyb3V0ZXIpIHtcbiAgICAgICAgcm91dGVyLmdvKCcvZGV0YWlscy8nICsgX3RoaXM0LmRhdGFzZXQudXJsKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29uVG9nZ2xlQnV0dG9uUHJlc3MnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblRvZ2dsZUJ1dHRvblByZXNzKCkge1xuICAgICAgLy8gZ2V0IHRoZSBmb3IgYXR0cmlidXRlLCBmaW5kIHRoZSBhdWRpbywgc2V0IHRoZSBzcmNcbiAgICAgIC8vIHdoZW4gdGhlIHVzZXIgY2xpY2tzIHN0b3AsIHdlIHNob3VsZCB1bmhvb2sgdGhlIGF1ZGlvXG4gICAgICAvLyB2aWEgcmV2b2tlT2JqZWN0VVJMXG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIExpc3RDb250cm9sbGVyO1xufSkoX0NvbnRyb2xsZXIzWydkZWZhdWx0J10pO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBMaXN0Q29udHJvbGxlcjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWk5VmMyVnljeTlvWlhKdFlXNTNMMFJ2WTNWdFpXNTBjeTlvWlhKdGQyOXVaeTlwYjNOVVpYTjBMM055WXk5elkzSnBjSFJ6TDJOdmJuUnliMnhzWlhJdlRHbHpkRU52Ym5SeWIyeHNaWEl1YW5NaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWpzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPekpDUVdsQ2RVSXNZMEZCWXpzN096czRRa0ZEWml4dlFrRkJiMEk3T3pzN01FSkJRMllzWjBKQlFXZENPenM3T3pCQ1FVTm9RaXhuUWtGQlowSTdPenM3U1VGRmRFSXNZMEZCWXp0WlFVRmtMR05CUVdNN08wRkJSWEpDTEZkQlJrOHNZMEZCWXl4SFFVVnNRanM3T3pCQ1FVWkpMR05CUVdNN08wRkJSeTlDTEN0Q1FVaHBRaXhqUVVGakxEWkRRVWQyUWpzN1FVRkZVaXhSUVVGSkxFTkJRVU1zUzBGQlN5eEhRVUZITEVsQlFVa3NRMEZCUXp0QlFVTnNRaXhSUVVGSkxFTkJRVU1zVDBGQlR5eEhRVUZITEZGQlFWRXNRMEZCUXl4aFFVRmhMRU5CUVVNc1UwRkJVeXhEUVVGRExFTkJRVU03UVVGRGFrUXNVVUZCU1N4RFFVRkRMRWxCUVVrc1IwRkJSeXhSUVVGUkxFTkJRVU1zWVVGQllTeERRVUZETEdWQlFXVXNRMEZCUXl4RFFVRkRPenRCUVVWd1JDeFhRVUZQTEVOQlFVTXNSMEZCUnl4RFFVRkRMRU5CUTFZc1NVRkJTU3hEUVVGRExFOUJRVThzUTBGQlF5dzBRa0ZCTkVJc1EwRkJReXhGUVVNeFF5eEpRVUZKTEVOQlFVTXNWVUZCVlN4RFFVRkRMRFJDUVVFMFFpeERRVUZETEVOQlF6bERMRU5CUVVNc1EwRkRSQ3hKUVVGSkxFTkJRVVVzV1VGQlRUdEJRVU5ZTEZsQlFVc3NiVUpCUVcxQ0xFVkJRVVVzUTBGQlF6czdRVUZGTTBJc2IwTkJRV2RDTEVOQlFVTXNTVUZCU1N4RFFVRkRMRlZCUVVFc1JVRkJSU3hGUVVGSk8wRkJRekZDTEZWQlFVVXNRMEZCUXl4SFFVRkhMRU5CUVVNc05FSkJRVlVzVDBGQlR5eEZRVUZGTEZsQlFVMDdRVUZET1VJc1owSkJRVXNzYlVKQlFXMUNMRVZCUVVVc1EwRkJRenRUUVVNMVFpeERRVUZETEVOQlFVTTdUMEZEU2l4RFFVRkRMRU5CUVVNN08wRkJSVWdzYjBOQlFXZENMRU5CUVVNc1NVRkJTU3hEUVVGRExGVkJRVUVzUlVGQlJTeEZRVUZKTzBGQlF6RkNMRlZCUVVVc1EwRkJReXhIUVVGSExFTkJRVU1zWTBGQll5eEZRVUZGTEZsQlFVMDdRVUZETTBJc1owSkJRVXNzU1VGQlNTeERRVUZETEZOQlFWTXNRMEZCUXl4SFFVRkhMRU5CUVVNc2JVSkJRVzFDTEVOQlFVTXNRMEZCUXp0QlFVTTNReXhuUWtGQlN5eGxRVUZsTEVWQlFVVXNRMEZCUXp0VFFVTjRRaXhEUVVGRExFTkJRVU03VDBGRFNpeERRVUZETEVOQlFVTTdPMEZCUlVnc2IwTkJRV2RDTEVOQlFVTXNTVUZCU1N4RFFVRkRMRlZCUVVFc1JVRkJSU3hGUVVGSk8wRkJRekZDTEZWQlFVVXNRMEZCUXl4SFFVRkhMRU5CUVVNc1owSkJRV2RDTEVWQlFVVXNXVUZCVFR0QlFVTTNRaXhuUWtGQlN5eEpRVUZKTEVOQlFVTXNVMEZCVXl4RFFVRkRMRTFCUVUwc1EwRkJReXh0UWtGQmJVSXNRMEZCUXl4RFFVRkRPMEZCUTJoRUxHZENRVUZMTEdGQlFXRXNSVUZCUlN4RFFVRkRPMU5CUTNSQ0xFTkJRVU1zUTBGQlF6dFBRVU5LTEVOQlFVTXNRMEZCUXpzN1FVRkZTQ3h2UTBGQlowSXNRMEZCUXl4SlFVRkpMRU5CUVVNc1ZVRkJRU3hGUVVGRkxFVkJRVWs3UVVGRE1VSXNWVUZCUlN4RFFVRkRMRWRCUVVjc1EwRkJReXhoUVVGaExFVkJRVVVzV1VGQlRUdEJRVU14UWl4blFrRkJTeXhKUVVGSkxFTkJRVU1zVTBGQlV5eERRVUZETEVkQlFVY3NRMEZCUXl4dFFrRkJiVUlzUTBGQlF5eERRVUZETzBGQlF6ZERMR2RDUVVGTExHVkJRV1VzUlVGQlJTeERRVUZETzFOQlEzaENMRU5CUVVNc1EwRkJRenRQUVVOS0xFTkJRVU1zUTBGQlF6czdRVUZGU0N4dlEwRkJaMElzUTBGQlF5eEpRVUZKTEVOQlFVTXNWVUZCUVN4RlFVRkZMRVZCUVVrN1FVRkRNVUlzVlVGQlJTeERRVUZETEVkQlFVY3NRMEZCUXl4bFFVRmxMRVZCUVVVc1dVRkJUVHRCUVVNMVFpeG5Ra0ZCU3l4SlFVRkpMRU5CUVVNc1UwRkJVeXhEUVVGRExFMUJRVTBzUTBGQlF5eHRRa0ZCYlVJc1EwRkJReXhEUVVGRE8wRkJRMmhFTEdkQ1FVRkxMR1ZCUVdVc1JVRkJSU3hEUVVGRE8xTkJRM2hDTEVOQlFVTXNRMEZCUXp0UFFVTktMRU5CUVVNc1EwRkJRenRMUVVWS0xFTkJRVU1zUTBGQlF6dEhRVU5LT3p0bFFXNUVhMElzWTBGQll6czdWMEZ4UkdJc0swSkJRVWM3T3p0QlFVVnlRaXhyUTBGQlZTeE5RVUZOTEVOQlFVTXNUVUZCVFN4RlFVRkZMRFJDUVVGVkxGVkJRVlVzUTBGQlF5eERRVU16UXl4SlFVRkpMRU5CUVVNc1ZVRkJRU3hMUVVGTExFVkJRVWs3UVVGRFlpeGxRVUZMTEV0QlFVc3NSMEZCUnl4TFFVRkxMRU5CUVVNN1FVRkRia0lzWlVGQlN5eFJRVUZSTEVWQlFVVXNRMEZCUXp0QlFVTm9RaXhsUVVGTExHRkJRV0VzUlVGQlJTeERRVUZETzA5QlEzUkNMRU5CUVVNc1EwRkJRenRMUVVOT096czdWMEZGVlN4dlFrRkJReXhIUVVGSExFVkJRVVU3TzBGQlJXWXNWVUZCU1N4SFFVRkhMRXRCUVVzc1NVRkJTU3hGUVVOa0xFOUJRVThzUjBGQlJ5eERRVUZET3pzN096dEJRVXRpTEdGQlFVOHNSMEZCUnl4RFFVRkRMRTlCUVU4c1EwRkJReXhKUVVGSkxFVkJRVVVzVDBGQlR5eERRVUZETEVOQlF6VkNMRTlCUVU4c1EwRkJReXhKUVVGSkxFVkJRVVVzVFVGQlRTeERRVUZETEVOQlEzSkNMRTlCUVU4c1EwRkJReXhKUVVGSkxFVkJRVVVzVFVGQlRTeERRVUZETEVOQlEzSkNMRTlCUVU4c1EwRkJReXhKUVVGSkxFVkJRVVVzVVVGQlVTeERRVUZETEVOQlEzWkNMRTlCUVU4c1EwRkJReXhKUVVGSkxFVkJRVVVzVVVGQlVTeERRVUZETEVOQlFVTTdTMEZET1VJN096dFhRVVZSTEc5Q1FVRkhPenM3UVVGRlZpeFZRVUZKTEVOQlFVTXNTVUZCU1N4RFFVRkRMRXRCUVVzc1EwRkJReXhOUVVGTkxFVkJRVVU3UVVGRGRFSXNXVUZCU1N4RFFVRkRMRTlCUVU4c1EwRkJReXhUUVVGVExFTkJRVU1zUjBGQlJ5eERRVUZETEhkQ1FVRjNRaXhEUVVGRExFTkJRVU03UVVGRGNrUXNaVUZCVHp0UFFVTlNPenRCUVVWRUxGVkJRVWtzUTBGQlF5eFBRVUZQTEVOQlFVTXNVMEZCVXl4RFFVRkRMRTFCUVUwc1EwRkJReXgzUWtGQmQwSXNRMEZCUXl4RFFVRkRPMEZCUTNoRUxGVkJRVWtzUTBGQlF5eHZRa0ZCYjBJc1JVRkJSU3hEUVVGRE96dEJRVVUxUWl4VlFVRkpMRWxCUVVrc1IwRkJSeXhyUTBGQmEwTXNRMEZCUXpzN1FVRkZPVU1zVlVGQlNTeERRVUZETEV0QlFVc3NRMEZCUXl4UFFVRlBMRU5CUVVNc1ZVRkJReXhKUVVGSkxFVkJRVXM3TzBGQlJUTkNMRmxCUVVrc1YwRkJWeXhIUVVGSExFMUJRVTBzUTBGQlF5eEpRVUZKTEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNc1QwRkJUeXhGUVVGRkxFTkJRVU03UVVGRE9VTXNXVUZCU1N4VFFVRlRMRWRCUVVjc1QwRkJTeXhWUVVGVkxFTkJRVU1zU1VGQlNTeERRVUZETEV0QlFVc3NRMEZCUXl4RFFVRkRPMEZCUXpWRExGbEJRVWtzWlVGQlpTeEhRVUZITEU5QlFVc3NWVUZCVlN4RFFVRkRMRWxCUVVrc1EwRkJReXhYUVVGWExFTkJRVU1zUTBGQlF6czdRVUZGZUVRc1dVRkJTU3cwUTBGQk1FTXNTVUZCU1N4RFFVRkRMRWRCUVVjc2IwSkJRV1VzU1VGQlNTeERRVUZETEVkQlFVY3NkVWhCUlRkQ0xGZEJRVmNzY1VWQlExWXNVMEZCVXl4WFFVRlJMRU5CUVVFN08wRkJSV3hGTEZsQlFVa3NTVUZCU1N4RFFVRkRMRmRCUVZjc1MwRkJTeXhKUVVGSkxFVkJRVVU3UVVGRE4wSXNZMEZCU1N4elJVRkRVU3hsUVVGbExEWkNRVU5hTEVOQlFVRTdVMEZEYUVJN08wRkJSVVFzV1VGQlNTeEpRVUZKTEdGQlFXRXNRMEZCUXp0UFFVTjJRaXhEUVVGRExFTkJRVU03TzBGQlJVZ3NWVUZCU1N4SlFVRkpMRTlCUVU4c1EwRkJRenM3UVVGRmFFSXNWVUZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhUUVVGVExFZEJRVWNzU1VGQlNTeERRVUZETzBGQlF6TkNMRlZCUVVrc1EwRkJReXhwUWtGQmFVSXNSVUZCUlN4RFFVRkRPMHRCUXpGQ096czdWMEZGWVN4NVFrRkJSenM3UVVGRlppeFZRVUZKTEVsQlFVa3NRMEZCUXl4SlFVRkpMRU5CUVVNc1UwRkJVeXhEUVVGRExGRkJRVkVzUTBGQlF5eHRRa0ZCYlVJc1EwRkJReXhGUVVOdVJDeFBRVUZQT3p0QlFVVlVMRlZCUVVrc1NVRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eFRRVUZUTEVOQlFVTXNVVUZCVVN4RFFVRkRMRzFDUVVGdFFpeERRVUZETEVWQlEyNUVMRTlCUVU4N08wRkJSVlFzVlVGQlNTeFRRVUZUTEVkQlFVY3NVVUZCVVN4RFFVRkRMR2RDUVVGblFpeERRVU4yUXl4clFrRkJhMElzUTBGRGJrSXNRMEZCUXpzN1FVRkZSaXhYUVVGTExFbEJRVWtzUTBGQlF5eEhRVUZITEVOQlFVTXNSVUZCUlN4RFFVRkRMRWRCUVVjc1UwRkJVeXhEUVVGRExFMUJRVTBzUlVGQlJTeERRVUZETEVWQlFVVXNSVUZCUlR0QlFVTjZReXhwUWtGQlV5eERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRMRkZCUVZFc1IwRkJSeXhEUVVGRExFZEJRVWNzUTBGQlF5eERRVUZETzA5QlF5OUNPMHRCUTBZN096dFhRVVZsTERKQ1FVRkhPenRCUVVWcVFpeFZRVUZKTEZOQlFWTXNSMEZCUnl4UlFVRlJMRU5CUVVNc1owSkJRV2RDTEVOQlEzWkRMR3RDUVVGclFpeERRVU51UWl4RFFVRkRPenRCUVVWR0xGZEJRVXNzU1VGQlNTeERRVUZETEVkQlFVY3NRMEZCUXl4RlFVRkZMRU5CUVVNc1IwRkJSeXhUUVVGVExFTkJRVU1zVFVGQlRTeEZRVUZGTEVOQlFVTXNSVUZCUlN4RlFVRkZPMEZCUTNwRExHbENRVUZUTEVOQlFVTXNRMEZCUXl4RFFVRkRMRU5CUVVNc1pVRkJaU3hEUVVGRExGVkJRVlVzUTBGQlF5eERRVUZETzA5QlF6RkRPMHRCUTBZN096dFhRVVZwUWl3MlFrRkJSenRCUVVOdVFpeFZRVUZKTEdGQlFXRXNSMEZCUnl4UlFVRlJMRU5CUVVNc1owSkJRV2RDTEVOQlEzcERMR2xEUVVGcFF5eERRVUZETEVOQlFVTTdPMEZCUlhaRExGVkJRVWtzVTBGQlV5eEhRVUZITEZGQlFWRXNRMEZCUXl4blFrRkJaMElzUTBGRGNrTXNhMEpCUVd0Q0xFTkJRM0pDTEVOQlFVTTdPMEZCUlVZc1YwRkJTeXhKUVVGSkxFTkJRVU1zUjBGQlJ5eERRVUZETEVWQlFVVXNRMEZCUXl4SFFVRkhMRk5CUVZNc1EwRkJReXhOUVVGTkxFVkJRVVVzUTBGQlF5eEZRVUZGTEVWQlFVVTdRVUZEZWtNc2FVSkJRVk1zUTBGQlF5eERRVUZETEVOQlFVTXNRMEZCUXl4blFrRkJaMElzUTBGQlF5eFBRVUZQTEVWQlFVVXNTVUZCU1N4RFFVRkRMR1ZCUVdVc1EwRkJReXhEUVVGRE8wRkJRemRFTEdsQ1FVRlRMRU5CUVVNc1EwRkJReXhEUVVGRExFTkJRVU1zWjBKQlFXZENMRU5CUVVNc1QwRkJUeXhGUVVGRkxFbEJRVWtzUTBGQlF5eGxRVUZsTEVOQlFVTXNRMEZCUXp0UFFVTTVSRHRMUVVOR096czdWMEZGYjBJc1owTkJRVWM3UVVGRGRFSXNWVUZCU1N4VFFVRlRMRWRCUVVjc1VVRkJVU3hEUVVGRExHZENRVUZuUWl4RFFVTjJReXhyUWtGQmEwSXNRMEZEYmtJc1EwRkJRenM3UVVGRlJpeFhRVUZMTEVsQlFVa3NRMEZCUXl4SFFVRkhMRU5CUVVNc1JVRkJSU3hEUVVGRExFZEJRVWNzVTBGQlV5eERRVUZETEUxQlFVMHNSVUZCUlN4RFFVRkRMRVZCUVVVc1JVRkJSVHRCUVVONlF5eHBRa0ZCVXl4RFFVRkRMRU5CUVVNc1EwRkJReXhEUVVGRExHMUNRVUZ0UWl4RFFVRkRMRTlCUVU4c1JVRkJSU3hKUVVGSkxFTkJRVU1zWlVGQlpTeERRVUZETEVOQlFVTTdRVUZEYUVVc2FVSkJRVk1zUTBGQlF5eERRVUZETEVOQlFVTXNRMEZCUXl4dFFrRkJiVUlzUTBGQlF5eFBRVUZQTEVWQlFVVXNTVUZCU1N4RFFVRkRMR1ZCUVdVc1EwRkJReXhEUVVGRE8wOUJRMnBGTzB0QlEwWTdPenRYUVVWbExIbENRVUZETEVOQlFVTXNSVUZCUlRzN08wRkJSV3hDTEZWQlFVa3NRMEZCUXl4RFFVRkRMRWxCUVVrc1NVRkJTU3hQUVVGUExFbEJRVWtzUTBGQlF5eERRVUZETEU5QlFVOHNTMEZCU3l4RlFVRkZMRVZCUTNaRExFOUJRVTg3TzBGQlJWUXNUMEZCUXl4RFFVRkRMRTFCUVUwc1EwRkJReXhUUVVGVExFTkJRVU1zUjBGQlJ5eERRVUZETEZGQlFWRXNRMEZCUXl4RFFVRkRPenRCUVVWcVF5eHZRMEZCWjBJc1EwRkJReXhKUVVGSkxFTkJRVU1zVlVGQlFTeE5RVUZOTEVWQlFVazdRVUZET1VJc1kwRkJUU3hEUVVGRExFVkJRVVVzWlVGQllTeFBRVUZMTEU5QlFVOHNRMEZCUXl4SFFVRkhMRU5CUVVjc1EwRkJRenRQUVVNelF5eERRVUZETEVOQlFVTTdTMEZEU2pzN08xZEJSVzFDTEN0Q1FVRkhPenM3TzB0QlNYUkNPenM3VTBGNlRHdENMR05CUVdNN096dHhRa0ZCWkN4alFVRmpJaXdpWm1sc1pTSTZJaTlWYzJWeWN5OW9aWEp0WVc1M0wwUnZZM1Z0Wlc1MGN5OW9aWEp0ZDI5dVp5OXBiM05VWlhOMEwzTnlZeTl6WTNKcGNIUnpMMk52Ym5SeWIyeHNaWEl2VEdsemRFTnZiblJ5YjJ4c1pYSXVhbk1pTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2V3lJdktpcGNiaUFxWEc0Z0tpQkRiM0I1Y21sbmFIUWdNakF4TlNCSGIyOW5iR1VnU1c1akxpQkJiR3dnY21sbmFIUnpJSEpsYzJWeWRtVmtMbHh1SUNwY2JpQXFJRXhwWTJWdWMyVmtJSFZ1WkdWeUlIUm9aU0JCY0dGamFHVWdUR2xqWlc1elpTd2dWbVZ5YzJsdmJpQXlMakFnS0hSb1pTQmNJa3hwWTJWdWMyVmNJaWs3WEc0Z0tpQjViM1VnYldGNUlHNXZkQ0IxYzJVZ2RHaHBjeUJtYVd4bElHVjRZMlZ3ZENCcGJpQmpiMjF3YkdsaGJtTmxJSGRwZEdnZ2RHaGxJRXhwWTJWdWMyVXVYRzRnS2lCWmIzVWdiV0Y1SUc5aWRHRnBiaUJoSUdOdmNIa2diMllnZEdobElFeHBZMlZ1YzJVZ1lYUmNiaUFxWEc0Z0tpQWdJQ0FnYUhSMGNEb3ZMM2QzZHk1aGNHRmphR1V1YjNKbkwyeHBZMlZ1YzJWekwweEpRMFZPVTBVdE1pNHdYRzRnS2x4dUlDb2dWVzVzWlhOeklISmxjWFZwY21Wa0lHSjVJR0Z3Y0d4cFkyRmliR1VnYkdGM0lHOXlJR0ZuY21WbFpDQjBieUJwYmlCM2NtbDBhVzVuTENCemIyWjBkMkZ5WlZ4dUlDb2daR2x6ZEhKcFluVjBaV1FnZFc1a1pYSWdkR2hsSUV4cFkyVnVjMlVnYVhNZ1pHbHpkSEpwWW5WMFpXUWdiMjRnWVc0Z1hDSkJVeUJKVTF3aUlFSkJVMGxUTEZ4dUlDb2dWMGxVU0U5VlZDQlhRVkpTUVU1VVNVVlRJRTlTSUVOUFRrUkpWRWxQVGxNZ1QwWWdRVTVaSUV0SlRrUXNJR1ZwZEdobGNpQmxlSEJ5WlhOeklHOXlJR2x0Y0d4cFpXUXVYRzRnS2lCVFpXVWdkR2hsSUV4cFkyVnVjMlVnWm05eUlIUm9aU0J6Y0dWamFXWnBZeUJzWVc1bmRXRm5aU0JuYjNabGNtNXBibWNnY0dWeWJXbHpjMmx2Ym5NZ1lXNWtYRzRnS2lCc2FXMXBkR0YwYVc5dWN5QjFibVJsY2lCMGFHVWdUR2xqWlc1elpTNWNiaUFxTDF4dVhHNXBiWEJ2Y25RZ1EyOXVkSEp2Ykd4bGNpQm1jbTl0SUNjdUwwTnZiblJ5YjJ4c1pYSW5PMXh1YVcxd2IzSjBJRTFsYlc5TmIyUmxiQ0JtY205dElDY3VMaTl0YjJSbGJDOU5aVzF2VFc5a1pXd25PMXh1YVcxd2IzSjBJRkp2ZFhSbGNrbHVjM1JoYm1ObElHWnliMjBnSnk0dUwyeHBZbk12VW05MWRHVnlKenRjYm1sdGNHOXlkQ0JRZFdKVGRXSkpibk4wWVc1alpTQm1jbTl0SUNjdUxpOXNhV0p6TDFCMVlsTjFZaWM3WEc1Y2JtVjRjRzl5ZENCa1pXWmhkV3gwSUdOc1lYTnpJRXhwYzNSRGIyNTBjbTlzYkdWeUlHVjRkR1Z1WkhNZ1EyOXVkSEp2Ykd4bGNpQjdYRzVjYmlBZ1kyOXVjM1J5ZFdOMGIzSWdLQ2tnZTF4dUlDQWdJSE4xY0dWeUtDazdYRzVjYmlBZ0lDQjBhR2x6TG0xbGJXOXpJRDBnYm5Wc2JEdGNiaUFnSUNCMGFHbHpMbU4wWVZacFpYY2dQU0JrYjJOMWJXVnVkQzV4ZFdWeWVWTmxiR1ZqZEc5eUtDY3Vhbk10WTNSaEp5azdYRzRnSUNBZ2RHaHBjeTUyYVdWM0lEMGdaRzlqZFcxbGJuUXVjWFZsY25sVFpXeGxZM1J2Y2lnbkxtcHpMV3hwYzNRdGRtbGxkeWNwTzF4dVhHNGdJQ0FnVUhKdmJXbHpaUzVoYkd3b1cxeHVJQ0FnSUNBZ2RHaHBjeTVzYjJGa1ExTlRLQ2N2YzNSNWJHVnpMM1p2YVdObGJXVnRieTFzYVhOMExtTnpjeWNwTEZ4dUlDQWdJQ0FnZEdocGN5NXNiMkZrVTJOeWFYQjBLQ2N2ZEdocGNtUmZjR0Z5ZEhrdmJXOXRaVzUwTG0xcGJpNXFjeWNwWEc0Z0lDQWdYU2xjYmlBZ0lDQXVkR2hsYmlnZ0tDa2dQVDRnZTF4dUlDQWdJQ0FnZEdocGN5NW5aWFJOWlcxdmMwRnVaRkJ2Y0hWc1lYUmxLQ2s3WEc1Y2JpQWdJQ0FnSUZCMVlsTjFZa2x1YzNSaGJtTmxLQ2t1ZEdobGJpaHdjeUE5UGlCN1hHNGdJQ0FnSUNBZ0lIQnpMbk4xWWloTlpXMXZUVzlrWld3dVZWQkVRVlJGUkN3Z0tDa2dQVDRnZTF4dUlDQWdJQ0FnSUNBZ0lIUm9hWE11WjJWMFRXVnRiM05CYm1SUWIzQjFiR0YwWlNncE8xeHVJQ0FnSUNBZ0lDQjlLVHRjYmlBZ0lDQWdJSDBwTzF4dVhHNGdJQ0FnSUNCUWRXSlRkV0pKYm5OMFlXNWpaU2dwTG5Sb1pXNG9jSE1nUFQ0Z2UxeHVJQ0FnSUNBZ0lDQndjeTV6ZFdJb0oyeHBjM1F0WTI5MlpYSmxaQ2NzSUNncElEMCtJSHRjYmlBZ0lDQWdJQ0FnSUNCMGFHbHpMblpwWlhjdVkyeGhjM05NYVhOMExtRmtaQ2duYkdsemRDMTJhV1YzTFMxemFISjFibXNuS1R0Y2JpQWdJQ0FnSUNBZ0lDQjBhR2x6TG5WdWMyVjBWR0ZpU1c1a1pYaGxjeWdwTzF4dUlDQWdJQ0FnSUNCOUtUdGNiaUFnSUNBZ0lIMHBPMXh1WEc0Z0lDQWdJQ0JRZFdKVGRXSkpibk4wWVc1alpTZ3BMblJvWlc0b2NITWdQVDRnZTF4dUlDQWdJQ0FnSUNCd2N5NXpkV0lvSjJ4cGMzUXRkVzVqYjNabGNtVmtKeXdnS0NrZ1BUNGdlMXh1SUNBZ0lDQWdJQ0FnSUhSb2FYTXVkbWxsZHk1amJHRnpjMHhwYzNRdWNtVnRiM1psS0Nkc2FYTjBMWFpwWlhjdExYTm9jblZ1YXljcE8xeHVJQ0FnSUNBZ0lDQWdJSFJvYVhNdWMyVjBWR0ZpU1c1a1pYaGxjeWdwTzF4dUlDQWdJQ0FnSUNCOUtUdGNiaUFnSUNBZ0lIMHBPMXh1WEc0Z0lDQWdJQ0JRZFdKVGRXSkpibk4wWVc1alpTZ3BMblJvWlc0b2NITWdQVDRnZTF4dUlDQWdJQ0FnSUNCd2N5NXpkV0lvSjJ4cGMzUXRiRzlqYTJWa0p5d2dLQ2tnUFQ0Z2UxeHVJQ0FnSUNBZ0lDQWdJSFJvYVhNdWRtbGxkeTVqYkdGemMweHBjM1F1WVdSa0tDZHNhWE4wTFhacFpYY3RMV3h2WTJ0bFpDY3BPMXh1SUNBZ0lDQWdJQ0FnSUhSb2FYTXVkVzV6WlhSVVlXSkpibVJsZUdWektDazdYRzRnSUNBZ0lDQWdJSDBwTzF4dUlDQWdJQ0FnZlNrN1hHNWNiaUFnSUNBZ0lGQjFZbE4xWWtsdWMzUmhibU5sS0NrdWRHaGxiaWh3Y3lBOVBpQjdYRzRnSUNBZ0lDQWdJSEJ6TG5OMVlpZ25iR2x6ZEMxMWJteHZZMnRsWkNjc0lDZ3BJRDArSUh0Y2JpQWdJQ0FnSUNBZ0lDQjBhR2x6TG5acFpYY3VZMnhoYzNOTWFYTjBMbkpsYlc5MlpTZ25iR2x6ZEMxMmFXVjNMUzFzYjJOclpXUW5LVHRjYmlBZ0lDQWdJQ0FnSUNCMGFHbHpMblZ1YzJWMFZHRmlTVzVrWlhobGN5Z3BPMXh1SUNBZ0lDQWdJQ0I5S1R0Y2JpQWdJQ0FnSUgwcE8xeHVYRzRnSUNBZ2ZTazdYRzRnSUgxY2JseHVJQ0JuWlhSTlpXMXZjMEZ1WkZCdmNIVnNZWFJsSUNncElIdGNibHh1SUNBZ0lFMWxiVzlOYjJSbGJDNW5aWFJCYkd3b0ozUnBiV1VuTENCTlpXMXZUVzlrWld3dVJFVlRRMFZPUkVsT1J5bGNiaUFnSUNBZ0lDNTBhR1Z1S0cxbGJXOXpJRDArSUh0Y2JpQWdJQ0FnSUNBZ2RHaHBjeTV0WlcxdmN5QTlJRzFsYlc5ek8xeHVJQ0FnSUNBZ0lDQjBhR2x6TG5CdmNIVnNZWFJsS0NrN1hHNGdJQ0FnSUNBZ0lIUm9hWE11YzJWMFZHRmlTVzVrWlhobGN5Z3BPMXh1SUNBZ0lDQWdmU2s3WEc0Z0lIMWNibHh1SUNCbGMyTmhjR1ZJVkUxTUlDaHpkSElwSUh0Y2JseHVJQ0FnSUdsbUlDaHpkSElnUFQwOUlHNTFiR3dwWEc0Z0lDQWdJQ0J5WlhSMWNtNGdjM1J5TzF4dVhHNGdJQ0FnTHk4Z1UybHRhV3hoY2lCMGJ5QmliM1JvSUdoMGRIQTZMeTl3YUhBdWJtVjBMMmgwYld4emNHVmphV0ZzWTJoaGNuTWdZVzVrWEc0Z0lDQWdMeThnYUhSMGNEb3ZMM2QzZHk0eVlXeHBkSGt1WTI5dEx6SXdNVFV2TURFdmRHVnRjR3hoZEdVdGMzUnlhVzVuY3kxb2RHMXNMbWgwYld3Z2FXNGdkMmhoZEZ4dUlDQWdJQzh2SUdsMElHTm9iMjl6WlhNZ2RHOGdjbVZ3YkdGalpTNWNiaUFnSUNCeVpYUjFjbTRnYzNSeUxuSmxjR3hoWTJVb0x5WXZaeXdnSnlaaGJYQTdKeWxjYmlBZ0lDQWdJQ0FnTG5KbGNHeGhZMlVvTHo0dlp5d2dKeVpuZERzbktWeHVJQ0FnSUNBZ0lDQXVjbVZ3YkdGalpTZ3ZQQzluTENBbkpteDBPeWNwWEc0Z0lDQWdJQ0FnSUM1eVpYQnNZV05sS0M5Y0lpOW5MQ0FuSm5GMWIzUTdKeWxjYmlBZ0lDQWdJQ0FnTG5KbGNHeGhZMlVvTHljdlp5d2dKeVpoY0c5ek95Y3BPMXh1SUNCOVhHNWNiaUFnY0c5d2RXeGhkR1VnS0NrZ2UxeHVYRzRnSUNBZ2FXWWdLQ0YwYUdsekxtMWxiVzl6TG14bGJtZDBhQ2tnZTF4dUlDQWdJQ0FnZEdocGN5NWpkR0ZXYVdWM0xtTnNZWE56VEdsemRDNWhaR1FvSjJWdGNIUjVMWE5sZEMxamRHRXRMWFpwYzJsaWJHVW5LVHRjYmlBZ0lDQWdJSEpsZEhWeWJqdGNiaUFnSUNCOVhHNWNiaUFnSUNCMGFHbHpMbU4wWVZacFpYY3VZMnhoYzNOTWFYTjBMbkpsYlc5MlpTZ25aVzF3ZEhrdGMyVjBMV04wWVMwdGRtbHphV0pzWlNjcE8xeHVJQ0FnSUhSb2FYTXVjbVZ0YjNabFJYWmxiblJNYVhOMFpXNWxjbk1vS1R0Y2JseHVJQ0FnSUhaaGNpQnNhWE4wSUQwZ0p6eHZiQ0JqYkdGemN6MWNJbXhwYzNRdGRtbGxkMTlmWTI5dWRHVnVkSE5jSWo0bk8xeHVYRzRnSUNBZ2RHaHBjeTV0WlcxdmN5NW1iM0pGWVdOb0tDaHRaVzF2S1NBOVBpQjdYRzVjYmlBZ0lDQWdJSFpoY2lCdFpXMXZWR2x0WlVGbmJ5QTlJRzF2YldWdWRDaHRaVzF2TG5ScGJXVXBMbVp5YjIxT2IzY29LVHRjYmlBZ0lDQWdJSFpoY2lCdFpXMXZWR2wwYkdVZ1BTQjBhR2x6TG1WelkyRndaVWhVVFV3b2JXVnRieTUwYVhSc1pTazdYRzRnSUNBZ0lDQjJZWElnYldWdGIwUmxjMk55YVhCMGFXOXVJRDBnZEdocGN5NWxjMk5oY0dWSVZFMU1LRzFsYlc4dVpHVnpZM0pwY0hScGIyNHBPMXh1WEc0Z0lDQWdJQ0JzYVhOMElDczlJR0E4YkdrZ1kyeGhjM005WENKc2FYTjBMWFpwWlhkZlgybDBaVzFjSWlCcFpEMWNJblp0TFNSN2JXVnRieTUxY214OVhDSWdaR0YwWVMxMWNtdzlYQ0lrZTIxbGJXOHVkWEpzZlZ3aVBseHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lEeGthWFlnWTJ4aGMzTTlYQ0pzYVhOMExYWnBaWGRmWDJsMFpXMHRaR1YwWVdsc2Mxd2lQbHh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnUEdScGRpQmpiR0Z6Y3oxY0lteHBjM1F0ZG1sbGQxOWZhWFJsYlMxa1lYUmxYQ0krSkh0dFpXMXZWR2x0WlVGbmIzMDhMMlJwZGo1Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lEeGthWFlnWTJ4aGMzTTlYQ0pzYVhOMExYWnBaWGRmWDJsMFpXMHRkR2wwYkdWY0lqNGtlMjFsYlc5VWFYUnNaWDA4TDJScGRqNWdYRzVjYmlBZ0lDQWdJR2xtSUNodFpXMXZMbVJsYzJOeWFYQjBhVzl1SUNFOVBTQnVkV3hzS1NCN1hHNGdJQ0FnSUNBZ0lHeHBjM1FnS3owZ1lEeGthWFlnWTJ4aGMzTTlYQ0pzYVhOMExYWnBaWGRmWDJsMFpXMHRaR1Z6WTNKcGNIUnBiMjVjSWo1Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDUjdiV1Z0YjBSbGMyTnlhWEIwYVc5dWZWeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lEd3ZaR2wyUG1CY2JpQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ2JHbHpkQ0FyUFNBblBDOWthWFkrUEM5c2FUNG5PMXh1SUNBZ0lIMHBPMXh1WEc0Z0lDQWdiR2x6ZENBclBTQW5QQzl2YkQ0bk8xeHVYRzRnSUNBZ2RHaHBjeTUyYVdWM0xtbHVibVZ5U0ZSTlRDQTlJR3hwYzNRN1hHNGdJQ0FnZEdocGN5NWhaR1JGZG1WdWRFeHBjM1JsYm1WeWN5Z3BPMXh1SUNCOVhHNWNiaUFnYzJWMFZHRmlTVzVrWlhobGN5QW9LU0I3WEc1Y2JpQWdJQ0JwWmlBb2RHaHBjeTUyYVdWM0xtTnNZWE56VEdsemRDNWpiMjUwWVdsdWN5Z25iR2x6ZEMxMmFXVjNMUzFzYjJOclpXUW5LU2xjYmlBZ0lDQWdJSEpsZEhWeWJqdGNibHh1SUNBZ0lHbG1JQ2gwYUdsekxuWnBaWGN1WTJ4aGMzTk1hWE4wTG1OdmJuUmhhVzV6S0Nkc2FYTjBMWFpwWlhjdExYTm9jblZ1YXljcEtWeHVJQ0FnSUNBZ2NtVjBkWEp1TzF4dVhHNGdJQ0FnZG1GeUlHeHBjM1JKZEdWdGN5QTlJR1J2WTNWdFpXNTBMbkYxWlhKNVUyVnNaV04wYjNKQmJHd29YRzRnSUNBZ0lDQW5MbXhwYzNRdGRtbGxkMTlmYVhSbGJTZGNiaUFnSUNBcE8xeHVYRzRnSUNBZ1ptOXlJQ2gyWVhJZ2JDQTlJREE3SUd3Z1BDQnNhWE4wU1hSbGJYTXViR1Z1WjNSb095QnNLeXNwSUh0Y2JpQWdJQ0FnSUd4cGMzUkpkR1Z0YzF0c1hTNTBZV0pKYm1SbGVDQTlJR3dnS3lBeU8xeHVJQ0FnSUgxY2JpQWdmVnh1WEc0Z0lIVnVjMlYwVkdGaVNXNWtaWGhsY3lBb0tTQjdYRzVjYmlBZ0lDQjJZWElnYkdsemRFbDBaVzF6SUQwZ1pHOWpkVzFsYm5RdWNYVmxjbmxUWld4bFkzUnZja0ZzYkNoY2JpQWdJQ0FnSUNjdWJHbHpkQzEyYVdWM1gxOXBkR1Z0SjF4dUlDQWdJQ2s3WEc1Y2JpQWdJQ0JtYjNJZ0tIWmhjaUJzSUQwZ01Ec2diQ0E4SUd4cGMzUkpkR1Z0Y3k1c1pXNW5kR2c3SUd3ckt5a2dlMXh1SUNBZ0lDQWdiR2x6ZEVsMFpXMXpXMnhkTG5KbGJXOTJaVUYwZEhKcFluVjBaU2duZEdGaWFXNWtaWGduS1R0Y2JpQWdJQ0I5WEc0Z0lIMWNibHh1SUNCaFpHUkZkbVZ1ZEV4cGMzUmxibVZ5Y3lBb0tTQjdYRzRnSUNBZ2RtRnlJSFJ2WjJkc1pVSjFkSFJ2Ym5NZ1BTQmtiMk4xYldWdWRDNXhkV1Z5ZVZObGJHVmpkRzl5UVd4c0tGeHVJQ0FnSUNBZ0lDQW5MbXhwYzNRdGRtbGxkMTlmYVhSbGJTMXdjbVYyYVdWM0xYUnZaMmRzWlNjcE8xeHVYRzRnSUNBZ2RtRnlJR3hwYzNSSmRHVnRjeUE5SUdSdlkzVnRaVzUwTG5GMVpYSjVVMlZzWldOMGIzSkJiR3dvWEc0Z0lDQWdJQ0FnSUNjdWJHbHpkQzEyYVdWM1gxOXBkR1Z0SjF4dUlDQWdJQ2s3WEc1Y2JpQWdJQ0JtYjNJZ0tIWmhjaUJzSUQwZ01Ec2diQ0E4SUd4cGMzUkpkR1Z0Y3k1c1pXNW5kR2c3SUd3ckt5a2dlMXh1SUNBZ0lDQWdiR2x6ZEVsMFpXMXpXMnhkTG1Ga1pFVjJaVzUwVEdsemRHVnVaWElvSjJ0bGVYVndKeXdnZEdocGN5NXZia3hwYzNSSmRHVnRRMnhwWTJzcE8xeHVJQ0FnSUNBZ2JHbHpkRWwwWlcxelcyeGRMbUZrWkVWMlpXNTBUR2x6ZEdWdVpYSW9KMk5zYVdOckp5d2dkR2hwY3k1dmJreHBjM1JKZEdWdFEyeHBZMnNwTzF4dUlDQWdJSDFjYmlBZ2ZWeHVYRzRnSUhKbGJXOTJaVVYyWlc1MFRHbHpkR1Z1WlhKeklDZ3BJSHRjYmlBZ0lDQjJZWElnYkdsemRFbDBaVzF6SUQwZ1pHOWpkVzFsYm5RdWNYVmxjbmxUWld4bFkzUnZja0ZzYkNoY2JpQWdJQ0FnSUNjdWJHbHpkQzEyYVdWM1gxOXBkR1Z0SjF4dUlDQWdJQ2s3WEc1Y2JpQWdJQ0JtYjNJZ0tIWmhjaUJzSUQwZ01Ec2diQ0E4SUd4cGMzUkpkR1Z0Y3k1c1pXNW5kR2c3SUd3ckt5a2dlMXh1SUNBZ0lDQWdiR2x6ZEVsMFpXMXpXMnhkTG5KbGJXOTJaVVYyWlc1MFRHbHpkR1Z1WlhJb0oydGxlWFZ3Snl3Z2RHaHBjeTV2Ymt4cGMzUkpkR1Z0UTJ4cFkyc3BPMXh1SUNBZ0lDQWdiR2x6ZEVsMFpXMXpXMnhkTG5KbGJXOTJaVVYyWlc1MFRHbHpkR1Z1WlhJb0oyTnNhV05ySnl3Z2RHaHBjeTV2Ymt4cGMzUkpkR1Z0UTJ4cFkyc3BPMXh1SUNBZ0lIMWNiaUFnZlZ4dVhHNGdJRzl1VEdsemRFbDBaVzFEYkdsamF5QW9aU2tnZTF4dVhHNGdJQ0FnYVdZZ0tHVXVkSGx3WlNBOVBTQW5hMlY1ZFhBbklDWW1JR1V1YTJWNVEyOWtaU0FoUFQwZ01UTXBYRzRnSUNBZ0lDQnlaWFIxY200N1hHNWNiaUFnSUNCbExuUmhjbWRsZEM1amJHRnpjMHhwYzNRdVlXUmtLQ2RoWTNScGRtVW5LVHRjYmx4dUlDQWdJRkp2ZFhSbGNrbHVjM1JoYm1ObEtDa3VkR2hsYmloeWIzVjBaWElnUFQ0Z2UxeHVJQ0FnSUNBZ2NtOTFkR1Z5TG1kdktHQXZaR1YwWVdsc2N5OGtlM1JvYVhNdVpHRjBZWE5sZEM1MWNteDlZQ2s3WEc0Z0lDQWdmU2s3WEc0Z0lIMWNibHh1SUNCdmJsUnZaMmRzWlVKMWRIUnZibEJ5WlhOeklDZ3BJSHRjYmlBZ0lDQXZMeUJuWlhRZ2RHaGxJR1p2Y2lCaGRIUnlhV0oxZEdVc0lHWnBibVFnZEdobElHRjFaR2x2TENCelpYUWdkR2hsSUhOeVkxeHVJQ0FnSUM4dklIZG9aVzRnZEdobElIVnpaWElnWTJ4cFkydHpJSE4wYjNBc0lIZGxJSE5vYjNWc1pDQjFibWh2YjJzZ2RHaGxJR0YxWkdsdlhHNGdJQ0FnTHk4Z2RtbGhJSEpsZG05clpVOWlhbVZqZEZWU1RGeHVJQ0I5WEc1Y2JuMWNiaUpkZlE9PSIsIi8qKlxuICpcbiAqIENvcHlyaWdodCAyMDE1IEdvb2dsZSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSAoZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCd2YWx1ZScgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0pKCk7XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IENvbmZpZ01hbmFnZXJJbnN0YW5jZTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxudmFyIF9jb25maWdDb25maWcgPSByZXF1aXJlKCcuLi9jb25maWcvQ29uZmlnJyk7XG5cbnZhciBfY29uZmlnQ29uZmlnMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NvbmZpZ0NvbmZpZyk7XG5cbmZ1bmN0aW9uIENvbmZpZ01hbmFnZXJJbnN0YW5jZSgpIHtcblxuICBpZiAodHlwZW9mIHdpbmRvdy5Db25maWdNYW5hZ2VySW5zdGFuY2VfICE9PSAndW5kZWZpbmVkJykgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh3aW5kb3cuQ29uZmlnTWFuYWdlckluc3RhbmNlXyk7XG5cbiAgd2luZG93LkNvbmZpZ01hbmFnZXJJbnN0YW5jZV8gPSBuZXcgQ29uZmlnTWFuYWdlcigpO1xuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUod2luZG93LkNvbmZpZ01hbmFnZXJJbnN0YW5jZV8pO1xufVxuXG52YXIgQ29uZmlnTWFuYWdlciA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIENvbmZpZ01hbmFnZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbmZpZ01hbmFnZXIpO1xuXG4gICAgdGhpcy5jb25maWcgPSBfY29uZmlnQ29uZmlnMlsnZGVmYXVsdCddO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKENvbmZpZ01hbmFnZXIsIFt7XG4gICAga2V5OiAnZ2V0U3RvcmUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTdG9yZShzdG9yZU5hbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbmZpZ18uc3RvcmVzW3N0b3JlTmFtZV07XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29uZmlnJyxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChjKSB7XG4gICAgICB0aGlzLmNvbmZpZ18gPSBjO1xuICAgIH0sXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb25maWdfO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDb25maWdNYW5hZ2VyO1xufSkoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJaTlWYzJWeWN5OW9aWEp0WVc1M0wwUnZZM1Z0Wlc1MGN5OW9aWEp0ZDI5dVp5OXBiM05VWlhOMEwzTnlZeTl6WTNKcGNIUnpMMnhwWW5NdlEyOXVabWxuVFdGdVlXZGxjaTVxY3lKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pT3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPM0ZDUVcxQ2QwSXNjVUpCUVhGQ096czdPenM3TkVKQlJqRkNMR3RDUVVGclFqczdPenRCUVVWMFFpeFRRVUZUTEhGQ1FVRnhRaXhIUVVGSk96dEJRVVV2UXl4TlFVRkpMRTlCUVU4c1RVRkJUU3hEUVVGRExITkNRVUZ6UWl4TFFVRkxMRmRCUVZjc1JVRkRkRVFzVDBGQlR5eFBRVUZQTEVOQlFVTXNUMEZCVHl4RFFVRkRMRTFCUVUwc1EwRkJReXh6UWtGQmMwSXNRMEZCUXl4RFFVRkRPenRCUVVWNFJDeFJRVUZOTEVOQlFVTXNjMEpCUVhOQ0xFZEJRVWNzU1VGQlNTeGhRVUZoTEVWQlFVVXNRMEZCUXpzN1FVRkZjRVFzVTBGQlR5eFBRVUZQTEVOQlFVTXNUMEZCVHl4RFFVRkRMRTFCUVUwc1EwRkJReXh6UWtGQmMwSXNRMEZCUXl4RFFVRkRPME5CUTNaRU96dEpRVVZMTEdGQlFXRTdRVUZGVEN4WFFVWlNMR0ZCUVdFc1IwRkZSanN3UWtGR1dDeGhRVUZoT3p0QlFVZG1MRkZCUVVrc1EwRkJReXhOUVVGTkxEUkNRVUZUTEVOQlFVTTdSMEZEZEVJN08yVkJTa2NzWVVGQllUczdWMEZqVWl4clFrRkJReXhUUVVGVExFVkJRVVU3UVVGRGJrSXNZVUZCVHl4SlFVRkpMRU5CUVVNc1QwRkJUeXhEUVVGRExFMUJRVTBzUTBGQlF5eFRRVUZUTEVOQlFVTXNRMEZCUXp0TFFVTjJRenM3TzFOQlZsVXNZVUZCUXl4RFFVRkRMRVZCUVVVN1FVRkRZaXhWUVVGSkxFTkJRVU1zVDBGQlR5eEhRVUZITEVOQlFVTXNRMEZCUXp0TFFVTnNRanRUUVVWVkxHVkJRVWM3UVVGRFdpeGhRVUZQTEVsQlFVa3NRMEZCUXl4UFFVRlBMRU5CUVVNN1MwRkRja0k3T3p0VFFWcEhMR0ZCUVdFaUxDSm1hV3hsSWpvaUwxVnpaWEp6TDJobGNtMWhibmN2Ukc5amRXMWxiblJ6TDJobGNtMTNiMjVuTDJsdmMxUmxjM1F2YzNKakwzTmpjbWx3ZEhNdmJHbGljeTlEYjI1bWFXZE5ZVzVoWjJWeUxtcHpJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHNpTHlvcVhHNGdLbHh1SUNvZ1EyOXdlWEpwWjJoMElESXdNVFVnUjI5dloyeGxJRWx1WXk0Z1FXeHNJSEpwWjJoMGN5QnlaWE5sY25abFpDNWNiaUFxWEc0Z0tpQk1hV05sYm5ObFpDQjFibVJsY2lCMGFHVWdRWEJoWTJobElFeHBZMlZ1YzJVc0lGWmxjbk5wYjI0Z01pNHdJQ2gwYUdVZ1hDSk1hV05sYm5ObFhDSXBPMXh1SUNvZ2VXOTFJRzFoZVNCdWIzUWdkWE5sSUhSb2FYTWdabWxzWlNCbGVHTmxjSFFnYVc0Z1kyOXRjR3hwWVc1alpTQjNhWFJvSUhSb1pTQk1hV05sYm5ObExseHVJQ29nV1c5MUlHMWhlU0J2WW5SaGFXNGdZU0JqYjNCNUlHOW1JSFJvWlNCTWFXTmxibk5sSUdGMFhHNGdLbHh1SUNvZ0lDQWdJR2gwZEhBNkx5OTNkM2N1WVhCaFkyaGxMbTl5Wnk5c2FXTmxibk5sY3k5TVNVTkZUbE5GTFRJdU1GeHVJQ3BjYmlBcUlGVnViR1Z6Y3lCeVpYRjFhWEpsWkNCaWVTQmhjSEJzYVdOaFlteGxJR3hoZHlCdmNpQmhaM0psWldRZ2RHOGdhVzRnZDNKcGRHbHVaeXdnYzI5bWRIZGhjbVZjYmlBcUlHUnBjM1J5YVdKMWRHVmtJSFZ1WkdWeUlIUm9aU0JNYVdObGJuTmxJR2x6SUdScGMzUnlhV0oxZEdWa0lHOXVJR0Z1SUZ3aVFWTWdTVk5jSWlCQ1FWTkpVeXhjYmlBcUlGZEpWRWhQVlZRZ1YwRlNVa0ZPVkVsRlV5QlBVaUJEVDA1RVNWUkpUMDVUSUU5R0lFRk9XU0JMU1U1RUxDQmxhWFJvWlhJZ1pYaHdjbVZ6Y3lCdmNpQnBiWEJzYVdWa0xseHVJQ29nVTJWbElIUm9aU0JNYVdObGJuTmxJR1p2Y2lCMGFHVWdjM0JsWTJsbWFXTWdiR0Z1WjNWaFoyVWdaMjkyWlhKdWFXNW5JSEJsY20xcGMzTnBiMjV6SUdGdVpGeHVJQ29nYkdsdGFYUmhkR2x2Ym5NZ2RXNWtaWElnZEdobElFeHBZMlZ1YzJVdVhHNGdLaTljYmx4dWFXMXdiM0owSUVOdmJtWnBaeUJtY205dElDY3VMaTlqYjI1bWFXY3ZRMjl1Wm1sbkp6dGNibHh1Wlhod2IzSjBJR1JsWm1GMWJIUWdablZ1WTNScGIyNGdRMjl1Wm1sblRXRnVZV2RsY2tsdWMzUmhibU5sSUNncElIdGNibHh1SUNCcFppQW9kSGx3Wlc5bUlIZHBibVJ2ZHk1RGIyNW1hV2ROWVc1aFoyVnlTVzV6ZEdGdVkyVmZJQ0U5UFNBbmRXNWtaV1pwYm1Wa0p5bGNiaUFnSUNCeVpYUjFjbTRnVUhKdmJXbHpaUzV5WlhOdmJIWmxLSGRwYm1SdmR5NURiMjVtYVdkTllXNWhaMlZ5U1c1emRHRnVZMlZmS1R0Y2JseHVJQ0IzYVc1a2IzY3VRMjl1Wm1sblRXRnVZV2RsY2tsdWMzUmhibU5sWHlBOUlHNWxkeUJEYjI1bWFXZE5ZVzVoWjJWeUtDazdYRzVjYmlBZ2NtVjBkWEp1SUZCeWIyMXBjMlV1Y21WemIyeDJaU2gzYVc1a2IzY3VRMjl1Wm1sblRXRnVZV2RsY2tsdWMzUmhibU5sWHlrN1hHNTlYRzVjYm1Oc1lYTnpJRU52Ym1acFowMWhibUZuWlhJZ2UxeHVYRzRnSUdOdmJuTjBjblZqZEc5eUlDZ3BJSHRjYmlBZ0lDQjBhR2x6TG1OdmJtWnBaeUE5SUVOdmJtWnBaenRjYmlBZ2ZWeHVYRzRnSUhObGRDQmpiMjVtYVdjZ0tHTXBJSHRjYmlBZ0lDQjBhR2x6TG1OdmJtWnBaMThnUFNCak8xeHVJQ0I5WEc1Y2JpQWdaMlYwSUdOdmJtWnBaeUFvS1NCN1hHNGdJQ0FnY21WMGRYSnVJSFJvYVhNdVkyOXVabWxuWHp0Y2JpQWdmVnh1WEc0Z0lHZGxkRk4wYjNKbElDaHpkRzl5WlU1aGJXVXBJSHRjYmlBZ0lDQnlaWFIxY200Z2RHaHBjeTVqYjI1bWFXZGZMbk4wYjNKbGMxdHpkRzl5WlU1aGJXVmRPMXh1SUNCOVhHNWNibjFjYmlKZGZRPT0iLCIvKipcbiAqIENvcHlyaWdodCAyMDE1IEdvb2dsZSBJbmMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBEYXRhYmFzZUluc3RhbmNlO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXG52YXIgX0NvbmZpZ01hbmFnZXIgPSByZXF1aXJlKCcuL0NvbmZpZ01hbmFnZXInKTtcblxudmFyIF9Db25maWdNYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0NvbmZpZ01hbmFnZXIpO1xuXG5mdW5jdGlvbiBEYXRhYmFzZUluc3RhbmNlKCkge1xuXG4gIGlmICh0eXBlb2Ygd2luZG93LkRhdGFiYXNlSW5zdGFuY2VfICE9PSAndW5kZWZpbmVkJykgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh3aW5kb3cuRGF0YWJhc2VJbnN0YW5jZV8pO1xuXG4gIHdpbmRvdy5EYXRhYmFzZUluc3RhbmNlXyA9IG5ldyBEYXRhYmFzZSgpO1xuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUod2luZG93LkRhdGFiYXNlSW5zdGFuY2VfKTtcbn1cblxudmFyIERhdGFiYXNlID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRGF0YWJhc2UoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBEYXRhYmFzZSk7XG5cbiAgICAoMCwgX0NvbmZpZ01hbmFnZXIyWydkZWZhdWx0J10pKCkudGhlbihmdW5jdGlvbiAoY29uZmlnTWFuYWdlcikge1xuXG4gICAgICB2YXIgY29uZmlnID0gY29uZmlnTWFuYWdlci5jb25maWc7XG5cbiAgICAgIF90aGlzLmRiXyA9IG51bGw7XG4gICAgICBfdGhpcy5uYW1lXyA9IGNvbmZpZy5uYW1lO1xuICAgICAgX3RoaXMudmVyc2lvbl8gPSBjb25maWcudmVyc2lvbjtcbiAgICAgIF90aGlzLnN0b3Jlc18gPSBjb25maWcuc3RvcmVzO1xuICAgIH0pO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKERhdGFiYXNlLCBbe1xuICAgIGtleTogJ2dldFN0b3JlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3RvcmUoc3RvcmVOYW1lKSB7XG5cbiAgICAgIGlmICghdGhpcy5zdG9yZXNfW3N0b3JlTmFtZV0pIHRocm93ICdUaGVyZSBpcyBubyBzdG9yZSB3aXRoIG5hbWUgXCInICsgc3RvcmVOYW1lICsgJ1wiJztcblxuICAgICAgcmV0dXJuIHRoaXMuc3RvcmVzX1tzdG9yZU5hbWVdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ29wZW4nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLmRiXykgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmRiXyk7XG5cbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cbiAgICAgICAgdmFyIGRiT3BlbiA9IGluZGV4ZWREQi5vcGVuKF90aGlzMi5uYW1lXywgX3RoaXMyLnZlcnNpb25fKTtcblxuICAgICAgICBkYk9wZW4ub251cGdyYWRlbmVlZGVkID0gZnVuY3Rpb24gKGUpIHtcblxuICAgICAgICAgIF90aGlzMi5kYl8gPSBlLnRhcmdldC5yZXN1bHQ7XG5cbiAgICAgICAgICB2YXIgc3RvcmVOYW1lcyA9IE9iamVjdC5rZXlzKF90aGlzMi5zdG9yZXNfKTtcbiAgICAgICAgICB2YXIgc3RvcmVOYW1lO1xuXG4gICAgICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBzdG9yZU5hbWVzLmxlbmd0aDsgcysrKSB7XG5cbiAgICAgICAgICAgIHN0b3JlTmFtZSA9IHN0b3JlTmFtZXNbc107XG5cbiAgICAgICAgICAgIC8vIElmIHRoZSBzdG9yZSBhbHJlYWR5IGV4aXN0c1xuICAgICAgICAgICAgaWYgKF90aGlzMi5kYl8ub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhzdG9yZU5hbWUpKSB7XG5cbiAgICAgICAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoZSBzdG9yZSBzaG91bGQgYmUgZGVsZXRlZC5cbiAgICAgICAgICAgICAgLy8gSWYgc28gZGVsZXRlLCBhbmQgaWYgbm90IHNraXAgdG8gdGhlIG5leHQgc3RvcmUuXG4gICAgICAgICAgICAgIGlmIChfdGhpczIuc3RvcmVzX1tzdG9yZU5hbWVdLmRlbGV0ZU9uVXBncmFkZSkgX3RoaXMyLmRiXy5kZWxldGVPYmplY3RTdG9yZShzdG9yZU5hbWUpO2Vsc2UgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBkYlN0b3JlID0gX3RoaXMyLmRiXy5jcmVhdGVPYmplY3RTdG9yZShzdG9yZU5hbWUsIF90aGlzMi5zdG9yZXNfW3N0b3JlTmFtZV0ucHJvcGVydGllcyk7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMyLnN0b3Jlc19bc3RvcmVOYW1lXS5pbmRleGVzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICB2YXIgaW5kZXhlcyA9IF90aGlzMi5zdG9yZXNfW3N0b3JlTmFtZV0uaW5kZXhlcztcbiAgICAgICAgICAgICAgdmFyIGluZGV4TmFtZXMgPSBPYmplY3Qua2V5cyhpbmRleGVzKTtcbiAgICAgICAgICAgICAgdmFyIGluZGV4O1xuXG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5kZXhOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gaW5kZXhOYW1lc1tpXTtcbiAgICAgICAgICAgICAgICBkYlN0b3JlLmNyZWF0ZUluZGV4KGluZGV4LCBpbmRleCwgaW5kZXhlc1tpbmRleF0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGRiT3Blbi5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIF90aGlzMi5kYl8gPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgcmVzb2x2ZShfdGhpczIuZGJfKTtcbiAgICAgICAgfTtcblxuICAgICAgICBkYk9wZW4ub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY2xvc2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXG4gICAgICAgIGlmICghX3RoaXMzLmRiXykgcmVqZWN0KCdObyBkYXRhYmFzZSBjb25uZWN0aW9uJyk7XG5cbiAgICAgICAgX3RoaXMzLmRiXy5jbG9zZSgpO1xuICAgICAgICByZXNvbHZlKF90aGlzMy5kYl8pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnbnVrZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG51a2UoKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIk51a2luZy4uLiBcIiArIF90aGlzNC5uYW1lXyk7XG5cbiAgICAgICAgX3RoaXM0LmNsb3NlKCk7XG5cbiAgICAgICAgdmFyIGRiVHJhbnNhY3Rpb24gPSBpbmRleGVkREIuZGVsZXRlRGF0YWJhc2UoX3RoaXM0Lm5hbWVfKTtcbiAgICAgICAgZGJUcmFuc2FjdGlvbi5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiTnVrZWQuLi5cIik7XG4gICAgICAgICAgcmVzb2x2ZShlKTtcbiAgICAgICAgfTtcblxuICAgICAgICBkYlRyYW5zYWN0aW9uLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3B1dCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHB1dChzdG9yZU5hbWUsIHZhbHVlLCBrZXkpIHtcblxuICAgICAgcmV0dXJuIHRoaXMub3BlbigpLnRoZW4oZnVuY3Rpb24gKGRiKSB7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblxuICAgICAgICAgIHZhciBkYlRyYW5zYWN0aW9uID0gZGIudHJhbnNhY3Rpb24oc3RvcmVOYW1lLCAncmVhZHdyaXRlJyk7XG4gICAgICAgICAgdmFyIGRiU3RvcmUgPSBkYlRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHN0b3JlTmFtZSk7XG4gICAgICAgICAgdmFyIGRiUmVxdWVzdCA9IGRiU3RvcmUucHV0KHZhbHVlLCBrZXkpO1xuXG4gICAgICAgICAgZGJUcmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHJlc29sdmUoZGJSZXF1ZXN0LnJlc3VsdCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGRiVHJhbnNhY3Rpb24ub25hYm9ydCA9IGRiVHJhbnNhY3Rpb24ub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXQoc3RvcmVOYW1lLCB2YWx1ZSkge1xuXG4gICAgICByZXR1cm4gdGhpcy5vcGVuKCkudGhlbihmdW5jdGlvbiAoZGIpIHtcblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXG4gICAgICAgICAgdmFyIGRiVHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihzdG9yZU5hbWUsICdyZWFkb25seScpO1xuICAgICAgICAgIHZhciBkYlN0b3JlID0gZGJUcmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICAgIHZhciBkYlN0b3JlUmVxdWVzdDtcblxuICAgICAgICAgIGRiVHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICByZXNvbHZlKGRiU3RvcmVSZXF1ZXN0LnJlc3VsdCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGRiVHJhbnNhY3Rpb24ub25hYm9ydCA9IGRiVHJhbnNhY3Rpb24ub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGRiU3RvcmVSZXF1ZXN0ID0gZGJTdG9yZS5nZXQodmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEFsbCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEFsbChzdG9yZU5hbWUsIGluZGV4LCBvcmRlcikge1xuXG4gICAgICByZXR1cm4gdGhpcy5vcGVuKCkudGhlbihmdW5jdGlvbiAoZGIpIHtcblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuXG4gICAgICAgICAgdmFyIGRiVHJhbnNhY3Rpb24gPSBkYi50cmFuc2FjdGlvbihzdG9yZU5hbWUsICdyZWFkb25seScpO1xuICAgICAgICAgIHZhciBkYlN0b3JlID0gZGJUcmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICAgIHZhciBkYkN1cnNvcjtcblxuICAgICAgICAgIGlmICh0eXBlb2Ygb3JkZXIgIT09ICdzdHJpbmcnKSBvcmRlciA9ICduZXh0JztcblxuICAgICAgICAgIGlmICh0eXBlb2YgaW5kZXggPT09ICdzdHJpbmcnKSBkYkN1cnNvciA9IGRiU3RvcmUuaW5kZXgoaW5kZXgpLm9wZW5DdXJzb3IobnVsbCwgb3JkZXIpO2Vsc2UgZGJDdXJzb3IgPSBkYlN0b3JlLm9wZW5DdXJzb3IoKTtcblxuICAgICAgICAgIHZhciBkYlJlc3VsdHMgPSBbXTtcblxuICAgICAgICAgIGRiQ3Vyc29yLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuXG4gICAgICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgICAgIGRiUmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICBrZXk6IGN1cnNvci5rZXksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGN1cnNvci52YWx1ZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY3Vyc29yWydjb250aW51ZSddKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXNvbHZlKGRiUmVzdWx0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGRiQ3Vyc29yLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGVsZXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gX2RlbGV0ZShzdG9yZU5hbWUsIGtleSkge1xuICAgICAgcmV0dXJuIHRoaXMub3BlbigpLnRoZW4oZnVuY3Rpb24gKGRiKSB7XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblxuICAgICAgICAgIHZhciBkYlRyYW5zYWN0aW9uID0gZGIudHJhbnNhY3Rpb24oc3RvcmVOYW1lLCAncmVhZHdyaXRlJyk7XG4gICAgICAgICAgdmFyIGRiU3RvcmUgPSBkYlRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHN0b3JlTmFtZSk7XG5cbiAgICAgICAgICBkYlRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgcmVzb2x2ZShlKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgZGJUcmFuc2FjdGlvbi5vbmFib3J0ID0gZGJUcmFuc2FjdGlvbi5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgZGJTdG9yZVsnZGVsZXRlJ10oa2V5KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZWxldGVBbGwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVBbGwoc3RvcmVOYW1lKSB7XG5cbiAgICAgIHJldHVybiB0aGlzLm9wZW4oKS50aGVuKGZ1bmN0aW9uIChkYikge1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cbiAgICAgICAgICB2YXIgZGJUcmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKHN0b3JlTmFtZSwgJ3JlYWR3cml0ZScpO1xuICAgICAgICAgIHZhciBkYlN0b3JlID0gZGJUcmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICAgIHZhciBkYlJlcXVlc3QgPSBkYlN0b3JlLmNsZWFyKCk7XG5cbiAgICAgICAgICBkYlJlcXVlc3Qub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHJlc29sdmUoZSk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGRiUmVxdWVzdC5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBEYXRhYmFzZTtcbn0pKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWk5VmMyVnljeTlvWlhKdFlXNTNMMFJ2WTNWdFpXNTBjeTlvWlhKdGQyOXVaeTlwYjNOVVpYTjBMM055WXk5elkzSnBjSFJ6TDJ4cFluTXZSR0YwWVdKaGMyVXVhbk1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJanM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096dHhRa0Z0UW5kQ0xHZENRVUZuUWpzN096czdPelpDUVVaT0xHbENRVUZwUWpzN096dEJRVVZ3UXl4VFFVRlRMR2RDUVVGblFpeEhRVUZKT3p0QlFVVXhReXhOUVVGSkxFOUJRVThzVFVGQlRTeERRVUZETEdsQ1FVRnBRaXhMUVVGTExGZEJRVmNzUlVGRGFrUXNUMEZCVHl4UFFVRlBMRU5CUVVNc1QwRkJUeXhEUVVGRExFMUJRVTBzUTBGQlF5eHBRa0ZCYVVJc1EwRkJReXhEUVVGRE96dEJRVVZ1UkN4UlFVRk5MRU5CUVVNc2FVSkJRV2xDTEVkQlFVY3NTVUZCU1N4UlFVRlJMRVZCUVVVc1EwRkJRenM3UVVGRk1VTXNVMEZCVHl4UFFVRlBMRU5CUVVNc1QwRkJUeXhEUVVGRExFMUJRVTBzUTBGQlF5eHBRa0ZCYVVJc1EwRkJReXhEUVVGRE8wTkJRMnhFT3p0SlFVVkxMRkZCUVZFN1FVRkZRU3hYUVVaU0xGRkJRVkVzUjBGRlJ6czdPekJDUVVaWUxGRkJRVkU3TzBGQlNWWXNjVU5CUVhWQ0xFTkJRVU1zU1VGQlNTeERRVUZGTEZWQlFVTXNZVUZCWVN4RlFVRkxPenRCUVVVdlF5eFZRVUZKTEUxQlFVMHNSMEZCUnl4aFFVRmhMRU5CUVVNc1RVRkJUU3hEUVVGRE96dEJRVVZzUXl4WlFVRkxMRWRCUVVjc1IwRkJSeXhKUVVGSkxFTkJRVU03UVVGRGFFSXNXVUZCU3l4TFFVRkxMRWRCUVVjc1RVRkJUU3hEUVVGRExFbEJRVWtzUTBGQlF6dEJRVU42UWl4WlFVRkxMRkZCUVZFc1IwRkJSeXhOUVVGTkxFTkJRVU1zVDBGQlR5eERRVUZETzBGQlF5OUNMRmxCUVVzc1QwRkJUeXhIUVVGSExFMUJRVTBzUTBGQlF5eE5RVUZOTEVOQlFVTTdTMEZGT1VJc1EwRkJReXhEUVVGRE8wZEJRMG83TzJWQlpFY3NVVUZCVVRzN1YwRm5Ra2dzYTBKQlFVTXNVMEZCVXl4RlFVRkZPenRCUVVWdVFpeFZRVUZKTEVOQlFVTXNTVUZCU1N4RFFVRkRMRTlCUVU4c1EwRkJReXhUUVVGVExFTkJRVU1zUlVGRE1VSXNUVUZCVFN3clFrRkJLMElzUjBGQlJ5eFRRVUZUTEVkQlFVY3NSMEZCUnl4RFFVRkRPenRCUVVVeFJDeGhRVUZQTEVsQlFVa3NRMEZCUXl4UFFVRlBMRU5CUVVNc1UwRkJVeXhEUVVGRExFTkJRVU03UzBGRGFFTTdPenRYUVVWSkxHZENRVUZIT3pzN1FVRkZUaXhWUVVGSkxFbEJRVWtzUTBGQlF5eEhRVUZITEVWQlExWXNUMEZCVHl4UFFVRlBMRU5CUVVNc1QwRkJUeXhEUVVGRExFbEJRVWtzUTBGQlF5eEhRVUZITEVOQlFVTXNRMEZCUXpzN1FVRkZia01zWVVGQlR5eEpRVUZKTEU5QlFVOHNRMEZCUXl4VlFVRkRMRTlCUVU4c1JVRkJSU3hOUVVGTkxFVkJRVXM3TzBGQlJYUkRMRmxCUVVrc1RVRkJUU3hIUVVGSExGTkJRVk1zUTBGQlF5eEpRVUZKTEVOQlFVTXNUMEZCU3l4TFFVRkxMRVZCUVVVc1QwRkJTeXhSUVVGUkxFTkJRVU1zUTBGQlF6czdRVUZGZGtRc1kwRkJUU3hEUVVGRExHVkJRV1VzUjBGQlJ5eFZRVUZETEVOQlFVTXNSVUZCU3pzN1FVRkZPVUlzYVVKQlFVc3NSMEZCUnl4SFFVRkhMRU5CUVVNc1EwRkJReXhOUVVGTkxFTkJRVU1zVFVGQlRTeERRVUZET3p0QlFVVXpRaXhqUVVGSkxGVkJRVlVzUjBGQlJ5eE5RVUZOTEVOQlFVTXNTVUZCU1N4RFFVRkRMRTlCUVVzc1QwRkJUeXhEUVVGRExFTkJRVU03UVVGRE0wTXNZMEZCU1N4VFFVRlRMRU5CUVVNN08wRkJSV1FzWlVGQlN5eEpRVUZKTEVOQlFVTXNSMEZCUnl4RFFVRkRMRVZCUVVVc1EwRkJReXhIUVVGSExGVkJRVlVzUTBGQlF5eE5RVUZOTEVWQlFVVXNRMEZCUXl4RlFVRkZMRVZCUVVVN08wRkJSVEZETEhGQ1FVRlRMRWRCUVVjc1ZVRkJWU3hEUVVGRExFTkJRVU1zUTBGQlF5eERRVUZET3pzN1FVRkhNVUlzWjBKQlFVa3NUMEZCU3l4SFFVRkhMRU5CUVVNc1owSkJRV2RDTEVOQlFVTXNVVUZCVVN4RFFVRkRMRk5CUVZNc1EwRkJReXhGUVVGRk96czdPMEZCU1dwRUxHdENRVUZKTEU5QlFVc3NUMEZCVHl4RFFVRkRMRk5CUVZNc1EwRkJReXhEUVVGRExHVkJRV1VzUlVGRGVrTXNUMEZCU3l4SFFVRkhMRU5CUVVNc2FVSkJRV2xDTEVOQlFVTXNVMEZCVXl4RFFVRkRMRU5CUVVNc1MwRkZkRU1zVTBGQlV6dGhRVU5hT3p0QlFVVkVMR2RDUVVGSkxFOUJRVThzUjBGQlJ5eFBRVUZMTEVkQlFVY3NRMEZCUXl4cFFrRkJhVUlzUTBGRGRFTXNVMEZCVXl4RlFVTlVMRTlCUVVzc1QwRkJUeXhEUVVGRExGTkJRVk1zUTBGQlF5eERRVUZETEZWQlFWVXNRMEZEYmtNc1EwRkJRenM3UVVGRlJpeG5Ra0ZCU1N4UFFVRlBMRTlCUVVzc1QwRkJUeXhEUVVGRExGTkJRVk1zUTBGQlF5eERRVUZETEU5QlFVOHNTMEZCU3l4WFFVRlhMRVZCUVVVN1FVRkRNVVFzYTBKQlFVa3NUMEZCVHl4SFFVRkhMRTlCUVVzc1QwRkJUeXhEUVVGRExGTkJRVk1zUTBGQlF5eERRVUZETEU5QlFVOHNRMEZCUXp0QlFVTTVReXhyUWtGQlNTeFZRVUZWTEVkQlFVY3NUVUZCVFN4RFFVRkRMRWxCUVVrc1EwRkJReXhQUVVGUExFTkJRVU1zUTBGQlF6dEJRVU4wUXl4clFrRkJTU3hMUVVGTExFTkJRVU03TzBGQlJWWXNiVUpCUVVzc1NVRkJTU3hEUVVGRExFZEJRVWNzUTBGQlF5eEZRVUZGTEVOQlFVTXNSMEZCUnl4VlFVRlZMRU5CUVVNc1RVRkJUU3hGUVVGRkxFTkJRVU1zUlVGQlJTeEZRVUZGTzBGQlF6RkRMSEZDUVVGTExFZEJRVWNzVlVGQlZTeERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRPMEZCUTNSQ0xIVkNRVUZQTEVOQlFVTXNWMEZCVnl4RFFVRkRMRXRCUVVzc1JVRkJSU3hMUVVGTExFVkJRVVVzVDBGQlR5eERRVUZETEV0QlFVc3NRMEZCUXl4RFFVRkRMRU5CUVVNN1pVRkRia1E3WVVGRFJqdFhRVU5HTzFOQlEwWXNRMEZCUVRzN1FVRkZSQ3hqUVVGTkxFTkJRVU1zVTBGQlV5eEhRVUZITEZWQlFVTXNRMEZCUXl4RlFVRkxPMEZCUTNoQ0xHbENRVUZMTEVkQlFVY3NSMEZCUnl4RFFVRkRMRU5CUVVNc1RVRkJUU3hEUVVGRExFMUJRVTBzUTBGQlF6dEJRVU16UWl4cFFrRkJUeXhEUVVGRExFOUJRVXNzUjBGQlJ5eERRVUZETEVOQlFVTTdVMEZEYmtJc1EwRkJRVHM3UVVGRlJDeGpRVUZOTEVOQlFVTXNUMEZCVHl4SFFVRkhMRlZCUVVNc1EwRkJReXhGUVVGTE8wRkJRM1JDTEdkQ1FVRk5MRU5CUVVNc1EwRkJReXhEUVVGRExFTkJRVU03VTBGRFdDeERRVUZETzA5QlJVZ3NRMEZCUXl4RFFVRkRPMHRCUTBvN096dFhRVVZMTEdsQ1FVRkhPenM3UVVGRlVDeGhRVUZQTEVsQlFVa3NUMEZCVHl4RFFVRkRMRlZCUVVNc1QwRkJUeXhGUVVGRkxFMUJRVTBzUlVGQlN6czdRVUZGZEVNc1dVRkJTU3hEUVVGRExFOUJRVXNzUjBGQlJ5eEZRVU5ZTEUxQlFVMHNRMEZCUXl4M1FrRkJkMElzUTBGQlF5eERRVUZET3p0QlFVVnVReXhsUVVGTExFZEJRVWNzUTBGQlF5eExRVUZMTEVWQlFVVXNRMEZCUXp0QlFVTnFRaXhsUVVGUExFTkJRVU1zVDBGQlN5eEhRVUZITEVOQlFVTXNRMEZCUXp0UFFVVnVRaXhEUVVGRExFTkJRVU03UzBGRFNqczdPMWRCUlVrc1owSkJRVWM3T3p0QlFVTk9MR0ZCUVU4c1NVRkJTU3hQUVVGUExFTkJRVU1zVlVGQlF5eFBRVUZQTEVWQlFVVXNUVUZCVFN4RlFVRkxPenRCUVVWMFF5eGxRVUZQTEVOQlFVTXNSMEZCUnl4RFFVRkRMRmxCUVZrc1IwRkJSeXhQUVVGTExFdEJRVXNzUTBGQlF5eERRVUZET3p0QlFVVjJReXhsUVVGTExFdEJRVXNzUlVGQlJTeERRVUZET3p0QlFVVmlMRmxCUVVrc1lVRkJZU3hIUVVGSExGTkJRVk1zUTBGQlF5eGpRVUZqTEVOQlFVTXNUMEZCU3l4TFFVRkxMRU5CUVVNc1EwRkJRenRCUVVONlJDeHhRa0ZCWVN4RFFVRkRMRk5CUVZNc1IwRkJSeXhWUVVGRExFTkJRVU1zUlVGQlN6dEJRVU12UWl4cFFrRkJUeXhEUVVGRExFZEJRVWNzUTBGQlF5eFZRVUZWTEVOQlFVTXNRMEZCUXp0QlFVTjRRaXhwUWtGQlR5eERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRPMU5CUTFvc1EwRkJRVHM3UVVGRlJDeHhRa0ZCWVN4RFFVRkRMRTlCUVU4c1IwRkJSeXhWUVVGRExFTkJRVU1zUlVGQlN6dEJRVU0zUWl4blFrRkJUU3hEUVVGRExFTkJRVU1zUTBGQlF5eERRVUZETzFOQlExZ3NRMEZCUVR0UFFVTkdMRU5CUVVNc1EwRkJRenRMUVVOS096czdWMEZGUnl4aFFVRkRMRk5CUVZNc1JVRkJSU3hMUVVGTExFVkJRVVVzUjBGQlJ5eEZRVUZGT3p0QlFVVXhRaXhoUVVGUExFbEJRVWtzUTBGQlF5eEpRVUZKTEVWQlFVVXNRMEZCUXl4SlFVRkpMRU5CUVVNc1ZVRkJReXhGUVVGRkxFVkJRVXM3TzBGQlJUbENMR1ZCUVU4c1NVRkJTU3hQUVVGUExFTkJRVU1zVlVGQlF5eFBRVUZQTEVWQlFVVXNUVUZCVFN4RlFVRkxPenRCUVVWMFF5eGpRVUZKTEdGQlFXRXNSMEZCUnl4RlFVRkZMRU5CUVVNc1YwRkJWeXhEUVVGRExGTkJRVk1zUlVGQlJTeFhRVUZYTEVOQlFVTXNRMEZCUXp0QlFVTXpSQ3hqUVVGSkxFOUJRVThzUjBGQlJ5eGhRVUZoTEVOQlFVTXNWMEZCVnl4RFFVRkRMRk5CUVZNc1EwRkJReXhEUVVGRE8wRkJRMjVFTEdOQlFVa3NVMEZCVXl4SFFVRkhMRTlCUVU4c1EwRkJReXhIUVVGSExFTkJRVU1zUzBGQlN5eEZRVUZGTEVkQlFVY3NRMEZCUXl4RFFVRkRPenRCUVVWNFF5eDFRa0ZCWVN4RFFVRkRMRlZCUVZVc1IwRkJSeXhWUVVGRExFTkJRVU1zUlVGQlN6dEJRVU5vUXl4dFFrRkJUeXhEUVVGRExGTkJRVk1zUTBGQlF5eE5RVUZOTEVOQlFVTXNRMEZCUXp0WFFVTXpRaXhEUVVGQk96dEJRVVZFTEhWQ1FVRmhMRU5CUVVNc1QwRkJUeXhIUVVOeVFpeGhRVUZoTEVOQlFVTXNUMEZCVHl4SFFVRkhMRlZCUVVNc1EwRkJReXhGUVVGTE8wRkJRemRDTEd0Q1FVRk5MRU5CUVVNc1EwRkJReXhEUVVGRExFTkJRVU03VjBGRFdDeERRVUZCTzFOQlJVWXNRMEZCUXl4RFFVRkRPMDlCUlVvc1EwRkJReXhEUVVGRE8wdEJSVW83T3p0WFFVVkhMR0ZCUVVNc1UwRkJVeXhGUVVGRkxFdEJRVXNzUlVGQlJUczdRVUZGY2tJc1lVRkJUeXhKUVVGSkxFTkJRVU1zU1VGQlNTeEZRVUZGTEVOQlFVTXNTVUZCU1N4RFFVRkRMRlZCUVVNc1JVRkJSU3hGUVVGTE96dEJRVVU1UWl4bFFVRlBMRWxCUVVrc1QwRkJUeXhEUVVGRExGVkJRVU1zVDBGQlR5eEZRVUZGTEUxQlFVMHNSVUZCU3pzN1FVRkZkRU1zWTBGQlNTeGhRVUZoTEVkQlFVY3NSVUZCUlN4RFFVRkRMRmRCUVZjc1EwRkJReXhUUVVGVExFVkJRVVVzVlVGQlZTeERRVUZETEVOQlFVTTdRVUZETVVRc1kwRkJTU3hQUVVGUExFZEJRVWNzWVVGQllTeERRVUZETEZkQlFWY3NRMEZCUXl4VFFVRlRMRU5CUVVNc1EwRkJRenRCUVVOdVJDeGpRVUZKTEdOQlFXTXNRMEZCUXpzN1FVRkZia0lzZFVKQlFXRXNRMEZCUXl4VlFVRlZMRWRCUVVjc1ZVRkJReXhEUVVGRExFVkJRVXM3UVVGRGFFTXNiVUpCUVU4c1EwRkJReXhqUVVGakxFTkJRVU1zVFVGQlRTeERRVUZETEVOQlFVTTdWMEZEYUVNc1EwRkJRVHM3UVVGRlJDeDFRa0ZCWVN4RFFVRkRMRTlCUVU4c1IwRkRja0lzWVVGQllTeERRVUZETEU5QlFVOHNSMEZCUnl4VlFVRkRMRU5CUVVNc1JVRkJTenRCUVVNM1FpeHJRa0ZCVFN4RFFVRkRMRU5CUVVNc1EwRkJReXhEUVVGRE8xZEJRMWdzUTBGQlFUczdRVUZGUkN4M1FrRkJZeXhIUVVGSExFOUJRVThzUTBGQlF5eEhRVUZITEVOQlFVTXNTMEZCU3l4RFFVRkRMRU5CUVVNN1UwRkZja01zUTBGQlF5eERRVUZETzA5QlJVb3NRMEZCUXl4RFFVRkRPMHRCUlVvN096dFhRVVZOTEdkQ1FVRkRMRk5CUVZNc1JVRkJSU3hMUVVGTExFVkJRVVVzUzBGQlN5eEZRVUZGT3p0QlFVVXZRaXhoUVVGUExFbEJRVWtzUTBGQlF5eEpRVUZKTEVWQlFVVXNRMEZCUXl4SlFVRkpMRU5CUVVNc1ZVRkJReXhGUVVGRkxFVkJRVXM3TzBGQlJUbENMR1ZCUVU4c1NVRkJTU3hQUVVGUExFTkJRVU1zVlVGQlF5eFBRVUZQTEVWQlFVVXNUVUZCVFN4RlFVRkxPenRCUVVWMFF5eGpRVUZKTEdGQlFXRXNSMEZCUnl4RlFVRkZMRU5CUVVNc1YwRkJWeXhEUVVGRExGTkJRVk1zUlVGQlJTeFZRVUZWTEVOQlFVTXNRMEZCUXp0QlFVTXhSQ3hqUVVGSkxFOUJRVThzUjBGQlJ5eGhRVUZoTEVOQlFVTXNWMEZCVnl4RFFVRkRMRk5CUVZNc1EwRkJReXhEUVVGRE8wRkJRMjVFTEdOQlFVa3NVVUZCVVN4RFFVRkRPenRCUVVWaUxHTkJRVWtzVDBGQlR5eExRVUZMTEV0QlFVc3NVVUZCVVN4RlFVTXpRaXhMUVVGTExFZEJRVWNzVFVGQlRTeERRVUZET3p0QlFVVnFRaXhqUVVGSkxFOUJRVThzUzBGQlN5eExRVUZMTEZGQlFWRXNSVUZETTBJc1VVRkJVU3hIUVVGSExFOUJRVThzUTBGQlF5eExRVUZMTEVOQlFVTXNTMEZCU3l4RFFVRkRMRU5CUVVNc1ZVRkJWU3hEUVVGRExFbEJRVWtzUlVGQlJTeExRVUZMTEVOQlFVTXNRMEZCUXl4TFFVVjRSQ3hSUVVGUkxFZEJRVWNzVDBGQlR5eERRVUZETEZWQlFWVXNSVUZCUlN4RFFVRkRPenRCUVVWc1F5eGpRVUZKTEZOQlFWTXNSMEZCUnl4RlFVRkZMRU5CUVVNN08wRkJSVzVDTEd0Q1FVRlJMRU5CUVVNc1UwRkJVeXhIUVVGSExGVkJRVU1zUTBGQlF5eEZRVUZMTzBGQlF6RkNMR2RDUVVGSkxFMUJRVTBzUjBGQlJ5eERRVUZETEVOQlFVTXNUVUZCVFN4RFFVRkRMRTFCUVUwc1EwRkJRenM3UVVGRk4wSXNaMEpCUVVrc1RVRkJUU3hGUVVGRk8wRkJRMVlzZFVKQlFWTXNRMEZCUXl4SlFVRkpMRU5CUVVNN1FVRkRZaXh0UWtGQlJ5eEZRVUZGTEUxQlFVMHNRMEZCUXl4SFFVRkhPMEZCUTJZc2NVSkJRVXNzUlVGQlJTeE5RVUZOTEVOQlFVTXNTMEZCU3p0bFFVTndRaXhEUVVGRExFTkJRVU03UVVGRFNDeHZRa0ZCVFN4WlFVRlRMRVZCUVVVc1EwRkJRenRoUVVOdVFpeE5RVUZOTzBGQlEwd3NjVUpCUVU4c1EwRkJReXhUUVVGVExFTkJRVU1zUTBGQlF6dGhRVU53UWp0WFFVTkdMRU5CUVVFN08wRkJSVVFzYTBKQlFWRXNRMEZCUXl4UFFVRlBMRWRCUVVjc1ZVRkJReXhEUVVGRExFVkJRVXM3UVVGRGVFSXNhMEpCUVUwc1EwRkJReXhEUVVGRExFTkJRVU1zUTBGQlF6dFhRVU5ZTEVOQlFVRTdVMEZGUml4RFFVRkRMRU5CUVVNN1QwRkZTaXhEUVVGRExFTkJRVU03UzBGRFNqczdPMWRCUlUwc2FVSkJRVU1zVTBGQlV5eEZRVUZGTEVkQlFVY3NSVUZCUlR0QlFVTjBRaXhoUVVGUExFbEJRVWtzUTBGQlF5eEpRVUZKTEVWQlFVVXNRMEZCUXl4SlFVRkpMRU5CUVVNc1ZVRkJReXhGUVVGRkxFVkJRVXM3TzBGQlJUbENMR1ZCUVU4c1NVRkJTU3hQUVVGUExFTkJRVU1zVlVGQlF5eFBRVUZQTEVWQlFVVXNUVUZCVFN4RlFVRkxPenRCUVVWMFF5eGpRVUZKTEdGQlFXRXNSMEZCUnl4RlFVRkZMRU5CUVVNc1YwRkJWeXhEUVVGRExGTkJRVk1zUlVGQlJTeFhRVUZYTEVOQlFVTXNRMEZCUXp0QlFVTXpSQ3hqUVVGSkxFOUJRVThzUjBGQlJ5eGhRVUZoTEVOQlFVTXNWMEZCVnl4RFFVRkRMRk5CUVZNc1EwRkJReXhEUVVGRE96dEJRVVZ1UkN4MVFrRkJZU3hEUVVGRExGVkJRVlVzUjBGQlJ5eFZRVUZETEVOQlFVTXNSVUZCU3p0QlFVTm9ReXh0UWtGQlR5eERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRPMWRCUTFvc1EwRkJRVHM3UVVGRlJDeDFRa0ZCWVN4RFFVRkRMRTlCUVU4c1IwRkRja0lzWVVGQllTeERRVUZETEU5QlFVOHNSMEZCUnl4VlFVRkRMRU5CUVVNc1JVRkJTenRCUVVNM1FpeHJRa0ZCVFN4RFFVRkRMRU5CUVVNc1EwRkJReXhEUVVGRE8xZEJRMWdzUTBGQlFUczdRVUZGUkN4cFFrRkJUeXhWUVVGUExFTkJRVU1zUjBGQlJ5eERRVUZETEVOQlFVTTdVMEZGY2tJc1EwRkJReXhEUVVGRE8wOUJRMG9zUTBGQlF5eERRVUZETzB0QlEwbzdPenRYUVVWVExHMUNRVUZETEZOQlFWTXNSVUZCUlRzN1FVRkZjRUlzWVVGQlR5eEpRVUZKTEVOQlFVTXNTVUZCU1N4RlFVRkZMRU5CUVVNc1NVRkJTU3hEUVVGRExGVkJRVU1zUlVGQlJTeEZRVUZMT3p0QlFVVTVRaXhsUVVGUExFbEJRVWtzVDBGQlR5eERRVUZETEZWQlFVTXNUMEZCVHl4RlFVRkZMRTFCUVUwc1JVRkJTenM3UVVGRmRFTXNZMEZCU1N4aFFVRmhMRWRCUVVjc1JVRkJSU3hEUVVGRExGZEJRVmNzUTBGQlF5eFRRVUZUTEVWQlFVVXNWMEZCVnl4RFFVRkRMRU5CUVVNN1FVRkRNMFFzWTBGQlNTeFBRVUZQTEVkQlFVY3NZVUZCWVN4RFFVRkRMRmRCUVZjc1EwRkJReXhUUVVGVExFTkJRVU1zUTBGQlF6dEJRVU51UkN4alFVRkpMRk5CUVZNc1IwRkJSeXhQUVVGUExFTkJRVU1zUzBGQlN5eEZRVUZGTEVOQlFVTTdPMEZCUldoRExHMUNRVUZUTEVOQlFVTXNVMEZCVXl4SFFVRkhMRlZCUVVNc1EwRkJReXhGUVVGTE8wRkJRek5DTEcxQ1FVRlBMRU5CUVVNc1EwRkJReXhEUVVGRExFTkJRVU03VjBGRFdpeERRVUZCT3p0QlFVVkVMRzFDUVVGVExFTkJRVU1zVDBGQlR5eEhRVUZITEZWQlFVTXNRMEZCUXl4RlFVRkxPMEZCUTNwQ0xHdENRVUZOTEVOQlFVTXNRMEZCUXl4RFFVRkRMRU5CUVVNN1YwRkRXQ3hEUVVGQk8xTkJSVVlzUTBGQlF5eERRVUZETzA5QlJVb3NRMEZCUXl4RFFVRkRPMHRCUTBvN096dFRRV2hSUnl4UlFVRlJJaXdpWm1sc1pTSTZJaTlWYzJWeWN5OW9aWEp0WVc1M0wwUnZZM1Z0Wlc1MGN5OW9aWEp0ZDI5dVp5OXBiM05VWlhOMEwzTnlZeTl6WTNKcGNIUnpMMnhwWW5NdlJHRjBZV0poYzJVdWFuTWlMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXeUl2S2lwY2JpQXFJRU52Y0hseWFXZG9kQ0F5TURFMUlFZHZiMmRzWlNCSmJtTXVJRUZzYkNCeWFXZG9kSE1nY21WelpYSjJaV1F1WEc0Z0tseHVJQ29nVEdsalpXNXpaV1FnZFc1a1pYSWdkR2hsSUVGd1lXTm9aU0JNYVdObGJuTmxMQ0JXWlhKemFXOXVJREl1TUNBb2RHaGxJRndpVEdsalpXNXpaVndpS1R0Y2JpQXFJSGx2ZFNCdFlYa2dibTkwSUhWelpTQjBhR2x6SUdacGJHVWdaWGhqWlhCMElHbHVJR052YlhCc2FXRnVZMlVnZDJsMGFDQjBhR1VnVEdsalpXNXpaUzVjYmlBcUlGbHZkU0J0WVhrZ2IySjBZV2x1SUdFZ1kyOXdlU0J2WmlCMGFHVWdUR2xqWlc1elpTQmhkRnh1SUNwY2JpQXFJQ0FnSUNCb2RIUndPaTh2ZDNkM0xtRndZV05vWlM1dmNtY3ZiR2xqWlc1elpYTXZURWxEUlU1VFJTMHlMakJjYmlBcVhHNGdLaUJWYm14bGMzTWdjbVZ4ZFdseVpXUWdZbmtnWVhCd2JHbGpZV0pzWlNCc1lYY2diM0lnWVdkeVpXVmtJSFJ2SUdsdUlIZHlhWFJwYm1jc0lITnZablIzWVhKbFhHNGdLaUJrYVhOMGNtbGlkWFJsWkNCMWJtUmxjaUIwYUdVZ1RHbGpaVzV6WlNCcGN5QmthWE4wY21saWRYUmxaQ0J2YmlCaGJpQmNJa0ZUSUVsVFhDSWdRa0ZUU1ZNc1hHNGdLaUJYU1ZSSVQxVlVJRmRCVWxKQlRsUkpSVk1nVDFJZ1EwOU9SRWxVU1U5T1V5QlBSaUJCVGxrZ1MwbE9SQ3dnWldsMGFHVnlJR1Y0Y0hKbGMzTWdiM0lnYVcxd2JHbGxaQzVjYmlBcUlGTmxaU0IwYUdVZ1RHbGpaVzV6WlNCbWIzSWdkR2hsSUhOd1pXTnBabWxqSUd4aGJtZDFZV2RsSUdkdmRtVnlibWx1WnlCd1pYSnRhWE56YVc5dWN5QmhibVJjYmlBcUlHeHBiV2wwWVhScGIyNXpJSFZ1WkdWeUlIUm9aU0JNYVdObGJuTmxMbHh1SUNwY2JpQXFMMXh1WEc1cGJYQnZjblFnUTI5dVptbG5UV0Z1WVdkbGNrbHVjM1JoYm1ObElHWnliMjBnSnk0dlEyOXVabWxuVFdGdVlXZGxjaWM3WEc1Y2JtVjRjRzl5ZENCa1pXWmhkV3gwSUdaMWJtTjBhVzl1SUVSaGRHRmlZWE5sU1c1emRHRnVZMlVnS0NrZ2UxeHVYRzRnSUdsbUlDaDBlWEJsYjJZZ2QybHVaRzkzTGtSaGRHRmlZWE5sU1c1emRHRnVZMlZmSUNFOVBTQW5kVzVrWldacGJtVmtKeWxjYmlBZ0lDQnlaWFIxY200Z1VISnZiV2x6WlM1eVpYTnZiSFpsS0hkcGJtUnZkeTVFWVhSaFltRnpaVWx1YzNSaGJtTmxYeWs3WEc1Y2JpQWdkMmx1Wkc5M0xrUmhkR0ZpWVhObFNXNXpkR0Z1WTJWZklEMGdibVYzSUVSaGRHRmlZWE5sS0NrN1hHNWNiaUFnY21WMGRYSnVJRkJ5YjIxcGMyVXVjbVZ6YjJ4MlpTaDNhVzVrYjNjdVJHRjBZV0poYzJWSmJuTjBZVzVqWlY4cE8xeHVmVnh1WEc1amJHRnpjeUJFWVhSaFltRnpaU0I3WEc1Y2JpQWdZMjl1YzNSeWRXTjBiM0lnS0NrZ2UxeHVYRzRnSUNBZ1EyOXVabWxuVFdGdVlXZGxja2x1YzNSaGJtTmxLQ2t1ZEdobGJpZ2dLR052Ym1acFowMWhibUZuWlhJcElEMCtJSHRjYmx4dUlDQWdJQ0FnZG1GeUlHTnZibVpwWnlBOUlHTnZibVpwWjAxaGJtRm5aWEl1WTI5dVptbG5PMXh1WEc0Z0lDQWdJQ0IwYUdsekxtUmlYeUE5SUc1MWJHdzdYRzRnSUNBZ0lDQjBhR2x6TG01aGJXVmZJRDBnWTI5dVptbG5MbTVoYldVN1hHNGdJQ0FnSUNCMGFHbHpMblpsY25OcGIyNWZJRDBnWTI5dVptbG5MblpsY25OcGIyNDdYRzRnSUNBZ0lDQjBhR2x6TG5OMGIzSmxjMThnUFNCamIyNW1hV2N1YzNSdmNtVnpPMXh1WEc0Z0lDQWdmU2s3WEc0Z0lIMWNibHh1SUNCblpYUlRkRzl5WlNBb2MzUnZjbVZPWVcxbEtTQjdYRzVjYmlBZ0lDQnBaaUFvSVhSb2FYTXVjM1J2Y21WelgxdHpkRzl5WlU1aGJXVmRLVnh1SUNBZ0lDQWdkR2h5YjNjZ0oxUm9aWEpsSUdseklHNXZJSE4wYjNKbElIZHBkR2dnYm1GdFpTQmNJaWNnS3lCemRHOXlaVTVoYldVZ0t5QW5YQ0luTzF4dVhHNGdJQ0FnY21WMGRYSnVJSFJvYVhNdWMzUnZjbVZ6WDF0emRHOXlaVTVoYldWZE8xeHVJQ0I5WEc1Y2JpQWdiM0JsYmlBb0tTQjdYRzVjYmlBZ0lDQnBaaUFvZEdocGN5NWtZbDhwWEc0Z0lDQWdJQ0J5WlhSMWNtNGdVSEp2YldselpTNXlaWE52YkhabEtIUm9hWE11WkdKZktUdGNibHh1SUNBZ0lISmxkSFZ5YmlCdVpYY2dVSEp2YldselpTZ29jbVZ6YjJ4MlpTd2djbVZxWldOMEtTQTlQaUI3WEc1Y2JpQWdJQ0FnSUhaaGNpQmtZazl3Wlc0Z1BTQnBibVJsZUdWa1JFSXViM0JsYmloMGFHbHpMbTVoYldWZkxDQjBhR2x6TG5abGNuTnBiMjVmS1R0Y2JseHVJQ0FnSUNBZ1pHSlBjR1Z1TG05dWRYQm5jbUZrWlc1bFpXUmxaQ0E5SUNobEtTQTlQaUI3WEc1Y2JpQWdJQ0FnSUNBZ2RHaHBjeTVrWWw4Z1BTQmxMblJoY21kbGRDNXlaWE4xYkhRN1hHNWNiaUFnSUNBZ0lDQWdkbUZ5SUhOMGIzSmxUbUZ0WlhNZ1BTQlBZbXBsWTNRdWEyVjVjeWgwYUdsekxuTjBiM0psYzE4cE8xeHVJQ0FnSUNBZ0lDQjJZWElnYzNSdmNtVk9ZVzFsTzF4dVhHNGdJQ0FnSUNBZ0lHWnZjaUFvZG1GeUlITWdQU0F3T3lCeklEd2djM1J2Y21WT1lXMWxjeTVzWlc1bmRHZzdJSE1yS3lrZ2UxeHVYRzRnSUNBZ0lDQWdJQ0FnYzNSdmNtVk9ZVzFsSUQwZ2MzUnZjbVZPWVcxbGMxdHpYVHRjYmx4dUlDQWdJQ0FnSUNBZ0lDOHZJRWxtSUhSb1pTQnpkRzl5WlNCaGJISmxZV1I1SUdWNGFYTjBjMXh1SUNBZ0lDQWdJQ0FnSUdsbUlDaDBhR2x6TG1SaVh5NXZZbXBsWTNSVGRHOXlaVTVoYldWekxtTnZiblJoYVc1ektITjBiM0psVG1GdFpTa3BJSHRjYmx4dUlDQWdJQ0FnSUNBZ0lDQWdMeThnUTJobFkyc2dkRzhnYzJWbElHbG1JSFJvWlNCemRHOXlaU0J6YUc5MWJHUWdZbVVnWkdWc1pYUmxaQzVjYmlBZ0lDQWdJQ0FnSUNBZ0lDOHZJRWxtSUhOdklHUmxiR1YwWlN3Z1lXNWtJR2xtSUc1dmRDQnphMmx3SUhSdklIUm9aU0J1WlhoMElITjBiM0psTGx4dUlDQWdJQ0FnSUNBZ0lDQWdhV1lnS0hSb2FYTXVjM1J2Y21WelgxdHpkRzl5WlU1aGJXVmRMbVJsYkdWMFpVOXVWWEJuY21Ga1pTbGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ2RHaHBjeTVrWWw4dVpHVnNaWFJsVDJKcVpXTjBVM1J2Y21Vb2MzUnZjbVZPWVcxbEtUdGNiaUFnSUNBZ0lDQWdJQ0FnSUdWc2MyVmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ1kyOXVkR2x1ZFdVN1hHNGdJQ0FnSUNBZ0lDQWdmVnh1WEc0Z0lDQWdJQ0FnSUNBZ2RtRnlJR1JpVTNSdmNtVWdQU0IwYUdsekxtUmlYeTVqY21WaGRHVlBZbXBsWTNSVGRHOXlaU2hjYmlBZ0lDQWdJQ0FnSUNBZ0lITjBiM0psVG1GdFpTeGNiaUFnSUNBZ0lDQWdJQ0FnSUhSb2FYTXVjM1J2Y21WelgxdHpkRzl5WlU1aGJXVmRMbkJ5YjNCbGNuUnBaWE5jYmlBZ0lDQWdJQ0FnSUNBcE8xeHVYRzRnSUNBZ0lDQWdJQ0FnYVdZZ0tIUjVjR1Z2WmlCMGFHbHpMbk4wYjNKbGMxOWJjM1J2Y21WT1lXMWxYUzVwYm1SbGVHVnpJQ0U5UFNBbmRXNWtaV1pwYm1Wa0p5a2dlMXh1SUNBZ0lDQWdJQ0FnSUNBZ2RtRnlJR2x1WkdWNFpYTWdQU0IwYUdsekxuTjBiM0psYzE5YmMzUnZjbVZPWVcxbFhTNXBibVJsZUdWek8xeHVJQ0FnSUNBZ0lDQWdJQ0FnZG1GeUlHbHVaR1Y0VG1GdFpYTWdQU0JQWW1wbFkzUXVhMlY1Y3locGJtUmxlR1Z6S1R0Y2JpQWdJQ0FnSUNBZ0lDQWdJSFpoY2lCcGJtUmxlRHRjYmx4dUlDQWdJQ0FnSUNBZ0lDQWdabTl5SUNoMllYSWdhU0E5SURBN0lHa2dQQ0JwYm1SbGVFNWhiV1Z6TG14bGJtZDBhRHNnYVNzcktTQjdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lHbHVaR1Y0SUQwZ2FXNWtaWGhPWVcxbGMxdHBYVHRjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdaR0pUZEc5eVpTNWpjbVZoZEdWSmJtUmxlQ2hwYm1SbGVDd2dhVzVrWlhnc0lHbHVaR1Y0WlhOYmFXNWtaWGhkS1R0Y2JpQWdJQ0FnSUNBZ0lDQWdJSDFjYmlBZ0lDQWdJQ0FnSUNCOVhHNGdJQ0FnSUNBZ0lIMWNiaUFnSUNBZ0lIMWNibHh1SUNBZ0lDQWdaR0pQY0dWdUxtOXVjM1ZqWTJWemN5QTlJQ2hsS1NBOVBpQjdYRzRnSUNBZ0lDQWdJSFJvYVhNdVpHSmZJRDBnWlM1MFlYSm5aWFF1Y21WemRXeDBPMXh1SUNBZ0lDQWdJQ0J5WlhOdmJIWmxLSFJvYVhNdVpHSmZLVHRjYmlBZ0lDQWdJSDFjYmx4dUlDQWdJQ0FnWkdKUGNHVnVMbTl1WlhKeWIzSWdQU0FvWlNrZ1BUNGdlMXh1SUNBZ0lDQWdJQ0J5WldwbFkzUW9aU2s3WEc0Z0lDQWdJQ0I5TzF4dVhHNGdJQ0FnZlNrN1hHNGdJSDFjYmx4dUlDQmpiRzl6WlNBb0tTQjdYRzVjYmlBZ0lDQnlaWFIxY200Z2JtVjNJRkJ5YjIxcGMyVW9LSEpsYzI5c2RtVXNJSEpsYW1WamRDa2dQVDRnZTF4dVhHNGdJQ0FnSUNCcFppQW9JWFJvYVhNdVpHSmZLVnh1SUNBZ0lDQWdJQ0J5WldwbFkzUW9KMDV2SUdSaGRHRmlZWE5sSUdOdmJtNWxZM1JwYjI0bktUdGNibHh1SUNBZ0lDQWdkR2hwY3k1a1lsOHVZMnh2YzJVb0tUdGNiaUFnSUNBZ0lISmxjMjlzZG1Vb2RHaHBjeTVrWWw4cE8xeHVYRzRnSUNBZ2ZTazdYRzRnSUgxY2JseHVJQ0J1ZFd0bElDZ3BJSHRjYmlBZ0lDQnlaWFIxY200Z2JtVjNJRkJ5YjIxcGMyVW9LSEpsYzI5c2RtVXNJSEpsYW1WamRDa2dQVDRnZTF4dVhHNGdJQ0FnSUNCamIyNXpiMnhsTG14dlp5aGNJazUxYTJsdVp5NHVMaUJjSWlBcklIUm9hWE11Ym1GdFpWOHBPMXh1WEc0Z0lDQWdJQ0IwYUdsekxtTnNiM05sS0NrN1hHNWNiaUFnSUNBZ0lIWmhjaUJrWWxSeVlXNXpZV04wYVc5dUlEMGdhVzVrWlhobFpFUkNMbVJsYkdWMFpVUmhkR0ZpWVhObEtIUm9hWE11Ym1GdFpWOHBPMXh1SUNBZ0lDQWdaR0pVY21GdWMyRmpkR2x2Ymk1dmJuTjFZMk5sYzNNZ1BTQW9aU2tnUFQ0Z2UxeHVJQ0FnSUNBZ0lDQmpiMjV6YjJ4bExteHZaeWhjSWs1MWEyVmtMaTR1WENJcE8xeHVJQ0FnSUNBZ0lDQnlaWE52YkhabEtHVXBPMXh1SUNBZ0lDQWdmVnh1WEc0Z0lDQWdJQ0JrWWxSeVlXNXpZV04wYVc5dUxtOXVaWEp5YjNJZ1BTQW9aU2tnUFQ0Z2UxeHVJQ0FnSUNBZ0lDQnlaV3BsWTNRb1pTazdYRzRnSUNBZ0lDQjlYRzRnSUNBZ2ZTazdYRzRnSUgxY2JseHVJQ0J3ZFhRZ0tITjBiM0psVG1GdFpTd2dkbUZzZFdVc0lHdGxlU2tnZTF4dVhHNGdJQ0FnY21WMGRYSnVJSFJvYVhNdWIzQmxiaWdwTG5Sb1pXNG9LR1JpS1NBOVBpQjdYRzVjYmlBZ0lDQWdJSEpsZEhWeWJpQnVaWGNnVUhKdmJXbHpaU2dvY21WemIyeDJaU3dnY21WcVpXTjBLU0E5UGlCN1hHNWNiaUFnSUNBZ0lDQWdkbUZ5SUdSaVZISmhibk5oWTNScGIyNGdQU0JrWWk1MGNtRnVjMkZqZEdsdmJpaHpkRzl5WlU1aGJXVXNJQ2R5WldGa2QzSnBkR1VuS1R0Y2JpQWdJQ0FnSUNBZ2RtRnlJR1JpVTNSdmNtVWdQU0JrWWxSeVlXNXpZV04wYVc5dUxtOWlhbVZqZEZOMGIzSmxLSE4wYjNKbFRtRnRaU2s3WEc0Z0lDQWdJQ0FnSUhaaGNpQmtZbEpsY1hWbGMzUWdQU0JrWWxOMGIzSmxMbkIxZENoMllXeDFaU3dnYTJWNUtUdGNibHh1SUNBZ0lDQWdJQ0JrWWxSeVlXNXpZV04wYVc5dUxtOXVZMjl0Y0d4bGRHVWdQU0FvWlNrZ1BUNGdlMXh1SUNBZ0lDQWdJQ0FnSUhKbGMyOXNkbVVvWkdKU1pYRjFaWE4wTG5KbGMzVnNkQ2s3WEc0Z0lDQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ0lDQmtZbFJ5WVc1ellXTjBhVzl1TG05dVlXSnZjblFnUFZ4dUlDQWdJQ0FnSUNCa1lsUnlZVzV6WVdOMGFXOXVMbTl1WlhKeWIzSWdQU0FvWlNrZ1BUNGdlMXh1SUNBZ0lDQWdJQ0FnSUhKbGFtVmpkQ2hsS1R0Y2JpQWdJQ0FnSUNBZ2ZWeHVYRzRnSUNBZ0lDQjlLVHRjYmx4dUlDQWdJSDBwTzF4dVhHNGdJSDFjYmx4dUlDQm5aWFFnS0hOMGIzSmxUbUZ0WlN3Z2RtRnNkV1VwSUh0Y2JseHVJQ0FnSUhKbGRIVnliaUIwYUdsekxtOXdaVzRvS1M1MGFHVnVLQ2hrWWlrZ1BUNGdlMXh1WEc0Z0lDQWdJQ0J5WlhSMWNtNGdibVYzSUZCeWIyMXBjMlVvS0hKbGMyOXNkbVVzSUhKbGFtVmpkQ2tnUFQ0Z2UxeHVYRzRnSUNBZ0lDQWdJSFpoY2lCa1lsUnlZVzV6WVdOMGFXOXVJRDBnWkdJdWRISmhibk5oWTNScGIyNG9jM1J2Y21WT1lXMWxMQ0FuY21WaFpHOXViSGtuS1R0Y2JpQWdJQ0FnSUNBZ2RtRnlJR1JpVTNSdmNtVWdQU0JrWWxSeVlXNXpZV04wYVc5dUxtOWlhbVZqZEZOMGIzSmxLSE4wYjNKbFRtRnRaU2s3WEc0Z0lDQWdJQ0FnSUhaaGNpQmtZbE4wYjNKbFVtVnhkV1Z6ZER0Y2JseHVJQ0FnSUNBZ0lDQmtZbFJ5WVc1ellXTjBhVzl1TG05dVkyOXRjR3hsZEdVZ1BTQW9aU2tnUFQ0Z2UxeHVJQ0FnSUNBZ0lDQWdJSEpsYzI5c2RtVW9aR0pUZEc5eVpWSmxjWFZsYzNRdWNtVnpkV3gwS1R0Y2JpQWdJQ0FnSUNBZ2ZWeHVYRzRnSUNBZ0lDQWdJR1JpVkhKaGJuTmhZM1JwYjI0dWIyNWhZbTl5ZENBOVhHNGdJQ0FnSUNBZ0lHUmlWSEpoYm5OaFkzUnBiMjR1YjI1bGNuSnZjaUE5SUNobEtTQTlQaUI3WEc0Z0lDQWdJQ0FnSUNBZ2NtVnFaV04wS0dVcE8xeHVJQ0FnSUNBZ0lDQjlYRzVjYmlBZ0lDQWdJQ0FnWkdKVGRHOXlaVkpsY1hWbGMzUWdQU0JrWWxOMGIzSmxMbWRsZENoMllXeDFaU2s3WEc1Y2JpQWdJQ0FnSUgwcE8xeHVYRzRnSUNBZ2ZTazdYRzVjYmlBZ2ZWeHVYRzRnSUdkbGRFRnNiQ0FvYzNSdmNtVk9ZVzFsTENCcGJtUmxlQ3dnYjNKa1pYSXBJSHRjYmx4dUlDQWdJSEpsZEhWeWJpQjBhR2x6TG05d1pXNG9LUzUwYUdWdUtDaGtZaWtnUFQ0Z2UxeHVYRzRnSUNBZ0lDQnlaWFIxY200Z2JtVjNJRkJ5YjIxcGMyVW9LSEpsYzI5c2RtVXNJSEpsYW1WamRDa2dQVDRnZTF4dVhHNGdJQ0FnSUNBZ0lIWmhjaUJrWWxSeVlXNXpZV04wYVc5dUlEMGdaR0l1ZEhKaGJuTmhZM1JwYjI0b2MzUnZjbVZPWVcxbExDQW5jbVZoWkc5dWJIa25LVHRjYmlBZ0lDQWdJQ0FnZG1GeUlHUmlVM1J2Y21VZ1BTQmtZbFJ5WVc1ellXTjBhVzl1TG05aWFtVmpkRk4wYjNKbEtITjBiM0psVG1GdFpTazdYRzRnSUNBZ0lDQWdJSFpoY2lCa1lrTjFjbk52Y2p0Y2JseHVJQ0FnSUNBZ0lDQnBaaUFvZEhsd1pXOW1JRzl5WkdWeUlDRTlQU0FuYzNSeWFXNW5KeWxjYmlBZ0lDQWdJQ0FnSUNCdmNtUmxjaUE5SUNkdVpYaDBKenRjYmx4dUlDQWdJQ0FnSUNCcFppQW9kSGx3Wlc5bUlHbHVaR1Y0SUQwOVBTQW5jM1J5YVc1bkp5bGNiaUFnSUNBZ0lDQWdJQ0JrWWtOMWNuTnZjaUE5SUdSaVUzUnZjbVV1YVc1a1pYZ29hVzVrWlhncExtOXdaVzVEZFhKemIzSW9iblZzYkN3Z2IzSmtaWElwTzF4dUlDQWdJQ0FnSUNCbGJITmxYRzRnSUNBZ0lDQWdJQ0FnWkdKRGRYSnpiM0lnUFNCa1lsTjBiM0psTG05d1pXNURkWEp6YjNJb0tUdGNibHh1SUNBZ0lDQWdJQ0IyWVhJZ1pHSlNaWE4xYkhSeklEMGdXMTA3WEc1Y2JpQWdJQ0FnSUNBZ1pHSkRkWEp6YjNJdWIyNXpkV05qWlhOeklEMGdLR1VwSUQwK0lIdGNiaUFnSUNBZ0lDQWdJQ0IyWVhJZ1kzVnljMjl5SUQwZ1pTNTBZWEpuWlhRdWNtVnpkV3gwTzF4dVhHNGdJQ0FnSUNBZ0lDQWdhV1lnS0dOMWNuTnZjaWtnZTF4dUlDQWdJQ0FnSUNBZ0lDQWdaR0pTWlhOMWJIUnpMbkIxYzJnb2UxeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNCclpYazZJR04xY25OdmNpNXJaWGtzWEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJSFpoYkhWbE9pQmpkWEp6YjNJdWRtRnNkV1ZjYmlBZ0lDQWdJQ0FnSUNBZ0lIMHBPMXh1SUNBZ0lDQWdJQ0FnSUNBZ1kzVnljMjl5TG1OdmJuUnBiblZsS0NrN1hHNGdJQ0FnSUNBZ0lDQWdmU0JsYkhObElIdGNiaUFnSUNBZ0lDQWdJQ0FnSUhKbGMyOXNkbVVvWkdKU1pYTjFiSFJ6S1R0Y2JpQWdJQ0FnSUNBZ0lDQjlYRzRnSUNBZ0lDQWdJSDFjYmx4dUlDQWdJQ0FnSUNCa1lrTjFjbk52Y2k1dmJtVnljbTl5SUQwZ0tHVXBJRDArSUh0Y2JpQWdJQ0FnSUNBZ0lDQnlaV3BsWTNRb1pTazdYRzRnSUNBZ0lDQWdJSDFjYmx4dUlDQWdJQ0FnZlNrN1hHNWNiaUFnSUNCOUtUdGNiaUFnZlZ4dVhHNGdJR1JsYkdWMFpTQW9jM1J2Y21WT1lXMWxMQ0JyWlhrcElIdGNiaUFnSUNCeVpYUjFjbTRnZEdocGN5NXZjR1Z1S0NrdWRHaGxiaWdvWkdJcElEMCtJSHRjYmx4dUlDQWdJQ0FnY21WMGRYSnVJRzVsZHlCUWNtOXRhWE5sS0NoeVpYTnZiSFpsTENCeVpXcGxZM1FwSUQwK0lIdGNibHh1SUNBZ0lDQWdJQ0IyWVhJZ1pHSlVjbUZ1YzJGamRHbHZiaUE5SUdSaUxuUnlZVzV6WVdOMGFXOXVLSE4wYjNKbFRtRnRaU3dnSjNKbFlXUjNjbWwwWlNjcE8xeHVJQ0FnSUNBZ0lDQjJZWElnWkdKVGRHOXlaU0E5SUdSaVZISmhibk5oWTNScGIyNHViMkpxWldOMFUzUnZjbVVvYzNSdmNtVk9ZVzFsS1R0Y2JseHVJQ0FnSUNBZ0lDQmtZbFJ5WVc1ellXTjBhVzl1TG05dVkyOXRjR3hsZEdVZ1BTQW9aU2tnUFQ0Z2UxeHVJQ0FnSUNBZ0lDQWdJSEpsYzI5c2RtVW9aU2s3WEc0Z0lDQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ0lDQmtZbFJ5WVc1ellXTjBhVzl1TG05dVlXSnZjblFnUFZ4dUlDQWdJQ0FnSUNCa1lsUnlZVzV6WVdOMGFXOXVMbTl1WlhKeWIzSWdQU0FvWlNrZ1BUNGdlMXh1SUNBZ0lDQWdJQ0FnSUhKbGFtVmpkQ2hsS1R0Y2JpQWdJQ0FnSUNBZ2ZWeHVYRzRnSUNBZ0lDQWdJR1JpVTNSdmNtVXVaR1ZzWlhSbEtHdGxlU2s3WEc1Y2JpQWdJQ0FnSUgwcE8xeHVJQ0FnSUgwcE8xeHVJQ0I5WEc1Y2JpQWdaR1ZzWlhSbFFXeHNJQ2h6ZEc5eVpVNWhiV1VwSUh0Y2JseHVJQ0FnSUhKbGRIVnliaUIwYUdsekxtOXdaVzRvS1M1MGFHVnVLQ2hrWWlrZ1BUNGdlMXh1WEc0Z0lDQWdJQ0J5WlhSMWNtNGdibVYzSUZCeWIyMXBjMlVvS0hKbGMyOXNkbVVzSUhKbGFtVmpkQ2tnUFQ0Z2UxeHVYRzRnSUNBZ0lDQWdJSFpoY2lCa1lsUnlZVzV6WVdOMGFXOXVJRDBnWkdJdWRISmhibk5oWTNScGIyNG9jM1J2Y21WT1lXMWxMQ0FuY21WaFpIZHlhWFJsSnlrN1hHNGdJQ0FnSUNBZ0lIWmhjaUJrWWxOMGIzSmxJRDBnWkdKVWNtRnVjMkZqZEdsdmJpNXZZbXBsWTNSVGRHOXlaU2h6ZEc5eVpVNWhiV1VwTzF4dUlDQWdJQ0FnSUNCMllYSWdaR0pTWlhGMVpYTjBJRDBnWkdKVGRHOXlaUzVqYkdWaGNpZ3BPMXh1WEc0Z0lDQWdJQ0FnSUdSaVVtVnhkV1Z6ZEM1dmJuTjFZMk5sYzNNZ1BTQW9aU2tnUFQ0Z2UxeHVJQ0FnSUNBZ0lDQWdJSEpsYzI5c2RtVW9aU2s3WEc0Z0lDQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ0lDQmtZbEpsY1hWbGMzUXViMjVsY25KdmNpQTlJQ2hsS1NBOVBpQjdYRzRnSUNBZ0lDQWdJQ0FnY21WcVpXTjBLR1VwTzF4dUlDQWdJQ0FnSUNCOVhHNWNiaUFnSUNBZ0lIMHBPMXh1WEc0Z0lDQWdmU2s3WEc0Z0lIMWNibHh1ZlZ4dUlsMTkiLCIvKipcbiAqXG4gKiBDb3B5cmlnaHQgMjAxNSBHb29nbGUgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBQdWJTdWJJbnN0YW5jZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cbmZ1bmN0aW9uIFB1YlN1Ykluc3RhbmNlKCkge1xuXG4gIGlmICh0eXBlb2Ygd2luZG93LlB1YlN1Ykluc3RhbmNlXyAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybiBQcm9taXNlLnJlc29sdmUod2luZG93LlB1YlN1Ykluc3RhbmNlXyk7XG5cbiAgd2luZG93LlB1YlN1Ykluc3RhbmNlXyA9IG5ldyBQdWJTdWIoKTtcblxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHdpbmRvdy5QdWJTdWJJbnN0YW5jZV8pO1xufVxuXG52YXIgUHViU3ViID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUHViU3ViKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQdWJTdWIpO1xuXG4gICAgdGhpcy5zdWJzID0ge307XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoUHViU3ViLCBbe1xuICAgIGtleTogJ3N1YicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN1YihuYW1lLCBjYWxsYmFjaykge1xuXG4gICAgICBpZiAoIXRoaXMuc3Vic1tuYW1lXSkgdGhpcy5zdWJzW25hbWVdID0gW107XG5cbiAgICAgIHRoaXMuc3Vic1tuYW1lXS5wdXNoKGNhbGxiYWNrKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICd1bnN1YicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVuc3ViKG5hbWUsIGNhbGxiYWNrKSB7XG5cbiAgICAgIGlmICghdGhpcy5zdWJzW25hbWVdKSByZXR1cm47XG5cbiAgICAgIHZhciBpbmRleCA9IHRoaXMuc3Vicy5pbmRleE9mKGNhbGxiYWNrKTtcblxuICAgICAgaWYgKGluZGV4ID09PSAtMSkgcmV0dXJuO1xuXG4gICAgICB0aGlzLnN1YnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdwdWInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwdWIobmFtZSwgbWVzc2FnZSkge1xuXG4gICAgICBpZiAoIXRoaXMuc3Vic1tuYW1lXSkgcmV0dXJuO1xuXG4gICAgICB0aGlzLnN1YnNbbmFtZV0uZm9yRWFjaChmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBzdWJzY3JpYmVyKG1lc3NhZ2UpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFB1YlN1Yjtcbn0pKCk7XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWk5VmMyVnljeTlvWlhKdFlXNTNMMFJ2WTNWdFpXNTBjeTlvWlhKdGQyOXVaeTlwYjNOVVpYTjBMM055WXk5elkzSnBjSFJ6TDJ4cFluTXZVSFZpVTNWaUxtcHpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSTdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN2NVSkJhVUozUWl4alFVRmpPenM3TzBGQlFYWkNMRk5CUVZNc1kwRkJZeXhIUVVGSk96dEJRVVY0UXl4TlFVRkpMRTlCUVU4c1RVRkJUU3hEUVVGRExHVkJRV1VzUzBGQlN5eFhRVUZYTEVWQlF5OURMRTlCUVU4c1QwRkJUeXhEUVVGRExFOUJRVThzUTBGQlF5eE5RVUZOTEVOQlFVTXNaVUZCWlN4RFFVRkRMRU5CUVVNN08wRkJSV3BFTEZGQlFVMHNRMEZCUXl4bFFVRmxMRWRCUVVjc1NVRkJTU3hOUVVGTkxFVkJRVVVzUTBGQlF6czdRVUZGZEVNc1UwRkJUeXhQUVVGUExFTkJRVU1zVDBGQlR5eERRVUZETEUxQlFVMHNRMEZCUXl4bFFVRmxMRU5CUVVNc1EwRkJRenREUVVOb1JEczdTVUZGU3l4TlFVRk5PMEZCUlVVc1YwRkdVaXhOUVVGTkxFZEJSVXM3TUVKQlJsZ3NUVUZCVFRzN1FVRkhVaXhSUVVGSkxFTkJRVU1zU1VGQlNTeEhRVUZITEVWQlFVVXNRMEZCUXp0SFFVTm9RanM3WlVGS1J5eE5RVUZOT3p0WFFVMU9MR0ZCUVVNc1NVRkJTU3hGUVVGRkxGRkJRVkVzUlVGQlJUczdRVUZGYmtJc1ZVRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eEpRVUZKTEVOQlFVTXNTVUZCU1N4RFFVRkRMRVZCUTJ4Q0xFbEJRVWtzUTBGQlF5eEpRVUZKTEVOQlFVTXNTVUZCU1N4RFFVRkRMRWRCUVVjc1JVRkJSU3hEUVVGRE96dEJRVVYyUWl4VlFVRkpMRU5CUVVNc1NVRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eERRVUZETEVsQlFVa3NRMEZCUXl4UlFVRlJMRU5CUVVNc1EwRkJRenRMUVVOb1F6czdPMWRCUlVzc1pVRkJReXhKUVVGSkxFVkJRVVVzVVVGQlVTeEZRVUZGT3p0QlFVVnlRaXhWUVVGSkxFTkJRVU1zU1VGQlNTeERRVUZETEVsQlFVa3NRMEZCUXl4SlFVRkpMRU5CUVVNc1JVRkRiRUlzVDBGQlR6czdRVUZGVkN4VlFVRkpMRXRCUVVzc1IwRkJSeXhKUVVGSkxFTkJRVU1zU1VGQlNTeERRVUZETEU5QlFVOHNRMEZCUXl4UlFVRlJMRU5CUVVNc1EwRkJRenM3UVVGRmVFTXNWVUZCU1N4TFFVRkxMRXRCUVVzc1EwRkJReXhEUVVGRExFVkJRMlFzVDBGQlR6czdRVUZGVkN4VlFVRkpMRU5CUVVNc1NVRkJTU3hEUVVGRExFMUJRVTBzUTBGQlF5eExRVUZMTEVWQlFVVXNRMEZCUXl4RFFVRkRMRU5CUVVNN1MwRkROVUk3T3p0WFFVVkhMR0ZCUVVNc1NVRkJTU3hGUVVGRkxFOUJRVThzUlVGQlJUczdRVUZGYkVJc1ZVRkJTU3hEUVVGRExFbEJRVWtzUTBGQlF5eEpRVUZKTEVOQlFVTXNTVUZCU1N4RFFVRkRMRVZCUTJ4Q0xFOUJRVTg3TzBGQlJWUXNWVUZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhKUVVGSkxFTkJRVU1zUTBGQlF5eFBRVUZQTEVOQlFVTXNWVUZCUVN4VlFVRlZMRVZCUVVrN1FVRkRjRU1zYTBKQlFWVXNRMEZCUXl4UFFVRlBMRU5CUVVNc1EwRkJRenRQUVVOeVFpeERRVUZETEVOQlFVRTdTMEZEU0RzN08xTkJia05ITEUxQlFVMGlMQ0ptYVd4bElqb2lMMVZ6WlhKekwyaGxjbTFoYm5jdlJHOWpkVzFsYm5SekwyaGxjbTEzYjI1bkwybHZjMVJsYzNRdmMzSmpMM05qY21sd2RITXZiR2xpY3k5UWRXSlRkV0l1YW5NaUxDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNld5SXZLaXBjYmlBcVhHNGdLaUJEYjNCNWNtbG5hSFFnTWpBeE5TQkhiMjluYkdVZ1NXNWpMaUJCYkd3Z2NtbG5hSFJ6SUhKbGMyVnlkbVZrTGx4dUlDcGNiaUFxSUV4cFkyVnVjMlZrSUhWdVpHVnlJSFJvWlNCQmNHRmphR1VnVEdsalpXNXpaU3dnVm1WeWMybHZiaUF5TGpBZ0tIUm9aU0JjSWt4cFkyVnVjMlZjSWlrN1hHNGdLaUI1YjNVZ2JXRjVJRzV2ZENCMWMyVWdkR2hwY3lCbWFXeGxJR1Y0WTJWd2RDQnBiaUJqYjIxd2JHbGhibU5sSUhkcGRHZ2dkR2hsSUV4cFkyVnVjMlV1WEc0Z0tpQlpiM1VnYldGNUlHOWlkR0ZwYmlCaElHTnZjSGtnYjJZZ2RHaGxJRXhwWTJWdWMyVWdZWFJjYmlBcVhHNGdLaUFnSUNBZ2FIUjBjRG92TDNkM2R5NWhjR0ZqYUdVdWIzSm5MMnhwWTJWdWMyVnpMMHhKUTBWT1UwVXRNaTR3WEc0Z0tseHVJQ29nVlc1c1pYTnpJSEpsY1hWcGNtVmtJR0o1SUdGd2NHeHBZMkZpYkdVZ2JHRjNJRzl5SUdGbmNtVmxaQ0IwYnlCcGJpQjNjbWwwYVc1bkxDQnpiMlowZDJGeVpWeHVJQ29nWkdsemRISnBZblYwWldRZ2RXNWtaWElnZEdobElFeHBZMlZ1YzJVZ2FYTWdaR2x6ZEhKcFluVjBaV1FnYjI0Z1lXNGdYQ0pCVXlCSlUxd2lJRUpCVTBsVExGeHVJQ29nVjBsVVNFOVZWQ0JYUVZKU1FVNVVTVVZUSUU5U0lFTlBUa1JKVkVsUFRsTWdUMFlnUVU1WklFdEpUa1FzSUdWcGRHaGxjaUJsZUhCeVpYTnpJRzl5SUdsdGNHeHBaV1F1WEc0Z0tpQlRaV1VnZEdobElFeHBZMlZ1YzJVZ1ptOXlJSFJvWlNCemNHVmphV1pwWXlCc1lXNW5kV0ZuWlNCbmIzWmxjbTVwYm1jZ2NHVnliV2x6YzJsdmJuTWdZVzVrWEc0Z0tpQnNhVzFwZEdGMGFXOXVjeUIxYm1SbGNpQjBhR1VnVEdsalpXNXpaUzVjYmlBcUwxeHVYRzVsZUhCdmNuUWdaR1ZtWVhWc2RDQm1kVzVqZEdsdmJpQlFkV0pUZFdKSmJuTjBZVzVqWlNBb0tTQjdYRzVjYmlBZ2FXWWdLSFI1Y0dWdlppQjNhVzVrYjNjdVVIVmlVM1ZpU1c1emRHRnVZMlZmSUNFOVBTQW5kVzVrWldacGJtVmtKeWxjYmlBZ0lDQnlaWFIxY200Z1VISnZiV2x6WlM1eVpYTnZiSFpsS0hkcGJtUnZkeTVRZFdKVGRXSkpibk4wWVc1alpWOHBPMXh1WEc0Z0lIZHBibVJ2ZHk1UWRXSlRkV0pKYm5OMFlXNWpaVjhnUFNCdVpYY2dVSFZpVTNWaUtDazdYRzVjYmlBZ2NtVjBkWEp1SUZCeWIyMXBjMlV1Y21WemIyeDJaU2gzYVc1a2IzY3VVSFZpVTNWaVNXNXpkR0Z1WTJWZktUdGNibjFjYmx4dVkyeGhjM01nVUhWaVUzVmlJSHRjYmx4dUlDQmpiMjV6ZEhKMVkzUnZjaUFvS1NCN1hHNGdJQ0FnZEdocGN5NXpkV0p6SUQwZ2UzMDdYRzRnSUgxY2JseHVJQ0J6ZFdJZ0tHNWhiV1VzSUdOaGJHeGlZV05yS1NCN1hHNWNiaUFnSUNCcFppQW9JWFJvYVhNdWMzVmljMXR1WVcxbFhTbGNiaUFnSUNBZ0lIUm9hWE11YzNWaWMxdHVZVzFsWFNBOUlGdGRPMXh1WEc0Z0lDQWdkR2hwY3k1emRXSnpXMjVoYldWZExuQjFjMmdvWTJGc2JHSmhZMnNwTzF4dUlDQjlYRzVjYmlBZ2RXNXpkV0lnS0c1aGJXVXNJR05oYkd4aVlXTnJLU0I3WEc1Y2JpQWdJQ0JwWmlBb0lYUm9hWE11YzNWaWMxdHVZVzFsWFNsY2JpQWdJQ0FnSUhKbGRIVnlianRjYmx4dUlDQWdJSFpoY2lCcGJtUmxlQ0E5SUhSb2FYTXVjM1ZpY3k1cGJtUmxlRTltS0dOaGJHeGlZV05yS1R0Y2JseHVJQ0FnSUdsbUlDaHBibVJsZUNBOVBUMGdMVEVwWEc0Z0lDQWdJQ0J5WlhSMWNtNDdYRzVjYmlBZ0lDQjBhR2x6TG5OMVluTXVjM0JzYVdObEtHbHVaR1Y0TENBeEtUdGNiaUFnZlZ4dVhHNGdJSEIxWWlBb2JtRnRaU3dnYldWemMyRm5aU2tnZTF4dVhHNGdJQ0FnYVdZZ0tDRjBhR2x6TG5OMVluTmJibUZ0WlYwcFhHNGdJQ0FnSUNCeVpYUjFjbTQ3WEc1Y2JpQWdJQ0IwYUdsekxuTjFZbk5iYm1GdFpWMHVabTl5UldGamFDaHpkV0p6WTNKcFltVnlJRDArSUh0Y2JpQWdJQ0FnSUhOMVluTmpjbWxpWlhJb2JXVnpjMkZuWlNrN1hHNGdJQ0FnZlNsY2JpQWdmVnh1WEc1OVhHNGlYWDA9IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNCBHb29nbGUgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gKGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgndmFsdWUnIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KSgpO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBSb3V0ZXJJbnN0YW5jZTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cbmZ1bmN0aW9uIFJvdXRlckluc3RhbmNlKCkge1xuXG4gIGlmICh0eXBlb2Ygd2luZG93LlJvdXRlckluc3RhbmNlXyAhPT0gJ3VuZGVmaW5lZCcpIHJldHVybiBQcm9taXNlLnJlc29sdmUod2luZG93LlJvdXRlckluc3RhbmNlXyk7XG5cbiAgd2luZG93LlJvdXRlckluc3RhbmNlXyA9IG5ldyBSb3V0ZXIoKTtcblxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHdpbmRvdy5Sb3V0ZXJJbnN0YW5jZV8pO1xufVxuXG52YXIgUm91dGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUm91dGVyKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUm91dGVyKTtcblxuICAgIHRoaXMucm91dGVzID0ge307XG4gICAgdGhpcy5jdXJyZW50QWN0aW9uID0gbnVsbDtcbiAgICB0aGlzLmxvYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2FkZXInKTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5vblBvcFN0YXRlKGUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5tYW5hZ2VTdGF0ZSgpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKFJvdXRlciwgW3tcbiAgICBrZXk6ICdhZGQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGQocGF0aCwgY2FsbGJhY2tJbiwgY2FsbGJhY2tPdXQsIGNhbGxiYWNrVXBkYXRlKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgLy8gQXNzdW1lIHRoZSBmaXJzdCBwYXJ0IG9mIHRoZSBwYXRoIGlzIHRoZVxuICAgICAgLy8gdmVyYiB3ZSB3YW50IHRvIGFjdGlvbiwgd2l0aCB0aGUgcmVzdCBvZiB0aGUgcGF0aFxuICAgICAgLy8gYmVpbmcgdGhlIGRhdGEgdG8gcGFzcyB0byB0aGUgaGFuZGxlci5cbiAgICAgIHZhciBwYXRoUGFydHMgPSBwYXRoLnNwbGl0KCcvJyk7XG4gICAgICB2YXIgYWN0aW9uID0gcGF0aFBhcnRzLnNoaWZ0KCk7XG5cbiAgICAgIGlmICh0aGlzLnJvdXRlc1thY3Rpb25dKSB0aHJvdyBcIkEgaGFuZGxlciBhbHJlYWR5IGV4aXN0cyBmb3IgdGhpcyBhY3Rpb246IFwiICsgYWN0aW9uO1xuXG4gICAgICB0aGlzLnJvdXRlc1thY3Rpb25dID0ge1xuICAgICAgICAnaW4nOiBjYWxsYmFja0luLFxuICAgICAgICBvdXQ6IGNhbGxiYWNrT3V0LFxuICAgICAgICB1cGRhdGU6IGNhbGxiYWNrVXBkYXRlXG4gICAgICB9O1xuXG4gICAgICAvLyBDaGVjayB0byBzZWUgaWYgdGhpcyBwYXRoIGlzIGZ1bGZpbGxlZC5cbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpczIubWFuYWdlU3RhdGUoKSkge1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnZGVlcGxpbmsnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAncmVtb3ZlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlKHBhdGgpIHtcblxuICAgICAgdmFyIHBhdGhQYXJ0cyA9IHBhdGguc3BsaXQoJy8nKTtcbiAgICAgIHZhciBhY3Rpb24gPSBwYXRoUGFydHMuc2hpZnQoKTtcblxuICAgICAgaWYgKCF0aGlzLnJvdXRlc1thY3Rpb25dKSByZXR1cm47XG5cbiAgICAgIGRlbGV0ZSB0aGlzLnJvdXRlc1thY3Rpb25dO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ21hbmFnZVN0YXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbWFuYWdlU3RhdGUoKSB7XG5cbiAgICAgIHZhciBwYXRoID0gZG9jdW1lbnQubG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXlxcLy8sICcnKTtcblxuICAgICAgLy8gQXNzdW1lIHRoZSBmaXJzdCBwYXJ0IG9mIHRoZSBwYXRoIGlzIHRoZVxuICAgICAgLy8gdmVyYiB3ZSB3YW50IHRvIGFjdGlvbiwgd2l0aCB0aGUgcmVzdCBvZiB0aGUgcGF0aFxuICAgICAgLy8gYmVpbmcgdGhlIGRhdGEgdG8gcGFzcyB0byB0aGUgaGFuZGxlci5cbiAgICAgIHZhciBwYXRoUGFydHMgPSBwYXRoLnNwbGl0KCcvJyk7XG4gICAgICB2YXIgYWN0aW9uID0gcGF0aFBhcnRzLnNoaWZ0KCk7XG4gICAgICB2YXIgZGF0YSA9IHBhdGhQYXJ0cy5qb2luKCcvJyk7XG5cbiAgICAgIC8vIEFkZCBhIHNwZWNpYWwgY2FzZSBmb3IgdGhlIHJvb3QuXG4gICAgICBpZiAoYWN0aW9uID09PSAnJykgYWN0aW9uID0gJ19yb290JztcblxuICAgICAgLy8gUmVtb3ZlIGFueSBkZWVwbGluayBjb3ZlcnMuXG4gICAgICBpZiAoZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ2FwcC1kZWVwbGluaycpKSBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ2FwcC1kZWVwbGluaycpO1xuXG4gICAgICAvLyBIaWRlIHRoZSBsb2FkZXIuXG4gICAgICB0aGlzLmxvYWRlci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcblxuICAgICAgaWYgKHRoaXMuY3VycmVudEFjdGlvbiA9PT0gdGhpcy5yb3V0ZXNbYWN0aW9uXSkge1xuXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5jdXJyZW50QWN0aW9uLnVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRoaXMuY3VycmVudEFjdGlvbi51cGRhdGUoZGF0YSk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICghdGhpcy5yb3V0ZXNbYWN0aW9uXSkge1xuXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRBY3Rpb24pIHRoaXMuY3VycmVudEFjdGlvbi5vdXQoKTtcblxuICAgICAgICB0aGlzLmN1cnJlbnRBY3Rpb24gPSBudWxsO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmZvY3VzKCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IHRoZSBuZXcgYWN0aW9uIGdvaW5nLlxuICAgICAgdmFyIGRlbGF5ID0gdGhpcy5yb3V0ZXNbYWN0aW9uXVsnaW4nXShkYXRhKSB8fCAwO1xuXG4gICAgICAvLyBSZW1vdmUgdGhlIG9sZCBhY3Rpb24gYW5kIHVwZGF0ZSB0aGUgcmVmZXJlbmNlLlxuICAgICAgaWYgKHRoaXMuY3VycmVudEFjdGlvbikge1xuXG4gICAgICAgIC8vIEFsbG93IHRoZSBpbmNvbWluZyB2aWV3IHRvIGRlbGF5IHRoZSBvdXRnb2luZyBvbmVcbiAgICAgICAgLy8gc28gdGhhdCB3ZSBkb24ndCBnZXQgdG9vIG11Y2ggb3ZlcmxhcHBpbmcgYW5pbWF0aW9uLlxuICAgICAgICBpZiAoZGVsYXkgPT09IDApIHRoaXMuY3VycmVudEFjdGlvbi5vdXQoKTtlbHNlIHNldFRpbWVvdXQodGhpcy5jdXJyZW50QWN0aW9uLm91dCwgZGVsYXkpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmN1cnJlbnRBY3Rpb24gPSB0aGlzLnJvdXRlc1thY3Rpb25dO1xuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnbycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdvKHBhdGgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAvLyBPbmx5IHByb2Nlc3MgcmVhbCBjaGFuZ2VzLlxuICAgICAgaWYgKHBhdGggPT09IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSkgcmV0dXJuO1xuXG4gICAgICBoaXN0b3J5LnB1c2hTdGF0ZSh1bmRlZmluZWQsIFwiXCIsIHBhdGgpO1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLm1hbmFnZVN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdvblBvcFN0YXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Qb3BTdGF0ZShlKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM0Lm1hbmFnZVN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gUm91dGVyO1xufSkoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJaTlWYzJWeWN5OW9aWEp0WVc1M0wwUnZZM1Z0Wlc1MGN5OW9aWEp0ZDI5dVp5OXBiM05VWlhOMEwzTnlZeTl6WTNKcGNIUnpMMnhwWW5NdlVtOTFkR1Z5TG1weklsMHNJbTVoYldWeklqcGJYU3dpYldGd2NHbHVaM01pT2lJN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenR4UWtGblFuZENMR05CUVdNN096czdRVUZCZGtJc1UwRkJVeXhqUVVGakxFZEJRVWs3TzBGQlJYaERMRTFCUVVrc1QwRkJUeXhOUVVGTkxFTkJRVU1zWlVGQlpTeExRVUZMTEZkQlFWY3NSVUZETDBNc1QwRkJUeXhQUVVGUExFTkJRVU1zVDBGQlR5eERRVUZETEUxQlFVMHNRMEZCUXl4bFFVRmxMRU5CUVVNc1EwRkJRenM3UVVGRmFrUXNVVUZCVFN4RFFVRkRMR1ZCUVdVc1IwRkJSeXhKUVVGSkxFMUJRVTBzUlVGQlJTeERRVUZET3p0QlFVVjBReXhUUVVGUExFOUJRVThzUTBGQlF5eFBRVUZQTEVOQlFVTXNUVUZCVFN4RFFVRkRMR1ZCUVdVc1EwRkJReXhEUVVGRE8wTkJRMmhFT3p0SlFVVkxMRTFCUVUwN1FVRkZSU3hYUVVaU0xFMUJRVTBzUjBGRlN6czdPekJDUVVaWUxFMUJRVTA3TzBGQlIxSXNVVUZCU1N4RFFVRkRMRTFCUVUwc1IwRkJSeXhGUVVGRkxFTkJRVU03UVVGRGFrSXNVVUZCU1N4RFFVRkRMR0ZCUVdFc1IwRkJSeXhKUVVGSkxFTkJRVU03UVVGRE1VSXNVVUZCU1N4RFFVRkRMRTFCUVUwc1IwRkJSeXhSUVVGUkxFTkJRVU1zWVVGQllTeERRVUZETEZOQlFWTXNRMEZCUXl4RFFVRkRPenRCUVVWb1JDeFZRVUZOTEVOQlFVTXNaMEpCUVdkQ0xFTkJRVU1zVlVGQlZTeEZRVUZGTEZWQlFVTXNRMEZCUXl4RlFVRkxPMEZCUTNwRExGbEJRVXNzVlVGQlZTeERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRPMHRCUTNCQ0xFTkJRVU1zUTBGQlF6czdRVUZGU0N4UlFVRkpMRU5CUVVNc1YwRkJWeXhGUVVGRkxFTkJRVU03UjBGRGNFSTdPMlZCV2tjc1RVRkJUVHM3VjBGalRpeGhRVUZETEVsQlFVa3NSVUZCUlN4VlFVRlZMRVZCUVVVc1YwRkJWeXhGUVVGRkxHTkJRV01zUlVGQlJUczdPenM3TzBGQlMyeEVMRlZCUVVrc1UwRkJVeXhIUVVGSExFbEJRVWtzUTBGQlF5eExRVUZMTEVOQlFVTXNSMEZCUnl4RFFVRkRMRU5CUVVNN1FVRkRhRU1zVlVGQlNTeE5RVUZOTEVkQlFVY3NVMEZCVXl4RFFVRkRMRXRCUVVzc1JVRkJSU3hEUVVGRE96dEJRVVV2UWl4VlFVRkpMRWxCUVVrc1EwRkJReXhOUVVGTkxFTkJRVU1zVFVGQlRTeERRVUZETEVWQlEzSkNMRTFCUVUwc05FTkJRVFJETEVkQlFVY3NUVUZCVFN4RFFVRkRPenRCUVVVNVJDeFZRVUZKTEVOQlFVTXNUVUZCVFN4RFFVRkRMRTFCUVUwc1EwRkJReXhIUVVGSE8wRkJRM0JDTEdOQlFVa3NWVUZCVlR0QlFVTmtMRmRCUVVjc1JVRkJSU3hYUVVGWE8wRkJRMmhDTEdOQlFVMHNSVUZCUlN4alFVRmpPMDlCUTNaQ0xFTkJRVU03T3p0QlFVZEdMREpDUVVGeFFpeERRVUZETEZsQlFVMDdRVUZETVVJc1dVRkJTU3hQUVVGTExGZEJRVmNzUlVGQlJTeEZRVUZGTzBGQlEzUkNMR3RDUVVGUkxFTkJRVU1zU1VGQlNTeERRVUZETEZOQlFWTXNRMEZCUXl4TlFVRk5MRU5CUVVNc1ZVRkJWU3hEUVVGRExFTkJRVU03VTBGRE5VTTdUMEZEUml4RFFVRkRMRU5CUVVNN1MwRkRTanM3TzFkQlJVMHNaMEpCUVVNc1NVRkJTU3hGUVVGRk96dEJRVVZhTEZWQlFVa3NVMEZCVXl4SFFVRkhMRWxCUVVrc1EwRkJReXhMUVVGTExFTkJRVU1zUjBGQlJ5eERRVUZETEVOQlFVTTdRVUZEYUVNc1ZVRkJTU3hOUVVGTkxFZEJRVWNzVTBGQlV5eERRVUZETEV0QlFVc3NSVUZCUlN4RFFVRkRPenRCUVVVdlFpeFZRVUZKTEVOQlFVTXNTVUZCU1N4RFFVRkRMRTFCUVUwc1EwRkJReXhOUVVGTkxFTkJRVU1zUlVGRGRFSXNUMEZCVHpzN1FVRkZWQ3hoUVVGUExFbEJRVWtzUTBGQlF5eE5RVUZOTEVOQlFVTXNUVUZCVFN4RFFVRkRMRU5CUVVNN1MwRkROVUk3T3p0WFFVVlhMSFZDUVVGSE96dEJRVVZpTEZWQlFVa3NTVUZCU1N4SFFVRkhMRkZCUVZFc1EwRkJReXhSUVVGUkxFTkJRVU1zVVVGQlVTeERRVUZETEU5QlFVOHNRMEZCUXl4TFFVRkxMRVZCUVVVc1JVRkJSU3hEUVVGRExFTkJRVU03T3pzN08wRkJTM3BFTEZWQlFVa3NVMEZCVXl4SFFVRkhMRWxCUVVrc1EwRkJReXhMUVVGTExFTkJRVU1zUjBGQlJ5eERRVUZETEVOQlFVTTdRVUZEYUVNc1ZVRkJTU3hOUVVGTkxFZEJRVWNzVTBGQlV5eERRVUZETEV0QlFVc3NSVUZCUlN4RFFVRkRPMEZCUXk5Q0xGVkJRVWtzU1VGQlNTeEhRVUZITEZOQlFWTXNRMEZCUXl4SlFVRkpMRU5CUVVNc1IwRkJSeXhEUVVGRExFTkJRVU03T3p0QlFVY3ZRaXhWUVVGSkxFMUJRVTBzUzBGQlN5eEZRVUZGTEVWQlEyWXNUVUZCVFN4SFFVRkhMRTlCUVU4c1EwRkJRenM3TzBGQlIyNUNMRlZCUVVrc1VVRkJVU3hEUVVGRExFbEJRVWtzUTBGQlF5eFRRVUZUTEVOQlFVTXNVVUZCVVN4RFFVRkRMR05CUVdNc1EwRkJReXhGUVVOc1JDeFJRVUZSTEVOQlFVTXNTVUZCU1N4RFFVRkRMRk5CUVZNc1EwRkJReXhOUVVGTkxFTkJRVU1zWTBGQll5eERRVUZETEVOQlFVTTdPenRCUVVkcVJDeFZRVUZKTEVOQlFVTXNUVUZCVFN4RFFVRkRMRk5CUVZNc1EwRkJReXhIUVVGSExFTkJRVU1zVVVGQlVTeERRVUZETEVOQlFVTTdPMEZCUlhCRExGVkJRVWtzU1VGQlNTeERRVUZETEdGQlFXRXNTMEZCU3l4SlFVRkpMRU5CUVVNc1RVRkJUU3hEUVVGRExFMUJRVTBzUTBGQlF5eEZRVUZGT3p0QlFVVTVReXhaUVVGSkxFOUJRVThzU1VGQlNTeERRVUZETEdGQlFXRXNRMEZCUXl4TlFVRk5MRXRCUVVzc1ZVRkJWU3hGUVVGRk8wRkJRMjVFTEdOQlFVa3NRMEZCUXl4aFFVRmhMRU5CUVVNc1RVRkJUU3hEUVVGRExFbEJRVWtzUTBGQlF5eERRVUZETzBGQlEyaERMR2xDUVVGUExFbEJRVWtzUTBGQlF6dFRRVU5pT3p0QlFVVkVMR1ZCUVU4c1MwRkJTeXhEUVVGRE8wOUJRMlE3TzBGQlJVUXNWVUZCU1N4RFFVRkRMRWxCUVVrc1EwRkJReXhOUVVGTkxFTkJRVU1zVFVGQlRTeERRVUZETEVWQlFVVTdPMEZCUlhoQ0xGbEJRVWtzU1VGQlNTeERRVUZETEdGQlFXRXNSVUZEY0VJc1NVRkJTU3hEUVVGRExHRkJRV0VzUTBGQlF5eEhRVUZITEVWQlFVVXNRMEZCUXpzN1FVRkZNMElzV1VGQlNTeERRVUZETEdGQlFXRXNSMEZCUnl4SlFVRkpMRU5CUVVNN1FVRkRNVUlzWjBKQlFWRXNRMEZCUXl4SlFVRkpMRU5CUVVNc1MwRkJTeXhGUVVGRkxFTkJRVU03UVVGRGRFSXNaVUZCVHl4TFFVRkxMRU5CUVVNN1QwRkRaRHM3TzBGQlIwUXNWVUZCU1N4TFFVRkxMRWRCUVVjc1NVRkJTU3hEUVVGRExFMUJRVTBzUTBGQlF5eE5RVUZOTEVOQlFVTXNUVUZCUnl4RFFVRkRMRWxCUVVrc1EwRkJReXhKUVVGSkxFTkJRVU1zUTBGQlF6czdPMEZCUnpsRExGVkJRVWtzU1VGQlNTeERRVUZETEdGQlFXRXNSVUZCUlRzN096dEJRVWwwUWl4WlFVRkpMRXRCUVVzc1MwRkJTeXhEUVVGRExFVkJRMklzU1VGQlNTeERRVUZETEdGQlFXRXNRMEZCUXl4SFFVRkhMRVZCUVVVc1EwRkJReXhMUVVWNlFpeFZRVUZWTEVOQlFVTXNTVUZCU1N4RFFVRkRMR0ZCUVdFc1EwRkJReXhIUVVGSExFVkJRVVVzUzBGQlN5eERRVUZETEVOQlFVTTdUMEZETjBNN08wRkJSVVFzVlVGQlNTeERRVUZETEdGQlFXRXNSMEZCUnl4SlFVRkpMRU5CUVVNc1RVRkJUU3hEUVVGRExFMUJRVTBzUTBGQlF5eERRVUZET3p0QlFVVjZReXhoUVVGUExFbEJRVWtzUTBGQlF6dExRVU5pT3pzN1YwRkZSU3haUVVGRExFbEJRVWtzUlVGQlJUczdPenRCUVVkU0xGVkJRVWtzU1VGQlNTeExRVUZMTEUxQlFVMHNRMEZCUXl4UlFVRlJMRU5CUVVNc1VVRkJVU3hGUVVOdVF5eFBRVUZQT3p0QlFVVlVMR0ZCUVU4c1EwRkJReXhUUVVGVExFTkJRVU1zVTBGQlV5eEZRVUZGTEVWQlFVVXNSVUZCUlN4SlFVRkpMRU5CUVVNc1EwRkJRenRCUVVOMlF5d3lRa0ZCY1VJc1EwRkJReXhaUVVGTk8wRkJRekZDTEdWQlFVc3NWMEZCVnl4RlFVRkZMRU5CUVVNN1QwRkRjRUlzUTBGQlF5eERRVUZETzB0QlEwbzdPenRYUVVWVkxHOUNRVUZETEVOQlFVTXNSVUZCUlRzN08wRkJRMklzVDBGQlF5eERRVUZETEdOQlFXTXNSVUZCUlN4RFFVRkRPMEZCUTI1Q0xESkNRVUZ4UWl4RFFVRkRMRmxCUVUwN1FVRkRNVUlzWlVGQlN5eFhRVUZYTEVWQlFVVXNRMEZCUXp0UFFVTndRaXhEUVVGRExFTkJRVU03UzBGRFNqczdPMU5CYUVsSExFMUJRVTBpTENKbWFXeGxJam9pTDFWelpYSnpMMmhsY20xaGJuY3ZSRzlqZFcxbGJuUnpMMmhsY20xM2IyNW5MMmx2YzFSbGMzUXZjM0pqTDNOamNtbHdkSE12YkdsaWN5OVNiM1YwWlhJdWFuTWlMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXeUl2S2lwY2JpQXFJRU52Y0hseWFXZG9kQ0F5TURFMElFZHZiMmRzWlNCSmJtTXVJRUZzYkNCeWFXZG9kSE1nY21WelpYSjJaV1F1WEc0Z0tseHVJQ29nVEdsalpXNXpaV1FnZFc1a1pYSWdkR2hsSUVGd1lXTm9aU0JNYVdObGJuTmxMQ0JXWlhKemFXOXVJREl1TUNBb2RHaGxJRndpVEdsalpXNXpaVndpS1R0Y2JpQXFJSGx2ZFNCdFlYa2dibTkwSUhWelpTQjBhR2x6SUdacGJHVWdaWGhqWlhCMElHbHVJR052YlhCc2FXRnVZMlVnZDJsMGFDQjBhR1VnVEdsalpXNXpaUzVjYmlBcUlGbHZkU0J0WVhrZ2IySjBZV2x1SUdFZ1kyOXdlU0J2WmlCMGFHVWdUR2xqWlc1elpTQmhkRnh1SUNwY2JpQXFJQ0FnSUNCb2RIUndPaTh2ZDNkM0xtRndZV05vWlM1dmNtY3ZiR2xqWlc1elpYTXZURWxEUlU1VFJTMHlMakJjYmlBcVhHNGdLaUJWYm14bGMzTWdjbVZ4ZFdseVpXUWdZbmtnWVhCd2JHbGpZV0pzWlNCc1lYY2diM0lnWVdkeVpXVmtJSFJ2SUdsdUlIZHlhWFJwYm1jc0lITnZablIzWVhKbFhHNGdLaUJrYVhOMGNtbGlkWFJsWkNCMWJtUmxjaUIwYUdVZ1RHbGpaVzV6WlNCcGN5QmthWE4wY21saWRYUmxaQ0J2YmlCaGJpQmNJa0ZUSUVsVFhDSWdRa0ZUU1ZNc1hHNGdLaUJYU1ZSSVQxVlVJRmRCVWxKQlRsUkpSVk1nVDFJZ1EwOU9SRWxVU1U5T1V5QlBSaUJCVGxrZ1MwbE9SQ3dnWldsMGFHVnlJR1Y0Y0hKbGMzTWdiM0lnYVcxd2JHbGxaQzVjYmlBcUlGTmxaU0IwYUdVZ1RHbGpaVzV6WlNCbWIzSWdkR2hsSUhOd1pXTnBabWxqSUd4aGJtZDFZV2RsSUdkdmRtVnlibWx1WnlCd1pYSnRhWE56YVc5dWN5QmhibVJjYmlBcUlHeHBiV2wwWVhScGIyNXpJSFZ1WkdWeUlIUm9aU0JNYVdObGJuTmxMbHh1SUNvdlhHNWNibVY0Y0c5eWRDQmtaV1poZFd4MElHWjFibU4wYVc5dUlGSnZkWFJsY2tsdWMzUmhibU5sSUNncElIdGNibHh1SUNCcFppQW9kSGx3Wlc5bUlIZHBibVJ2ZHk1U2IzVjBaWEpKYm5OMFlXNWpaVjhnSVQwOUlDZDFibVJsWm1sdVpXUW5LVnh1SUNBZ0lISmxkSFZ5YmlCUWNtOXRhWE5sTG5KbGMyOXNkbVVvZDJsdVpHOTNMbEp2ZFhSbGNrbHVjM1JoYm1ObFh5azdYRzVjYmlBZ2QybHVaRzkzTGxKdmRYUmxja2x1YzNSaGJtTmxYeUE5SUc1bGR5QlNiM1YwWlhJb0tUdGNibHh1SUNCeVpYUjFjbTRnVUhKdmJXbHpaUzV5WlhOdmJIWmxLSGRwYm1SdmR5NVNiM1YwWlhKSmJuTjBZVzVqWlY4cE8xeHVmVnh1WEc1amJHRnpjeUJTYjNWMFpYSWdlMXh1WEc0Z0lHTnZibk4wY25WamRHOXlJQ2dwSUh0Y2JpQWdJQ0IwYUdsekxuSnZkWFJsY3lBOUlIdDlPMXh1SUNBZ0lIUm9hWE11WTNWeWNtVnVkRUZqZEdsdmJpQTlJRzUxYkd3N1hHNGdJQ0FnZEdocGN5NXNiMkZrWlhJZ1BTQmtiMk4xYldWdWRDNXhkV1Z5ZVZObGJHVmpkRzl5S0NjdWJHOWhaR1Z5SnlrN1hHNWNiaUFnSUNCM2FXNWtiM2N1WVdSa1JYWmxiblJNYVhOMFpXNWxjaWduY0c5d2MzUmhkR1VuTENBb1pTa2dQVDRnZTF4dUlDQWdJQ0FnZEdocGN5NXZibEJ2Y0ZOMFlYUmxLR1VwTzF4dUlDQWdJSDBwTzF4dVhHNGdJQ0FnZEdocGN5NXRZVzVoWjJWVGRHRjBaU2dwTzF4dUlDQjlYRzVjYmlBZ1lXUmtJQ2h3WVhSb0xDQmpZV3hzWW1GamEwbHVMQ0JqWVd4c1ltRmphMDkxZEN3Z1kyRnNiR0poWTJ0VmNHUmhkR1VwSUh0Y2JseHVJQ0FnSUM4dklFRnpjM1Z0WlNCMGFHVWdabWx5YzNRZ2NHRnlkQ0J2WmlCMGFHVWdjR0YwYUNCcGN5QjBhR1ZjYmlBZ0lDQXZMeUIyWlhKaUlIZGxJSGRoYm5RZ2RHOGdZV04wYVc5dUxDQjNhWFJvSUhSb1pTQnlaWE4wSUc5bUlIUm9aU0J3WVhSb1hHNGdJQ0FnTHk4Z1ltVnBibWNnZEdobElHUmhkR0VnZEc4Z2NHRnpjeUIwYnlCMGFHVWdhR0Z1Wkd4bGNpNWNiaUFnSUNCMllYSWdjR0YwYUZCaGNuUnpJRDBnY0dGMGFDNXpjR3hwZENnbkx5Y3BPMXh1SUNBZ0lIWmhjaUJoWTNScGIyNGdQU0J3WVhSb1VHRnlkSE11YzJocFpuUW9LVHRjYmx4dUlDQWdJR2xtSUNoMGFHbHpMbkp2ZFhSbGMxdGhZM1JwYjI1ZEtWeHVJQ0FnSUNBZ2RHaHliM2NnWENKQklHaGhibVJzWlhJZ1lXeHlaV0ZrZVNCbGVHbHpkSE1nWm05eUlIUm9hWE1nWVdOMGFXOXVPaUJjSWlBcklHRmpkR2x2Ymp0Y2JseHVJQ0FnSUhSb2FYTXVjbTkxZEdWelcyRmpkR2x2YmwwZ1BTQjdYRzRnSUNBZ0lDQnBiam9nWTJGc2JHSmhZMnRKYml4Y2JpQWdJQ0FnSUc5MWREb2dZMkZzYkdKaFkydFBkWFFzWEc0Z0lDQWdJQ0IxY0dSaGRHVTZJR05oYkd4aVlXTnJWWEJrWVhSbFhHNGdJQ0FnZlR0Y2JseHVJQ0FnSUM4dklFTm9aV05ySUhSdklITmxaU0JwWmlCMGFHbHpJSEJoZEdnZ2FYTWdablZzWm1sc2JHVmtMbHh1SUNBZ0lISmxjWFZsYzNSQmJtbHRZWFJwYjI1R2NtRnRaU2dvS1NBOVBpQjdYRzRnSUNBZ0lDQnBaaUFvZEdocGN5NXRZVzVoWjJWVGRHRjBaU2dwS1NCN1hHNGdJQ0FnSUNBZ0lHUnZZM1Z0Wlc1MExtSnZaSGt1WTJ4aGMzTk1hWE4wTG5KbGJXOTJaU2duWkdWbGNHeHBibXNuS1R0Y2JpQWdJQ0FnSUgxY2JpQWdJQ0I5S1R0Y2JpQWdmVnh1WEc0Z0lISmxiVzkyWlNBb2NHRjBhQ2tnZTF4dVhHNGdJQ0FnZG1GeUlIQmhkR2hRWVhKMGN5QTlJSEJoZEdndWMzQnNhWFFvSnk4bktUdGNiaUFnSUNCMllYSWdZV04wYVc5dUlEMGdjR0YwYUZCaGNuUnpMbk5vYVdaMEtDazdYRzVjYmlBZ0lDQnBaaUFvSVhSb2FYTXVjbTkxZEdWelcyRmpkR2x2YmwwcFhHNGdJQ0FnSUNCeVpYUjFjbTQ3WEc1Y2JpQWdJQ0JrWld4bGRHVWdkR2hwY3k1eWIzVjBaWE5iWVdOMGFXOXVYVHRjYmlBZ2ZWeHVYRzRnSUcxaGJtRm5aVk4wWVhSbElDZ3BJSHRjYmx4dUlDQWdJSFpoY2lCd1lYUm9JRDBnWkc5amRXMWxiblF1Ykc5allYUnBiMjR1Y0dGMGFHNWhiV1V1Y21Wd2JHRmpaU2d2WGx4Y0x5OHNJQ2NuS1R0Y2JseHVJQ0FnSUM4dklFRnpjM1Z0WlNCMGFHVWdabWx5YzNRZ2NHRnlkQ0J2WmlCMGFHVWdjR0YwYUNCcGN5QjBhR1ZjYmlBZ0lDQXZMeUIyWlhKaUlIZGxJSGRoYm5RZ2RHOGdZV04wYVc5dUxDQjNhWFJvSUhSb1pTQnlaWE4wSUc5bUlIUm9aU0J3WVhSb1hHNGdJQ0FnTHk4Z1ltVnBibWNnZEdobElHUmhkR0VnZEc4Z2NHRnpjeUIwYnlCMGFHVWdhR0Z1Wkd4bGNpNWNiaUFnSUNCMllYSWdjR0YwYUZCaGNuUnpJRDBnY0dGMGFDNXpjR3hwZENnbkx5Y3BPMXh1SUNBZ0lIWmhjaUJoWTNScGIyNGdQU0J3WVhSb1VHRnlkSE11YzJocFpuUW9LVHRjYmlBZ0lDQjJZWElnWkdGMFlTQTlJSEJoZEdoUVlYSjBjeTVxYjJsdUtDY3ZKeWs3WEc1Y2JpQWdJQ0F2THlCQlpHUWdZU0J6Y0dWamFXRnNJR05oYzJVZ1ptOXlJSFJvWlNCeWIyOTBMbHh1SUNBZ0lHbG1JQ2hoWTNScGIyNGdQVDA5SUNjbktWeHVJQ0FnSUNBZ1lXTjBhVzl1SUQwZ0oxOXliMjkwSnp0Y2JseHVJQ0FnSUM4dklGSmxiVzkyWlNCaGJua2daR1ZsY0d4cGJtc2dZMjkyWlhKekxseHVJQ0FnSUdsbUlDaGtiMk4xYldWdWRDNWliMlI1TG1Oc1lYTnpUR2x6ZEM1amIyNTBZV2x1Y3lnbllYQndMV1JsWlhCc2FXNXJKeWtwWEc0Z0lDQWdJQ0JrYjJOMWJXVnVkQzVpYjJSNUxtTnNZWE56VEdsemRDNXlaVzF2ZG1Vb0oyRndjQzFrWldWd2JHbHVheWNwTzF4dVhHNGdJQ0FnTHk4Z1NHbGtaU0IwYUdVZ2JHOWhaR1Z5TGx4dUlDQWdJSFJvYVhNdWJHOWhaR1Z5TG1Oc1lYTnpUR2x6ZEM1aFpHUW9KMmhwWkdSbGJpY3BPMXh1WEc0Z0lDQWdhV1lnS0hSb2FYTXVZM1Z5Y21WdWRFRmpkR2x2YmlBOVBUMGdkR2hwY3k1eWIzVjBaWE5iWVdOMGFXOXVYU2tnZTF4dVhHNGdJQ0FnSUNCcFppQW9kSGx3Wlc5bUlIUm9hWE11WTNWeWNtVnVkRUZqZEdsdmJpNTFjR1JoZEdVZ1BUMDlJQ2RtZFc1amRHbHZiaWNwSUh0Y2JpQWdJQ0FnSUNBZ2RHaHBjeTVqZFhKeVpXNTBRV04wYVc5dUxuVndaR0YwWlNoa1lYUmhLVHRjYmlBZ0lDQWdJQ0FnY21WMGRYSnVJSFJ5ZFdVN1hHNGdJQ0FnSUNCOVhHNWNiaUFnSUNBZ0lISmxkSFZ5YmlCbVlXeHpaVHRjYmlBZ0lDQjlYRzVjYmlBZ0lDQnBaaUFvSVhSb2FYTXVjbTkxZEdWelcyRmpkR2x2YmwwcElIdGNibHh1SUNBZ0lDQWdhV1lnS0hSb2FYTXVZM1Z5Y21WdWRFRmpkR2x2YmlsY2JpQWdJQ0FnSUNBZ2RHaHBjeTVqZFhKeVpXNTBRV04wYVc5dUxtOTFkQ2dwTzF4dVhHNGdJQ0FnSUNCMGFHbHpMbU4xY25KbGJuUkJZM1JwYjI0Z1BTQnVkV3hzTzF4dUlDQWdJQ0FnWkc5amRXMWxiblF1WW05a2VTNW1iMk4xY3lncE8xeHVJQ0FnSUNBZ2NtVjBkWEp1SUdaaGJITmxPMXh1SUNBZ0lIMWNibHh1SUNBZ0lDOHZJRk5sZENCMGFHVWdibVYzSUdGamRHbHZiaUJuYjJsdVp5NWNiaUFnSUNCMllYSWdaR1ZzWVhrZ1BTQjBhR2x6TG5KdmRYUmxjMXRoWTNScGIyNWRMbWx1S0dSaGRHRXBJSHg4SURBN1hHNWNiaUFnSUNBdkx5QlNaVzF2ZG1VZ2RHaGxJRzlzWkNCaFkzUnBiMjRnWVc1a0lIVndaR0YwWlNCMGFHVWdjbVZtWlhKbGJtTmxMbHh1SUNBZ0lHbG1JQ2gwYUdsekxtTjFjbkpsYm5SQlkzUnBiMjRwSUh0Y2JseHVJQ0FnSUNBZ0x5OGdRV3hzYjNjZ2RHaGxJR2x1WTI5dGFXNW5JSFpwWlhjZ2RHOGdaR1ZzWVhrZ2RHaGxJRzkxZEdkdmFXNW5JRzl1WlZ4dUlDQWdJQ0FnTHk4Z2MyOGdkR2hoZENCM1pTQmtiMjRuZENCblpYUWdkRzl2SUcxMVkyZ2diM1psY214aGNIQnBibWNnWVc1cGJXRjBhVzl1TGx4dUlDQWdJQ0FnYVdZZ0tHUmxiR0Y1SUQwOVBTQXdLVnh1SUNBZ0lDQWdJQ0IwYUdsekxtTjFjbkpsYm5SQlkzUnBiMjR1YjNWMEtDazdYRzRnSUNBZ0lDQmxiSE5sWEc0Z0lDQWdJQ0FnSUhObGRGUnBiV1Z2ZFhRb2RHaHBjeTVqZFhKeVpXNTBRV04wYVc5dUxtOTFkQ3dnWkdWc1lYa3BPMXh1SUNBZ0lIMWNibHh1SUNBZ0lIUm9hWE11WTNWeWNtVnVkRUZqZEdsdmJpQTlJSFJvYVhNdWNtOTFkR1Z6VzJGamRHbHZibDA3WEc1Y2JpQWdJQ0J5WlhSMWNtNGdkSEoxWlR0Y2JpQWdmVnh1WEc0Z0lHZHZJQ2h3WVhSb0tTQjdYRzVjYmlBZ0lDQXZMeUJQYm14NUlIQnliMk5sYzNNZ2NtVmhiQ0JqYUdGdVoyVnpMbHh1SUNBZ0lHbG1JQ2h3WVhSb0lEMDlQU0IzYVc1a2IzY3ViRzlqWVhScGIyNHVjR0YwYUc1aGJXVXBYRzRnSUNBZ0lDQnlaWFIxY200N1hHNWNiaUFnSUNCb2FYTjBiM0o1TG5CMWMyaFRkR0YwWlNoMWJtUmxabWx1WldRc0lGd2lYQ0lzSUhCaGRHZ3BPMXh1SUNBZ0lISmxjWFZsYzNSQmJtbHRZWFJwYjI1R2NtRnRaU2dvS1NBOVBpQjdYRzRnSUNBZ0lDQjBhR2x6TG0xaGJtRm5aVk4wWVhSbEtDazdYRzRnSUNBZ2ZTazdYRzRnSUgxY2JseHVJQ0J2YmxCdmNGTjBZWFJsSUNobEtTQjdYRzRnSUNBZ1pTNXdjbVYyWlc1MFJHVm1ZWFZzZENncE8xeHVJQ0FnSUhKbGNYVmxjM1JCYm1sdFlYUnBiMjVHY21GdFpTZ29LU0E5UGlCN1hHNGdJQ0FnSUNCMGFHbHpMbTFoYm1GblpWTjBZWFJsS0NrN1hHNGdJQ0FnZlNrN1hHNGdJSDFjYm4xY2JpSmRmUT09IiwiLyoqXG4gKlxuICogQ29weXJpZ2h0IDIwMTUgR29vZ2xlIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxudmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQoX3gsIF94MiwgX3gzKSB7IHZhciBfYWdhaW4gPSB0cnVlOyBfZnVuY3Rpb246IHdoaWxlIChfYWdhaW4pIHsgdmFyIG9iamVjdCA9IF94LCBwcm9wZXJ0eSA9IF94MiwgcmVjZWl2ZXIgPSBfeDM7IF9hZ2FpbiA9IGZhbHNlOyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgX3ggPSBwYXJlbnQ7IF94MiA9IHByb3BlcnR5OyBfeDMgPSByZWNlaXZlcjsgX2FnYWluID0gdHJ1ZTsgZGVzYyA9IHBhcmVudCA9IHVuZGVmaW5lZDsgY29udGludWUgX2Z1bmN0aW9uOyB9IH0gZWxzZSBpZiAoJ3ZhbHVlJyBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfSB9O1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSAnZnVuY3Rpb24nICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAnICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgX01vZGVsMiA9IHJlcXVpcmUoJy4vTW9kZWwnKTtcblxudmFyIF9Nb2RlbDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9Nb2RlbDIpO1xuXG52YXIgTWVtb01vZGVsID0gKGZ1bmN0aW9uIChfTW9kZWwpIHtcbiAgX2luaGVyaXRzKE1lbW9Nb2RlbCwgX01vZGVsKTtcblxuICBmdW5jdGlvbiBNZW1vTW9kZWwoZGF0YSwga2V5KSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1lbW9Nb2RlbCk7XG5cbiAgICBfZ2V0KE9iamVjdC5nZXRQcm90b3R5cGVPZihNZW1vTW9kZWwucHJvdG90eXBlKSwgJ2NvbnN0cnVjdG9yJywgdGhpcykuY2FsbCh0aGlzLCBrZXkpO1xuXG4gICAgdGhpcy50aXRsZSA9IGRhdGEudGl0bGUgfHwgJ1VudGl0bGVkIE1lbW8nO1xuICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkYXRhLmRlc2NyaXB0aW9uIHx8IG51bGw7XG4gICAgdGhpcy51cmwgPSBkYXRhLnVybCB8fCBNZW1vTW9kZWwubWFrZVVSTCgpO1xuICAgIHRoaXMuYXVkaW8gPSBkYXRhLmF1ZGlvIHx8IG51bGw7XG4gICAgdGhpcy52b2x1bWVEYXRhID0gZGF0YS52b2x1bWVEYXRhIHx8IG51bGw7XG4gICAgdGhpcy50aW1lID0gZGF0YS50aW1lIHx8IERhdGUubm93KCk7XG4gICAgdGhpcy50cmFuc2NyaXB0ID0gZGF0YS50cmFuc2NyaXB0IHx8IG51bGw7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoTWVtb01vZGVsLCBudWxsLCBbe1xuICAgIGtleTogJ21ha2VVUkwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtYWtlVVJMKCkge1xuICAgICAgdmFyIHVybCA9ICcnO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgIHVybCArPSBOdW1iZXIoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTYpKS50b1N0cmluZygxNik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB1cmw7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnVVBEQVRFRCcsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gJ01lbW9Nb2RlbC11cGRhdGVkJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzdG9yZU5hbWUnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuICdNZW1vTW9kZWwnO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBNZW1vTW9kZWw7XG59KShfTW9kZWwzWydkZWZhdWx0J10pO1xuXG5leHBvcnRzWydkZWZhdWx0J10gPSBNZW1vTW9kZWw7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklpOVZjMlZ5Y3k5b1pYSnRZVzUzTDBSdlkzVnRaVzUwY3k5b1pYSnRkMjl1Wnk5cGIzTlVaWE4wTDNOeVl5OXpZM0pwY0hSekwyMXZaR1ZzTDAxbGJXOU5iMlJsYkM1cWN5SmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaU96czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3YzBKQmFVSnJRaXhUUVVGVE96czdPMGxCUlU0c1UwRkJVenRaUVVGVUxGTkJRVk03TzBGQlJXaENMRmRCUms4c1UwRkJVeXhEUVVWbUxFbEJRVWtzUlVGQlJTeEhRVUZITEVWQlFVVTdNRUpCUmt3c1UwRkJVenM3UVVGSk1VSXNLMEpCU21sQ0xGTkJRVk1zTmtOQlNYQkNMRWRCUVVjc1JVRkJSVHM3UVVGRldDeFJRVUZKTEVOQlFVTXNTMEZCU3l4SFFVRkhMRWxCUVVrc1EwRkJReXhMUVVGTExFbEJRVWtzWlVGQlpTeERRVUZETzBGQlF6TkRMRkZCUVVrc1EwRkJReXhYUVVGWExFZEJRVWNzU1VGQlNTeERRVUZETEZkQlFWY3NTVUZCU1N4SlFVRkpMRU5CUVVNN1FVRkROVU1zVVVGQlNTeERRVUZETEVkQlFVY3NSMEZCUnl4SlFVRkpMRU5CUVVNc1IwRkJSeXhKUVVGSkxGTkJRVk1zUTBGQlF5eFBRVUZQTEVWQlFVVXNRMEZCUXp0QlFVTXpReXhSUVVGSkxFTkJRVU1zUzBGQlN5eEhRVUZITEVsQlFVa3NRMEZCUXl4TFFVRkxMRWxCUVVrc1NVRkJTU3hEUVVGRE8wRkJRMmhETEZGQlFVa3NRMEZCUXl4VlFVRlZMRWRCUVVjc1NVRkJTU3hEUVVGRExGVkJRVlVzU1VGQlNTeEpRVUZKTEVOQlFVTTdRVUZETVVNc1VVRkJTU3hEUVVGRExFbEJRVWtzUjBGQlJ5eEpRVUZKTEVOQlFVTXNTVUZCU1N4SlFVRkpMRWxCUVVrc1EwRkJReXhIUVVGSExFVkJRVVVzUTBGQlF6dEJRVU53UXl4UlFVRkpMRU5CUVVNc1ZVRkJWU3hIUVVGSExFbEJRVWtzUTBGQlF5eFZRVUZWTEVsQlFVa3NTVUZCU1N4RFFVRkRPMGRCUXpORE96dGxRV0pyUWl4VFFVRlRPenRYUVdWaUxHMUNRVUZITzBGQlEyaENMRlZCUVVrc1IwRkJSeXhIUVVGSExFVkJRVVVzUTBGQlF6dEJRVU5pTEZkQlFVc3NTVUZCU1N4RFFVRkRMRWRCUVVjc1EwRkJReXhGUVVGRkxFTkJRVU1zUjBGQlJ5eEZRVUZGTEVWQlFVVXNRMEZCUXl4RlFVRkZMRVZCUVVVN1FVRkRNMElzVjBGQlJ5eEpRVUZKTEUxQlFVMHNRMEZEVkN4SlFVRkpMRU5CUVVNc1MwRkJTeXhEUVVGRExFbEJRVWtzUTBGQlF5eE5RVUZOTEVWQlFVVXNSMEZCUnl4RlFVRkZMRU5CUVVNc1EwRkRha01zUTBGQlF5eFJRVUZSTEVOQlFVTXNSVUZCUlN4RFFVRkRMRU5CUVVNN1QwRkRhRUk3TzBGQlJVUXNZVUZCVHl4SFFVRkhMRU5CUVVNN1MwRkRXanM3TzFOQlJXdENMR1ZCUVVjN1FVRkRjRUlzWVVGQlR5eHRRa0ZCYlVJc1EwRkJRenRMUVVNMVFqczdPMU5CUlc5Q0xHVkJRVWM3UVVGRGRFSXNZVUZCVHl4WFFVRlhMRU5CUVVNN1MwRkRjRUk3T3p0VFFXaERhMElzVTBGQlV6czdPM0ZDUVVGVUxGTkJRVk1pTENKbWFXeGxJam9pTDFWelpYSnpMMmhsY20xaGJuY3ZSRzlqZFcxbGJuUnpMMmhsY20xM2IyNW5MMmx2YzFSbGMzUXZjM0pqTDNOamNtbHdkSE12Ylc5a1pXd3ZUV1Z0YjAxdlpHVnNMbXB6SWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaUx5b3FYRzRnS2x4dUlDb2dRMjl3ZVhKcFoyaDBJREl3TVRVZ1IyOXZaMnhsSUVsdVl5NGdRV3hzSUhKcFoyaDBjeUJ5WlhObGNuWmxaQzVjYmlBcVhHNGdLaUJNYVdObGJuTmxaQ0IxYm1SbGNpQjBhR1VnUVhCaFkyaGxJRXhwWTJWdWMyVXNJRlpsY25OcGIyNGdNaTR3SUNoMGFHVWdYQ0pNYVdObGJuTmxYQ0lwTzF4dUlDb2dlVzkxSUcxaGVTQnViM1FnZFhObElIUm9hWE1nWm1sc1pTQmxlR05sY0hRZ2FXNGdZMjl0Y0d4cFlXNWpaU0IzYVhSb0lIUm9aU0JNYVdObGJuTmxMbHh1SUNvZ1dXOTFJRzFoZVNCdlluUmhhVzRnWVNCamIzQjVJRzltSUhSb1pTQk1hV05sYm5ObElHRjBYRzRnS2x4dUlDb2dJQ0FnSUdoMGRIQTZMeTkzZDNjdVlYQmhZMmhsTG05eVp5OXNhV05sYm5ObGN5OU1TVU5GVGxORkxUSXVNRnh1SUNwY2JpQXFJRlZ1YkdWemN5QnlaWEYxYVhKbFpDQmllU0JoY0hCc2FXTmhZbXhsSUd4aGR5QnZjaUJoWjNKbFpXUWdkRzhnYVc0Z2QzSnBkR2x1Wnl3Z2MyOW1kSGRoY21WY2JpQXFJR1JwYzNSeWFXSjFkR1ZrSUhWdVpHVnlJSFJvWlNCTWFXTmxibk5sSUdseklHUnBjM1J5YVdKMWRHVmtJRzl1SUdGdUlGd2lRVk1nU1ZOY0lpQkNRVk5KVXl4Y2JpQXFJRmRKVkVoUFZWUWdWMEZTVWtGT1ZFbEZVeUJQVWlCRFQwNUVTVlJKVDA1VElFOUdJRUZPV1NCTFNVNUVMQ0JsYVhSb1pYSWdaWGh3Y21WemN5QnZjaUJwYlhCc2FXVmtMbHh1SUNvZ1UyVmxJSFJvWlNCTWFXTmxibk5sSUdadmNpQjBhR1VnYzNCbFkybG1hV01nYkdGdVozVmhaMlVnWjI5MlpYSnVhVzVuSUhCbGNtMXBjM05wYjI1eklHRnVaRnh1SUNvZ2JHbHRhWFJoZEdsdmJuTWdkVzVrWlhJZ2RHaGxJRXhwWTJWdWMyVXVYRzRnS2k5Y2JseHVhVzF3YjNKMElFMXZaR1ZzSUdaeWIyMGdKeTR2VFc5a1pXd25PMXh1WEc1bGVIQnZjblFnWkdWbVlYVnNkQ0JqYkdGemN5Qk5aVzF2VFc5a1pXd2daWGgwWlc1a2N5Qk5iMlJsYkNCN1hHNWNiaUFnWTI5dWMzUnlkV04wYjNJZ0tHUmhkR0VzSUd0bGVTa2dlMXh1WEc0Z0lDQWdjM1Z3WlhJb2EyVjVLVHRjYmx4dUlDQWdJSFJvYVhNdWRHbDBiR1VnUFNCa1lYUmhMblJwZEd4bElIeDhJQ2RWYm5ScGRHeGxaQ0JOWlcxdkp6dGNiaUFnSUNCMGFHbHpMbVJsYzJOeWFYQjBhVzl1SUQwZ1pHRjBZUzVrWlhOamNtbHdkR2x2YmlCOGZDQnVkV3hzTzF4dUlDQWdJSFJvYVhNdWRYSnNJRDBnWkdGMFlTNTFjbXdnZkh3Z1RXVnRiMDF2WkdWc0xtMWhhMlZWVWt3b0tUdGNiaUFnSUNCMGFHbHpMbUYxWkdsdklEMGdaR0YwWVM1aGRXUnBieUI4ZkNCdWRXeHNPMXh1SUNBZ0lIUm9hWE11ZG05c2RXMWxSR0YwWVNBOUlHUmhkR0V1ZG05c2RXMWxSR0YwWVNCOGZDQnVkV3hzTzF4dUlDQWdJSFJvYVhNdWRHbHRaU0E5SUdSaGRHRXVkR2x0WlNCOGZDQkVZWFJsTG01dmR5Z3BPMXh1SUNBZ0lIUm9hWE11ZEhKaGJuTmpjbWx3ZENBOUlHUmhkR0V1ZEhKaGJuTmpjbWx3ZENCOGZDQnVkV3hzTzF4dUlDQjlYRzVjYmlBZ2MzUmhkR2xqSUcxaGEyVlZVa3dnS0NrZ2UxeHVJQ0FnSUhaaGNpQjFjbXdnUFNBbkp6dGNiaUFnSUNCbWIzSWdLSFpoY2lCcElEMGdNRHNnYVNBOElERTJPeUJwS3lzcElIdGNiaUFnSUNBZ0lIVnliQ0FyUFNCT2RXMWlaWElvWEc0Z0lDQWdJQ0FnSUNBZ1RXRjBhQzVtYkc5dmNpaE5ZWFJvTG5KaGJtUnZiU2dwSUNvZ01UWXBYRzRnSUNBZ0lDQXBMblJ2VTNSeWFXNW5LREUyS1R0Y2JpQWdJQ0I5WEc1Y2JpQWdJQ0J5WlhSMWNtNGdkWEpzTzF4dUlDQjlYRzVjYmlBZ2MzUmhkR2xqSUdkbGRDQlZVRVJCVkVWRUlDZ3BJSHRjYmlBZ0lDQnlaWFIxY200Z0owMWxiVzlOYjJSbGJDMTFjR1JoZEdWa0p6dGNiaUFnZlZ4dVhHNGdJSE4wWVhScFl5Qm5aWFFnYzNSdmNtVk9ZVzFsSUNncElIdGNiaUFnSUNCeVpYUjFjbTRnSjAxbGJXOU5iMlJsYkNjN1hHNGdJSDFjYmx4dWZWeHVJbDE5IiwiLyoqXG4gKlxuICogQ29weXJpZ2h0IDIwMTUgR29vZ2xlIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IChmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoJ3ZhbHVlJyBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSkoKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxudmFyIF9saWJzRGF0YWJhc2UgPSByZXF1aXJlKCcuLi9saWJzL0RhdGFiYXNlJyk7XG5cbnZhciBfbGlic0RhdGFiYXNlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2xpYnNEYXRhYmFzZSk7XG5cbnZhciBfbGlic0NvbmZpZ01hbmFnZXIgPSByZXF1aXJlKCcuLi9saWJzL0NvbmZpZ01hbmFnZXInKTtcblxudmFyIF9saWJzQ29uZmlnTWFuYWdlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9saWJzQ29uZmlnTWFuYWdlcik7XG5cbnZhciBNb2RlbCA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1vZGVsKGtleSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNb2RlbCk7XG5cbiAgICB0aGlzLmtleSA9IGtleTtcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhNb2RlbCwgW3tcbiAgICBrZXk6ICdwdXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwdXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5wdXQodGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRWl0aGVyIGluc2VydHMgb3IgdXBkYXRlIGRlcGVuZGluZyBvbiB3aGV0aGVyIHRoZSBrZXkgLyBrZXlQYXRoIGlzIHNldC5cbiAgICAgKiBJZiB0aGUga2V5UGF0aCBpcyBzZXQsIGFuZCBhIHByb3BlcnR5IG9mIHRoZSB2YWx1ZSBtYXRjaGVzIChpbi1saW5lIGtleSlcbiAgICAgKiB0aGVuIHRoZSBvYmplY3QgaXMgdXBkYXRlZC4gSWYgdGhlIGtleVBhdGggaXMgbm90IHNldCBhbmQgdGhlIHZhbHVlJ3Mga2V5XG4gICAgICogaXMgbnVsbCwgdGhlbiB0aGUgb2JqZWN0IGlzIGluc2VydGVkLiBJZiB0aGUga2V5cGF0aCBpcyBub3Qgc2V0IGFuZCB0aGVcbiAgICAgKiB2YWx1ZSdzIGtleSBpcyBzZXQgdGhlbiB0aGUgb2JqZWN0IGlzIHVwZGF0ZWQuXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6ICdkZWxldGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3JbJ2RlbGV0ZSddKHRoaXMpO1xuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiAnbnVrZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG51a2UoKSB7XG4gICAgICByZXR1cm4gKDAsIF9saWJzRGF0YWJhc2UyWydkZWZhdWx0J10pKCkudGhlbihmdW5jdGlvbiAoZGIpIHtcbiAgICAgICAgcmV0dXJuIGRiLmNsb3NlKCk7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYikge1xuICAgICAgICByZXR1cm4gZGIubnVrZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0KGtleSkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBNb2RlbCkgUHJvbWlzZS5yZWplY3QoXCJDYW4ndCBjYWxsIGdldCBvbiBNb2RlbCBkaXJlY3RseS4gSW5oZXJpdCBmaXJzdC5cIik7XG5cbiAgICAgIHJldHVybiAoMCwgX2xpYnNEYXRhYmFzZTJbJ2RlZmF1bHQnXSkoKVxuXG4gICAgICAvLyBEbyB0aGUgcXVlcnkuXG4gICAgICAudGhlbihmdW5jdGlvbiAoZGIpIHtcbiAgICAgICAgcmV0dXJuIGRiLmdldChfdGhpcy5zdG9yZU5hbWUsIGtleSk7XG4gICAgICB9KVxuXG4gICAgICAvLyBXcmFwIHRoZSByZXN1bHQgaW4gdGhlIGNvcnJlY3QgY2xhc3MuXG4gICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG5cbiAgICAgICAgcmV0dXJuICgwLCBfbGlic0NvbmZpZ01hbmFnZXIyWydkZWZhdWx0J10pKCkudGhlbihmdW5jdGlvbiAoY29uZmlnTWFuYWdlcikge1xuXG4gICAgICAgICAgdmFyIHN0b3JlID0gY29uZmlnTWFuYWdlci5nZXRTdG9yZShfdGhpcy5zdG9yZU5hbWUpO1xuXG4gICAgICAgICAgaWYgKCFyZXN1bHQpIHJldHVybjtcblxuICAgICAgICAgIHZhciByZXN1bHRLZXkgPSBrZXk7XG5cbiAgICAgICAgICAvLyBJZiB0aGUgc3RvcmUgdXNlcyBhIGtleXBhdGggdGhlbiByZXNldFxuICAgICAgICAgIC8vIHRoZSBrZXkgYmFjayB0byB1bmRlZmluZWQuXG4gICAgICAgICAgaWYgKHN0b3JlLnByb3BlcnRpZXMua2V5UGF0aCkgcmVzdWx0S2V5ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgcmV0dXJuIG5ldyBfdGhpcyhyZXN1bHQsIHJlc3VsdEtleSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgdGhlIG9iamVjdHMgZnJvbSB0aGUgZGF0YWJhc2UuXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRBbGwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbGwoaW5kZXgsIG9yZGVyKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBNb2RlbCkgUHJvbWlzZS5yZWplY3QoXCJDYW4ndCBjYWxsIGdldEFsbCBvbiBNb2RlbCBkaXJlY3RseS4gSW5oZXJpdCBmaXJzdC5cIik7XG5cbiAgICAgIHJldHVybiAoMCwgX2xpYnNEYXRhYmFzZTJbJ2RlZmF1bHQnXSkoKVxuXG4gICAgICAvLyBEbyB0aGUgcXVlcnkuXG4gICAgICAudGhlbihmdW5jdGlvbiAoZGIpIHtcbiAgICAgICAgcmV0dXJuIGRiLmdldEFsbChfdGhpczIuc3RvcmVOYW1lLCBpbmRleCwgb3JkZXIpO1xuICAgICAgfSlcblxuICAgICAgLy8gV3JhcCBhbGwgdGhlIHJlc3VsdHMgaW4gdGhlIGNvcnJlY3QgY2xhc3MuXG4gICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuXG4gICAgICAgIHJldHVybiAoMCwgX2xpYnNDb25maWdNYW5hZ2VyMlsnZGVmYXVsdCddKSgpLnRoZW4oZnVuY3Rpb24gKGNvbmZpZ01hbmFnZXIpIHtcblxuICAgICAgICAgIHZhciBzdG9yZSA9IGNvbmZpZ01hbmFnZXIuZ2V0U3RvcmUoX3RoaXMyLnN0b3JlTmFtZSk7XG4gICAgICAgICAgdmFyIHJlc3VsdHNfID0gW107XG5cbiAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHJlc3VsdHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgIHZhciByZXN1bHQgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICB2YXIga2V5ID0gcmVzdWx0LmtleTtcblxuICAgICAgICAgICAgICAvLyBJZiB0aGUgc3RvcmUgdXNlcyBhIGtleXBhdGggdGhlbiByZXNldFxuICAgICAgICAgICAgICAvLyB0aGUga2V5IGJhY2sgdG8gdW5kZWZpbmVkLlxuICAgICAgICAgICAgICBpZiAoc3RvcmUucHJvcGVydGllcy5rZXlQYXRoKSBrZXkgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgcmVzdWx0c18ucHVzaChuZXcgX3RoaXMyKHJlc3VsdC52YWx1ZSwga2V5KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvclsncmV0dXJuJ10pIHtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3JbJ3JldHVybiddKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHJlc3VsdHNfO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3B1dCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHB1dCh2YWx1ZSkge1xuICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgTW9kZWwpIFByb21pc2UucmVqZWN0KFwiQ2FuJ3QgY2FsbCBwdXQgb24gTW9kZWwgZGlyZWN0bHkuIEluaGVyaXQgZmlyc3QuXCIpO1xuXG4gICAgICByZXR1cm4gKDAsIF9saWJzRGF0YWJhc2UyWydkZWZhdWx0J10pKClcblxuICAgICAgLy8gRG8gdGhlIHF1ZXJ5LlxuICAgICAgLnRoZW4oZnVuY3Rpb24gKGRiKSB7XG4gICAgICAgIHJldHVybiBkYi5wdXQoX3RoaXMzLnN0b3JlTmFtZSwgdmFsdWUsIHZhbHVlLmtleSk7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChrZXkpIHtcblxuICAgICAgICByZXR1cm4gKDAsIF9saWJzQ29uZmlnTWFuYWdlcjJbJ2RlZmF1bHQnXSkoKS50aGVuKGZ1bmN0aW9uIChjb25maWdNYW5hZ2VyKSB7XG5cbiAgICAgICAgICAvLyBJbnNlcnRpbmcgbWF5IHByb3ZpZGUgYSBrZXkuIElmIHRoZXJlIGlzIG5vIGtleVBhdGggc2V0XG4gICAgICAgICAgLy8gdGhlIG9iamVjdCBuZWVkcyB0byBiZSB1cGRhdGVkIHdpdGggYSBrZXkgdmFsdWUgc28gaXQgY2FuXG4gICAgICAgICAgLy8gYmUgYWx0ZXJlZCBhbmQgc2F2ZWQgYWdhaW4gd2l0aG91dCBjcmVhdGluZyBhIG5ldyByZWNvcmQuXG4gICAgICAgICAgdmFyIHN0b3JlID0gY29uZmlnTWFuYWdlci5nZXRTdG9yZShfdGhpczMuc3RvcmVOYW1lKTtcblxuICAgICAgICAgIHZhciBrZXlQYXRoID0gc3RvcmUucHJvcGVydGllcy5rZXlQYXRoO1xuXG4gICAgICAgICAgaWYgKCFrZXlQYXRoKSB2YWx1ZS5rZXkgPSBrZXk7XG5cbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZGVsZXRlQWxsJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGVsZXRlQWxsKCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzIGluc3RhbmNlb2YgTW9kZWwpIFByb21pc2UucmVqZWN0KFwiQ2FuJ3QgY2FsbCBkZWxldGVBbGwgb24gTW9kZWwgZGlyZWN0bHkuIEluaGVyaXQgZmlyc3QuXCIpO1xuXG4gICAgICByZXR1cm4gKDAsIF9saWJzRGF0YWJhc2UyWydkZWZhdWx0J10pKCkudGhlbihmdW5jdGlvbiAoZGIpIHtcbiAgICAgICAgcmV0dXJuIGRiLmRlbGV0ZUFsbChfdGhpczQuc3RvcmVOYW1lKTtcbiAgICAgIH0pWydjYXRjaCddKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIC8vIEl0IG1heSBiZSB0aGF0IHRoZSBzdG9yZSBkb2Vzbid0IGV4aXN0IHlldCwgc28gcmVsYXggZm9yIHRoYXQgb25lLlxuICAgICAgICBpZiAoZS5uYW1lICE9PSAnTm90Rm91bmRFcnJvcicpIHRocm93IGU7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdkZWxldGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKHZhbHVlKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgaWYgKHRoaXMgaW5zdGFuY2VvZiBNb2RlbCkgUHJvbWlzZS5yZWplY3QoXCJDYW4ndCBjYWxsIGRlbGV0ZSBvbiBNb2RlbCBkaXJlY3RseS4gSW5oZXJpdCBmaXJzdC5cIik7XG5cbiAgICAgIHJldHVybiAoMCwgX2xpYnNDb25maWdNYW5hZ2VyMlsnZGVmYXVsdCddKSgpLnRoZW4oZnVuY3Rpb24gKGNvbmZpZ01hbmFnZXIpIHtcblxuICAgICAgICAvLyBJZiBwYXNzZWQgdGhlIGZ1bGwgb2JqZWN0IHRvIGRlbGV0ZSB0aGVuXG4gICAgICAgIC8vIGdyYWIgaXRzIGtleSBmb3IgdGhlIGRlbGV0ZVxuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBfdGhpczUpIHtcblxuICAgICAgICAgIHZhciBzdG9yZSA9IGNvbmZpZ01hbmFnZXIuZ2V0U3RvcmUoX3RoaXM1LnN0b3JlTmFtZSk7XG4gICAgICAgICAgdmFyIGtleVBhdGggPSBzdG9yZS5wcm9wZXJ0aWVzLmtleVBhdGg7XG5cbiAgICAgICAgICBpZiAoa2V5UGF0aCkgdmFsdWUgPSB2YWx1ZVtrZXlQYXRoXTtlbHNlIHZhbHVlID0gdmFsdWUua2V5O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICgwLCBfbGlic0RhdGFiYXNlMlsnZGVmYXVsdCddKSgpLnRoZW4oZnVuY3Rpb24gKGRiKSB7XG4gICAgICAgICAgcmV0dXJuIGRiWydkZWxldGUnXShfdGhpczUuc3RvcmVOYW1lLCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnQVNDRU5ESU5HJyxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiAnbmV4dCc7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnREVTQ0VORElORycsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gJ3ByZXYnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ1VQREFURUQnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuICdNb2RlbC11cGRhdGVkJztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzdG9yZU5hbWUnLFxuICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgcmV0dXJuICdNb2RlbCc7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1vZGVsO1xufSkoKTtcblxuZXhwb3J0c1snZGVmYXVsdCddID0gTW9kZWw7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklpOVZjMlZ5Y3k5b1pYSnRZVzUzTDBSdlkzVnRaVzUwY3k5b1pYSnRkMjl1Wnk5cGIzTlVaWE4wTDNOeVl5OXpZM0pwY0hSekwyMXZaR1ZzTDAxdlpHVnNMbXB6SWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUk3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pSQ1FXbENOa0lzYTBKQlFXdENPenM3TzJsRFFVTmlMSFZDUVVGMVFqczdPenRKUVVWd1F5eExRVUZMTzBGQlJWb3NWMEZHVHl4TFFVRkxMRU5CUlZnc1IwRkJSeXhGUVVGRk96QkNRVVpETEV0QlFVczdPMEZCUjNSQ0xGRkJRVWtzUTBGQlF5eEhRVUZITEVkQlFVY3NSMEZCUnl4RFFVRkRPMGRCUTJoQ096dGxRVXByUWl4TFFVRkxPenRYUVhkSGNFSXNaVUZCUnp0QlFVTk1MR0ZCUVU4c1NVRkJTU3hEUVVGRExGZEJRVmNzUTBGQlF5eEhRVUZITEVOQlFVTXNTVUZCU1N4RFFVRkRMRU5CUVVNN1MwRkRia003T3pzN096czdPenM3TzFkQk1rUk5MRzFDUVVGSE8wRkJRMUlzWVVGQlR5eEpRVUZKTEVOQlFVTXNWMEZCVnl4VlFVRlBMRU5CUVVNc1NVRkJTU3hEUVVGRExFTkJRVU03UzBGRGRFTTdPenRYUVdwS1Z5eG5Ra0ZCUnp0QlFVTmlMR0ZCUVU4c1owTkJRV3RDTEVOQlEzQkNMRWxCUVVrc1EwRkJSU3hWUVVGQkxFVkJRVVU3WlVGQlNTeEZRVUZGTEVOQlFVTXNTMEZCU3l4RlFVRkZPMDlCUVVFc1EwRkJSU3hEUVVONFFpeEpRVUZKTEVOQlFVVXNWVUZCUVN4RlFVRkZPMlZCUVVrc1JVRkJSU3hEUVVGRExFbEJRVWtzUlVGQlJUdFBRVUZCTEVOQlFVVXNRMEZCUXp0TFFVTTVRanM3TzFkQlJWVXNZVUZCUXl4SFFVRkhMRVZCUVVVN096dEJRVVZtTEZWQlFVa3NTVUZCU1N4WlFVRlpMRXRCUVVzc1JVRkRka0lzVDBGQlR5eERRVUZETEUxQlFVMHNRMEZCUXl4clJFRkJhMFFzUTBGQlF5eERRVUZET3p0QlFVVnlSU3hoUVVGUExHZERRVUZyUWpzN08wOUJSM0JDTEVsQlFVa3NRMEZCUlN4VlFVRkJMRVZCUVVVN1pVRkJTU3hGUVVGRkxFTkJRVU1zUjBGQlJ5eERRVUZETEUxQlFVc3NVMEZCVXl4RlFVRkZMRWRCUVVjc1EwRkJRenRQUVVGQkxFTkJRVVU3T3p0UFFVZDZReXhKUVVGSkxFTkJRVVVzVlVGQlFTeE5RVUZOTEVWQlFVazdPMEZCUldZc1pVRkJUeXh4UTBGQmRVSXNRMEZCUXl4SlFVRkpMRU5CUVVVc1ZVRkJRU3hoUVVGaExFVkJRVWs3TzBGQlJYQkVMR05CUVVrc1MwRkJTeXhIUVVGSExHRkJRV0VzUTBGQlF5eFJRVUZSTEVOQlFVTXNUVUZCU3l4VFFVRlRMRU5CUVVNc1EwRkJRenM3UVVGRmJrUXNZMEZCU1N4RFFVRkRMRTFCUVUwc1JVRkRWQ3hQUVVGUE96dEJRVVZVTEdOQlFVa3NVMEZCVXl4SFFVRkhMRWRCUVVjc1EwRkJRenM3T3p0QlFVbHdRaXhqUVVGSkxFdEJRVXNzUTBGQlF5eFZRVUZWTEVOQlFVTXNUMEZCVHl4RlFVTXhRaXhUUVVGVExFZEJRVWNzVTBGQlV5eERRVUZET3p0QlFVVjRRaXhwUWtGQlR5eFZRVUZUTEUxQlFVMHNSVUZCUlN4VFFVRlRMRU5CUVVNc1EwRkJRenRUUVVWd1F5eERRVUZETEVOQlFVTTdUMEZGU2l4RFFVRkRMRU5CUVVNN1MwRkZVanM3T3pzN096dFhRVXRoTEdkQ1FVRkRMRXRCUVVzc1JVRkJSU3hMUVVGTExFVkJRVVU3T3p0QlFVVXpRaXhWUVVGSkxFbEJRVWtzV1VGQldTeExRVUZMTEVWQlEzWkNMRTlCUVU4c1EwRkJReXhOUVVGTkxFTkJRVU1zY1VSQlFYRkVMRU5CUVVNc1EwRkJRenM3UVVGRmVFVXNZVUZCVHl4blEwRkJhMEk3T3p0UFFVZHdRaXhKUVVGSkxFTkJRVVVzVlVGQlFTeEZRVUZGTzJWQlFVa3NSVUZCUlN4RFFVRkRMRTFCUVUwc1EwRkJReXhQUVVGTExGTkJRVk1zUlVGQlJTeExRVUZMTEVWQlFVVXNTMEZCU3l4RFFVRkRPMDlCUVVFc1EwRkJSVHM3TzA5QlIzSkVMRWxCUVVrc1EwRkJSU3hWUVVGQkxFOUJRVThzUlVGQlNUczdRVUZGYUVJc1pVRkJUeXh4UTBGQmRVSXNRMEZCUXl4SlFVRkpMRU5CUVVVc1ZVRkJRU3hoUVVGaExFVkJRVWs3TzBGQlJYQkVMR05CUVVrc1MwRkJTeXhIUVVGSExHRkJRV0VzUTBGQlF5eFJRVUZSTEVOQlFVTXNUMEZCU3l4VFFVRlRMRU5CUVVNc1EwRkJRenRCUVVOdVJDeGpRVUZKTEZGQlFWRXNSMEZCUnl4RlFVRkZMRU5CUVVNN096czdPenM3UVVGRmJFSXNhVU5CUVcxQ0xFOUJRVThzT0VoQlFVVTdhMEpCUVc1Q0xFMUJRVTA3TzBGQlJXSXNhMEpCUVVrc1IwRkJSeXhIUVVGSExFMUJRVTBzUTBGQlF5eEhRVUZITEVOQlFVTTdPenM3UVVGSmNrSXNhMEpCUVVrc1MwRkJTeXhEUVVGRExGVkJRVlVzUTBGQlF5eFBRVUZQTEVWQlF6RkNMRWRCUVVjc1IwRkJSeXhUUVVGVExFTkJRVU03TzBGQlJXeENMSE5DUVVGUkxFTkJRVU1zU1VGQlNTeERRVUZETEZkQlFWTXNUVUZCVFN4RFFVRkRMRXRCUVVzc1JVRkJSU3hIUVVGSExFTkJRVU1zUTBGQlF5eERRVUZETzJGQlF6VkRPenM3T3pzN096czdPenM3T3pzN08wRkJSVVFzYVVKQlFVOHNVVUZCVVN4RFFVRkRPMU5CUldwQ0xFTkJRVU1zUTBGQlF6dFBRVVZLTEVOQlFVTXNRMEZCUXp0TFFVVlNPenM3VjBGaFZTeGhRVUZETEV0QlFVc3NSVUZCUlRzN08wRkJSV3BDTEZWQlFVa3NTVUZCU1N4WlFVRlpMRXRCUVVzc1JVRkRka0lzVDBGQlR5eERRVUZETEUxQlFVMHNRMEZCUXl4clJFRkJhMFFzUTBGQlF5eERRVUZET3p0QlFVVnlSU3hoUVVGUExHZERRVUZyUWpzN08wOUJSM0JDTEVsQlFVa3NRMEZCUlN4VlFVRkJMRVZCUVVVN1pVRkJTU3hGUVVGRkxFTkJRVU1zUjBGQlJ5eERRVUZGTEU5QlFVc3NVMEZCVXl4RlFVRkZMRXRCUVVzc1JVRkJSU3hMUVVGTExFTkJRVU1zUjBGQlJ5eERRVUZGTzA5QlFVRXNRMEZCUlN4RFFVVjRSQ3hKUVVGSkxFTkJRVVVzVlVGQlFTeEhRVUZITEVWQlFVazdPMEZCUlZvc1pVRkJUeXh4UTBGQmRVSXNRMEZCUXl4SlFVRkpMRU5CUVVVc1ZVRkJRU3hoUVVGaExFVkJRVWs3T3pzN08wRkJTM0JFTEdOQlFVa3NTMEZCU3l4SFFVRkhMR0ZCUVdFc1EwRkJReXhSUVVGUkxFTkJRVVVzVDBGQlN5eFRRVUZUTEVOQlFVVXNRMEZCUXpzN1FVRkZja1FzWTBGQlNTeFBRVUZQTEVkQlExQXNTMEZCU3l4RFFVRkRMRlZCUVZVc1EwRkJReXhQUVVGUExFTkJRVU03TzBGQlJUZENMR05CUVVrc1EwRkJReXhQUVVGUExFVkJRMVlzUzBGQlN5eERRVUZETEVkQlFVY3NSMEZCUnl4SFFVRkhMRU5CUVVNN08wRkJSV3hDTEdsQ1FVRlBMRXRCUVVzc1EwRkJRenRUUVVWa0xFTkJRVU1zUTBGQlFUdFBRVVZJTEVOQlFVTXNRMEZCUXp0TFFVVlNPenM3VjBGRlowSXNjVUpCUVVjN096dEJRVVZzUWl4VlFVRkpMRWxCUVVrc1dVRkJXU3hMUVVGTExFVkJRM1pDTEU5QlFVOHNRMEZCUXl4TlFVRk5MRU5CUVVNc2QwUkJRWGRFTEVOQlFVTXNRMEZCUXpzN1FVRkZNMFVzWVVGQlR5eG5RMEZCYTBJc1EwRkZjRUlzU1VGQlNTeERRVUZGTEZWQlFVRXNSVUZCUlR0bFFVRkpMRVZCUVVVc1EwRkJReXhUUVVGVExFTkJRVVVzVDBGQlN5eFRRVUZUTEVOQlFVVTdUMEZCUVN4RFFVRkZMRk5CUlhaRExFTkJRVVVzVlVGQlFTeERRVUZETEVWQlFVazdPMEZCUlZnc1dVRkJTU3hEUVVGRExFTkJRVU1zU1VGQlNTeExRVUZMTEdWQlFXVXNSVUZETlVJc1RVRkJUU3hEUVVGRExFTkJRVU03VDBGRFdDeERRVUZETEVOQlFVTTdTMEZGVWpzN08xZEJUV0VzYVVKQlFVTXNTMEZCU3l4RlFVRkZPenM3UVVGRmNFSXNWVUZCU1N4SlFVRkpMRmxCUVZrc1MwRkJTeXhGUVVOMlFpeFBRVUZQTEVOQlFVTXNUVUZCVFN4RFFVRkRMSEZFUVVGeFJDeERRVUZETEVOQlFVTTdPMEZCUlhoRkxHRkJRVThzY1VOQlFYVkNMRU5CUVVNc1NVRkJTU3hEUVVGRkxGVkJRVUVzWVVGQllTeEZRVUZKT3pzN08wRkJTWEJFTEZsQlFVa3NTMEZCU3l4clFrRkJaMElzUlVGQlJUczdRVUZGZWtJc1kwRkJTU3hMUVVGTExFZEJRVWNzWVVGQllTeERRVUZETEZGQlFWRXNRMEZCUlN4UFFVRkxMRk5CUVZNc1EwRkJSU3hEUVVGRE8wRkJRM0pFTEdOQlFVa3NUMEZCVHl4SFFVRkhMRXRCUVVzc1EwRkJReXhWUVVGVkxFTkJRVU1zVDBGQlR5eERRVUZET3p0QlFVVjJReXhqUVVGSkxFOUJRVThzUlVGRFZDeExRVUZMTEVkQlFVY3NTMEZCU3l4RFFVRkRMRTlCUVU4c1EwRkJReXhEUVVGRExFdEJSWFpDTEV0QlFVc3NSMEZCUnl4TFFVRkxMRU5CUVVNc1IwRkJSeXhEUVVGRE8xTkJRM0pDT3p0QlFVVkVMR1ZCUVU4c1owTkJRV3RDTEVOQlJYUkNMRWxCUVVrc1EwRkJSU3hWUVVGQkxFVkJRVVU3YVVKQlFVa3NSVUZCUlN4VlFVRlBMRU5CUVVVc1QwRkJTeXhUUVVGVExFVkJRVVVzUzBGQlN5eERRVUZGTzFOQlFVRXNRMEZCUlN4RFFVRkRPMDlCUlhKRUxFTkJRVU1zUTBGQlF6dExRVU5LT3pzN1UwRTFURzlDTEdWQlFVYzdRVUZEZEVJc1lVRkJUeXhOUVVGTkxFTkJRVU03UzBGRFpqczdPMU5CUlhGQ0xHVkJRVWM3UVVGRGRrSXNZVUZCVHl4TlFVRk5MRU5CUVVNN1MwRkRaanM3TzFOQlJXdENMR1ZCUVVjN1FVRkRjRUlzWVVGQlR5eGxRVUZsTEVOQlFVTTdTMEZEZUVJN096dFRRVVZ2UWl4bFFVRkhPMEZCUTNSQ0xHRkJRVThzVDBGQlR5eERRVUZETzB0QlEyaENPenM3VTBGd1FtdENMRXRCUVVzN096dHhRa0ZCVEN4TFFVRkxJaXdpWm1sc1pTSTZJaTlWYzJWeWN5OW9aWEp0WVc1M0wwUnZZM1Z0Wlc1MGN5OW9aWEp0ZDI5dVp5OXBiM05VWlhOMEwzTnlZeTl6WTNKcGNIUnpMMjF2WkdWc0wwMXZaR1ZzTG1weklpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2lMeW9xWEc0Z0tseHVJQ29nUTI5d2VYSnBaMmgwSURJd01UVWdSMjl2WjJ4bElFbHVZeTRnUVd4c0lISnBaMmgwY3lCeVpYTmxjblpsWkM1Y2JpQXFYRzRnS2lCTWFXTmxibk5sWkNCMWJtUmxjaUIwYUdVZ1FYQmhZMmhsSUV4cFkyVnVjMlVzSUZabGNuTnBiMjRnTWk0d0lDaDBhR1VnWENKTWFXTmxibk5sWENJcE8xeHVJQ29nZVc5MUlHMWhlU0J1YjNRZ2RYTmxJSFJvYVhNZ1ptbHNaU0JsZUdObGNIUWdhVzRnWTI5dGNHeHBZVzVqWlNCM2FYUm9JSFJvWlNCTWFXTmxibk5sTGx4dUlDb2dXVzkxSUcxaGVTQnZZblJoYVc0Z1lTQmpiM0I1SUc5bUlIUm9aU0JNYVdObGJuTmxJR0YwWEc0Z0tseHVJQ29nSUNBZ0lHaDBkSEE2THk5M2QzY3VZWEJoWTJobExtOXlaeTlzYVdObGJuTmxjeTlNU1VORlRsTkZMVEl1TUZ4dUlDcGNiaUFxSUZWdWJHVnpjeUJ5WlhGMWFYSmxaQ0JpZVNCaGNIQnNhV05oWW14bElHeGhkeUJ2Y2lCaFozSmxaV1FnZEc4Z2FXNGdkM0pwZEdsdVp5d2djMjltZEhkaGNtVmNiaUFxSUdScGMzUnlhV0oxZEdWa0lIVnVaR1Z5SUhSb1pTQk1hV05sYm5ObElHbHpJR1JwYzNSeWFXSjFkR1ZrSUc5dUlHRnVJRndpUVZNZ1NWTmNJaUJDUVZOSlV5eGNiaUFxSUZkSlZFaFBWVlFnVjBGU1VrRk9WRWxGVXlCUFVpQkRUMDVFU1ZSSlQwNVRJRTlHSUVGT1dTQkxTVTVFTENCbGFYUm9aWElnWlhod2NtVnpjeUJ2Y2lCcGJYQnNhV1ZrTGx4dUlDb2dVMlZsSUhSb1pTQk1hV05sYm5ObElHWnZjaUIwYUdVZ2MzQmxZMmxtYVdNZ2JHRnVaM1ZoWjJVZ1oyOTJaWEp1YVc1bklIQmxjbTFwYzNOcGIyNXpJR0Z1WkZ4dUlDb2diR2x0YVhSaGRHbHZibk1nZFc1a1pYSWdkR2hsSUV4cFkyVnVjMlV1WEc0Z0tpOWNibHh1YVcxd2IzSjBJRVJoZEdGaVlYTmxTVzV6ZEdGdVkyVWdabkp2YlNBbkxpNHZiR2xpY3k5RVlYUmhZbUZ6WlNjN1hHNXBiWEJ2Y25RZ1EyOXVabWxuVFdGdVlXZGxja2x1YzNSaGJtTmxJR1p5YjIwZ0p5NHVMMnhwWW5NdlEyOXVabWxuVFdGdVlXZGxjaWM3WEc1Y2JtVjRjRzl5ZENCa1pXWmhkV3gwSUdOc1lYTnpJRTF2WkdWc0lIdGNibHh1SUNCamIyNXpkSEoxWTNSdmNpQW9hMlY1S1NCN1hHNGdJQ0FnZEdocGN5NXJaWGtnUFNCclpYazdYRzRnSUgxY2JseHVJQ0J6ZEdGMGFXTWdaMlYwSUVGVFEwVk9SRWxPUnlBb0tTQjdYRzRnSUNBZ2NtVjBkWEp1SUNkdVpYaDBKenRjYmlBZ2ZWeHVYRzRnSUhOMFlYUnBZeUJuWlhRZ1JFVlRRMFZPUkVsT1J5QW9LU0I3WEc0Z0lDQWdjbVYwZFhKdUlDZHdjbVYySnp0Y2JpQWdmVnh1WEc0Z0lITjBZWFJwWXlCblpYUWdWVkJFUVZSRlJDQW9LU0I3WEc0Z0lDQWdjbVYwZFhKdUlDZE5iMlJsYkMxMWNHUmhkR1ZrSnp0Y2JpQWdmVnh1WEc0Z0lITjBZWFJwWXlCblpYUWdjM1J2Y21WT1lXMWxJQ2dwSUh0Y2JpQWdJQ0J5WlhSMWNtNGdKMDF2WkdWc0p6dGNiaUFnZlZ4dVhHNGdJSE4wWVhScFl5QnVkV3RsSUNncElIdGNiaUFnSUNCeVpYUjFjbTRnUkdGMFlXSmhjMlZKYm5OMFlXNWpaU2dwWEc0Z0lDQWdJQ0FnSUM1MGFHVnVLQ0JrWWlBOVBpQmtZaTVqYkc5elpTZ3BJQ2xjYmlBZ0lDQWdJQ0FnTG5Sb1pXNG9JR1JpSUQwK0lHUmlMbTUxYTJVb0tTQXBPMXh1SUNCOVhHNWNiaUFnYzNSaGRHbGpJR2RsZENBb2EyVjVLU0I3WEc1Y2JpQWdJQ0JwWmlBb2RHaHBjeUJwYm5OMFlXNWpaVzltSUUxdlpHVnNLVnh1SUNBZ0lDQWdVSEp2YldselpTNXlaV3BsWTNRb1hDSkRZVzRuZENCallXeHNJR2RsZENCdmJpQk5iMlJsYkNCa2FYSmxZM1JzZVM0Z1NXNW9aWEpwZENCbWFYSnpkQzVjSWlrN1hHNWNiaUFnSUNCeVpYUjFjbTRnUkdGMFlXSmhjMlZKYm5OMFlXNWpaU2dwWEc1Y2JpQWdJQ0FnSUNBZ0x5OGdSRzhnZEdobElIRjFaWEo1TGx4dUlDQWdJQ0FnSUNBdWRHaGxiaWdnWkdJZ1BUNGdaR0l1WjJWMEtIUm9hWE11YzNSdmNtVk9ZVzFsTENCclpYa3BJQ2xjYmx4dUlDQWdJQ0FnSUNBdkx5QlhjbUZ3SUhSb1pTQnlaWE4xYkhRZ2FXNGdkR2hsSUdOdmNuSmxZM1FnWTJ4aGMzTXVYRzRnSUNBZ0lDQWdJQzUwYUdWdUtDQnlaWE4xYkhRZ1BUNGdlMXh1WEc0Z0lDQWdJQ0FnSUNBZ2NtVjBkWEp1SUVOdmJtWnBaMDFoYm1GblpYSkpibk4wWVc1alpTZ3BMblJvWlc0b0lHTnZibVpwWjAxaGJtRm5aWElnUFQ0Z2UxeHVYRzRnSUNBZ0lDQWdJQ0FnSUNCMllYSWdjM1J2Y21VZ1BTQmpiMjVtYVdkTllXNWhaMlZ5TG1kbGRGTjBiM0psS0hSb2FYTXVjM1J2Y21WT1lXMWxLVHRjYmx4dUlDQWdJQ0FnSUNBZ0lDQWdhV1lnS0NGeVpYTjFiSFFwWEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJSEpsZEhWeWJqdGNibHh1SUNBZ0lDQWdJQ0FnSUNBZ2RtRnlJSEpsYzNWc2RFdGxlU0E5SUd0bGVUdGNibHh1SUNBZ0lDQWdJQ0FnSUNBZ0x5OGdTV1lnZEdobElITjBiM0psSUhWelpYTWdZU0JyWlhsd1lYUm9JSFJvWlc0Z2NtVnpaWFJjYmlBZ0lDQWdJQ0FnSUNBZ0lDOHZJSFJvWlNCclpYa2dZbUZqYXlCMGJ5QjFibVJsWm1sdVpXUXVYRzRnSUNBZ0lDQWdJQ0FnSUNCcFppQW9jM1J2Y21VdWNISnZjR1Z5ZEdsbGN5NXJaWGxRWVhSb0tWeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNCeVpYTjFiSFJMWlhrZ1BTQjFibVJsWm1sdVpXUTdYRzVjYmlBZ0lDQWdJQ0FnSUNBZ0lISmxkSFZ5YmlCdVpYY2dkR2hwY3loeVpYTjFiSFFzSUhKbGMzVnNkRXRsZVNrN1hHNWNiaUFnSUNBZ0lDQWdJQ0I5S1R0Y2JseHVJQ0FnSUNBZ0lDQjlLVHRjYmx4dUlDQjlYRzVjYmlBZ0x5b3FYRzRnSUNBcUlFZGxkSE1nWVd4c0lIUm9aU0J2WW1wbFkzUnpJR1p5YjIwZ2RHaGxJR1JoZEdGaVlYTmxMbHh1SUNBZ0tpOWNiaUFnYzNSaGRHbGpJR2RsZEVGc2JDQW9hVzVrWlhnc0lHOXlaR1Z5S1NCN1hHNWNiaUFnSUNCcFppQW9kR2hwY3lCcGJuTjBZVzVqWlc5bUlFMXZaR1ZzS1Z4dUlDQWdJQ0FnVUhKdmJXbHpaUzV5WldwbFkzUW9YQ0pEWVc0bmRDQmpZV3hzSUdkbGRFRnNiQ0J2YmlCTmIyUmxiQ0JrYVhKbFkzUnNlUzRnU1c1b1pYSnBkQ0JtYVhKemRDNWNJaWs3WEc1Y2JpQWdJQ0J5WlhSMWNtNGdSR0YwWVdKaGMyVkpibk4wWVc1alpTZ3BYRzVjYmlBZ0lDQWdJQ0FnTHk4Z1JHOGdkR2hsSUhGMVpYSjVMbHh1SUNBZ0lDQWdJQ0F1ZEdobGJpZ2daR0lnUFQ0Z1pHSXVaMlYwUVd4c0tIUm9hWE11YzNSdmNtVk9ZVzFsTENCcGJtUmxlQ3dnYjNKa1pYSXBJQ2xjYmx4dUlDQWdJQ0FnSUNBdkx5QlhjbUZ3SUdGc2JDQjBhR1VnY21WemRXeDBjeUJwYmlCMGFHVWdZMjl5Y21WamRDQmpiR0Z6Y3k1Y2JpQWdJQ0FnSUNBZ0xuUm9aVzRvSUhKbGMzVnNkSE1nUFQ0Z2UxeHVYRzRnSUNBZ0lDQWdJQ0FnY21WMGRYSnVJRU52Ym1acFowMWhibUZuWlhKSmJuTjBZVzVqWlNncExuUm9aVzRvSUdOdmJtWnBaMDFoYm1GblpYSWdQVDRnZTF4dVhHNGdJQ0FnSUNBZ0lDQWdJQ0IyWVhJZ2MzUnZjbVVnUFNCamIyNW1hV2ROWVc1aFoyVnlMbWRsZEZOMGIzSmxLSFJvYVhNdWMzUnZjbVZPWVcxbEtUdGNiaUFnSUNBZ0lDQWdJQ0FnSUhaaGNpQnlaWE4xYkhSelh5QTlJRnRkTzF4dVhHNGdJQ0FnSUNBZ0lDQWdJQ0JtYjNJZ0tHeGxkQ0J5WlhOMWJIUWdiMllnY21WemRXeDBjeWtnZTF4dVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUhaaGNpQnJaWGtnUFNCeVpYTjFiSFF1YTJWNU8xeHVYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDOHZJRWxtSUhSb1pTQnpkRzl5WlNCMWMyVnpJR0VnYTJWNWNHRjBhQ0IwYUdWdUlISmxjMlYwWEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQzh2SUhSb1pTQnJaWGtnWW1GamF5QjBieUIxYm1SbFptbHVaV1F1WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJR2xtSUNoemRHOXlaUzV3Y205d1pYSjBhV1Z6TG10bGVWQmhkR2dwWEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnYTJWNUlEMGdkVzVrWldacGJtVmtPMXh1WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJSEpsYzNWc2RITmZMbkIxYzJnb2JtVjNJSFJvYVhNb2NtVnpkV3gwTG5aaGJIVmxMQ0JyWlhrcEtUdGNiaUFnSUNBZ0lDQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ0lDQWdJQ0FnY21WMGRYSnVJSEpsYzNWc2RITmZPMXh1WEc0Z0lDQWdJQ0FnSUNBZ2ZTazdYRzVjYmlBZ0lDQWdJQ0FnZlNrN1hHNWNiaUFnZlZ4dVhHNGdJSEIxZENBb0tTQjdYRzRnSUNBZ2NtVjBkWEp1SUhSb2FYTXVZMjl1YzNSeWRXTjBiM0l1Y0hWMEtIUm9hWE1wTzF4dUlDQjlYRzVjYmlBZ0x5b3FYRzRnSUNBcUlFVnBkR2hsY2lCcGJuTmxjblJ6SUc5eUlIVndaR0YwWlNCa1pYQmxibVJwYm1jZ2IyNGdkMmhsZEdobGNpQjBhR1VnYTJWNUlDOGdhMlY1VUdGMGFDQnBjeUJ6WlhRdVhHNGdJQ0FxSUVsbUlIUm9aU0JyWlhsUVlYUm9JR2x6SUhObGRDd2dZVzVrSUdFZ2NISnZjR1Z5ZEhrZ2IyWWdkR2hsSUhaaGJIVmxJRzFoZEdOb1pYTWdLR2x1TFd4cGJtVWdhMlY1S1Z4dUlDQWdLaUIwYUdWdUlIUm9aU0J2WW1wbFkzUWdhWE1nZFhCa1lYUmxaQzRnU1dZZ2RHaGxJR3RsZVZCaGRHZ2dhWE1nYm05MElITmxkQ0JoYm1RZ2RHaGxJSFpoYkhWbEozTWdhMlY1WEc0Z0lDQXFJR2x6SUc1MWJHd3NJSFJvWlc0Z2RHaGxJRzlpYW1WamRDQnBjeUJwYm5ObGNuUmxaQzRnU1dZZ2RHaGxJR3RsZVhCaGRHZ2dhWE1nYm05MElITmxkQ0JoYm1RZ2RHaGxYRzRnSUNBcUlIWmhiSFZsSjNNZ2EyVjVJR2x6SUhObGRDQjBhR1Z1SUhSb1pTQnZZbXBsWTNRZ2FYTWdkWEJrWVhSbFpDNWNiaUFnSUNvdlhHNGdJSE4wWVhScFl5QndkWFFnS0haaGJIVmxLU0I3WEc1Y2JpQWdJQ0JwWmlBb2RHaHBjeUJwYm5OMFlXNWpaVzltSUUxdlpHVnNLVnh1SUNBZ0lDQWdVSEp2YldselpTNXlaV3BsWTNRb1hDSkRZVzRuZENCallXeHNJSEIxZENCdmJpQk5iMlJsYkNCa2FYSmxZM1JzZVM0Z1NXNW9aWEpwZENCbWFYSnpkQzVjSWlrN1hHNWNiaUFnSUNCeVpYUjFjbTRnUkdGMFlXSmhjMlZKYm5OMFlXNWpaU2dwWEc1Y2JpQWdJQ0FnSUNBZ0x5OGdSRzhnZEdobElIRjFaWEo1TGx4dUlDQWdJQ0FnSUNBdWRHaGxiaWdnWkdJZ1BUNGdaR0l1Y0hWMEtDQjBhR2x6TG5OMGIzSmxUbUZ0WlN3Z2RtRnNkV1VzSUhaaGJIVmxMbXRsZVNBcElDbGNibHh1SUNBZ0lDQWdJQ0F1ZEdobGJpZ2dhMlY1SUQwK0lIdGNibHh1SUNBZ0lDQWdJQ0FnSUhKbGRIVnliaUJEYjI1bWFXZE5ZVzVoWjJWeVNXNXpkR0Z1WTJVb0tTNTBhR1Z1S0NCamIyNW1hV2ROWVc1aFoyVnlJRDArSUh0Y2JseHVJQ0FnSUNBZ0lDQWdJQ0FnTHk4Z1NXNXpaWEowYVc1bklHMWhlU0J3Y205MmFXUmxJR0VnYTJWNUxpQkpaaUIwYUdWeVpTQnBjeUJ1YnlCclpYbFFZWFJvSUhObGRGeHVJQ0FnSUNBZ0lDQWdJQ0FnTHk4Z2RHaGxJRzlpYW1WamRDQnVaV1ZrY3lCMGJ5QmlaU0IxY0dSaGRHVmtJSGRwZEdnZ1lTQnJaWGtnZG1Gc2RXVWdjMjhnYVhRZ1kyRnVYRzRnSUNBZ0lDQWdJQ0FnSUNBdkx5QmlaU0JoYkhSbGNtVmtJR0Z1WkNCellYWmxaQ0JoWjJGcGJpQjNhWFJvYjNWMElHTnlaV0YwYVc1bklHRWdibVYzSUhKbFkyOXlaQzVjYmlBZ0lDQWdJQ0FnSUNBZ0lIWmhjaUJ6ZEc5eVpTQTlJR052Ym1acFowMWhibUZuWlhJdVoyVjBVM1J2Y21Vb0lIUm9hWE11YzNSdmNtVk9ZVzFsSUNrN1hHNWNiaUFnSUNBZ0lDQWdJQ0FnSUhaaGNpQnJaWGxRWVhSb0lEMWNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQnpkRzl5WlM1d2NtOXdaWEowYVdWekxtdGxlVkJoZEdnN1hHNWNiaUFnSUNBZ0lDQWdJQ0FnSUdsbUlDZ2hhMlY1VUdGMGFDbGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ2RtRnNkV1V1YTJWNUlEMGdhMlY1TzF4dVhHNGdJQ0FnSUNBZ0lDQWdJQ0J5WlhSMWNtNGdkbUZzZFdVN1hHNWNiaUFnSUNBZ0lDQWdJQ0I5S1Z4dVhHNGdJQ0FnSUNBZ0lIMHBPMXh1WEc0Z0lIMWNibHh1SUNCemRHRjBhV01nWkdWc1pYUmxRV3hzSUNncElIdGNibHh1SUNBZ0lHbG1JQ2gwYUdseklHbHVjM1JoYm1ObGIyWWdUVzlrWld3cFhHNGdJQ0FnSUNCUWNtOXRhWE5sTG5KbGFtVmpkQ2hjSWtOaGJpZDBJR05oYkd3Z1pHVnNaWFJsUVd4c0lHOXVJRTF2WkdWc0lHUnBjbVZqZEd4NUxpQkpibWhsY21sMElHWnBjbk4wTGx3aUtUdGNibHh1SUNBZ0lISmxkSFZ5YmlCRVlYUmhZbUZ6WlVsdWMzUmhibU5sS0NsY2JseHVJQ0FnSUNBZ0lDQXVkR2hsYmlnZ1pHSWdQVDRnWkdJdVpHVnNaWFJsUVd4c0tDQjBhR2x6TG5OMGIzSmxUbUZ0WlNBcElDbGNibHh1SUNBZ0lDQWdJQ0F1WTJGMFkyZ29JR1VnUFQ0Z2UxeHVJQ0FnSUNBZ0lDQWdJQzh2SUVsMElHMWhlU0JpWlNCMGFHRjBJSFJvWlNCemRHOXlaU0JrYjJWemJpZDBJR1Y0YVhOMElIbGxkQ3dnYzI4Z2NtVnNZWGdnWm05eUlIUm9ZWFFnYjI1bExseHVJQ0FnSUNBZ0lDQWdJR2xtSUNobExtNWhiV1VnSVQwOUlDZE9iM1JHYjNWdVpFVnljbTl5SnlsY2JpQWdJQ0FnSUNBZ0lDQWdJSFJvY205M0lHVTdYRzRnSUNBZ0lDQWdJSDBwTzF4dVhHNGdJSDFjYmx4dUlDQmtaV3hsZEdVZ0tDa2dlMXh1SUNBZ0lISmxkSFZ5YmlCMGFHbHpMbU52Ym5OMGNuVmpkRzl5TG1SbGJHVjBaU2gwYUdsektUdGNiaUFnZlZ4dVhHNGdJSE4wWVhScFl5QmtaV3hsZEdVZ0tIWmhiSFZsS1NCN1hHNWNiaUFnSUNCcFppQW9kR2hwY3lCcGJuTjBZVzVqWlc5bUlFMXZaR1ZzS1Z4dUlDQWdJQ0FnVUhKdmJXbHpaUzV5WldwbFkzUW9YQ0pEWVc0bmRDQmpZV3hzSUdSbGJHVjBaU0J2YmlCTmIyUmxiQ0JrYVhKbFkzUnNlUzRnU1c1b1pYSnBkQ0JtYVhKemRDNWNJaWs3WEc1Y2JpQWdJQ0J5WlhSMWNtNGdRMjl1Wm1sblRXRnVZV2RsY2tsdWMzUmhibU5sS0NrdWRHaGxiaWdnWTI5dVptbG5UV0Z1WVdkbGNpQTlQaUI3WEc1Y2JpQWdJQ0FnSUM4dklFbG1JSEJoYzNObFpDQjBhR1VnWm5Wc2JDQnZZbXBsWTNRZ2RHOGdaR1ZzWlhSbElIUm9aVzVjYmlBZ0lDQWdJQzh2SUdkeVlXSWdhWFJ6SUd0bGVTQm1iM0lnZEdobElHUmxiR1YwWlZ4dUlDQWdJQ0FnYVdZZ0tIWmhiSFZsSUdsdWMzUmhibU5sYjJZZ2RHaHBjeWtnZTF4dVhHNGdJQ0FnSUNBZ0lIWmhjaUJ6ZEc5eVpTQTlJR052Ym1acFowMWhibUZuWlhJdVoyVjBVM1J2Y21Vb0lIUm9hWE11YzNSdmNtVk9ZVzFsSUNrN1hHNGdJQ0FnSUNBZ0lIWmhjaUJyWlhsUVlYUm9JRDBnYzNSdmNtVXVjSEp2Y0dWeWRHbGxjeTVyWlhsUVlYUm9PMXh1WEc0Z0lDQWdJQ0FnSUdsbUlDaHJaWGxRWVhSb0tWeHVJQ0FnSUNBZ0lDQWdJSFpoYkhWbElEMGdkbUZzZFdWYmEyVjVVR0YwYUYwN1hHNGdJQ0FnSUNBZ0lHVnNjMlZjYmlBZ0lDQWdJQ0FnSUNCMllXeDFaU0E5SUhaaGJIVmxMbXRsZVR0Y2JpQWdJQ0FnSUgxY2JseHVJQ0FnSUNBZ2NtVjBkWEp1SUVSaGRHRmlZWE5sU1c1emRHRnVZMlVvS1Z4dVhHNGdJQ0FnSUNBZ0lDNTBhR1Z1S0NCa1lpQTlQaUJrWWk1a1pXeGxkR1VvSUhSb2FYTXVjM1J2Y21WT1lXMWxMQ0IyWVd4MVpTQXBJQ2s3WEc1Y2JpQWdJQ0I5S1R0Y2JpQWdmVnh1ZlZ4dUlsMTkiXX0=
